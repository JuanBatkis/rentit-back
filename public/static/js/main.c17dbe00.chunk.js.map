{"version":3,"sources":["reportWebVitals.js","hooks/useLocalStorage.js","services/auth.js","hooks/authContext.js","components/CustomHeader.js","components/LayoutApp.js","components/PrivateRoute.js","components/LoggedOutRoute.js","services/products.js","components/ProductCard.js","pages/Home.js","pages/Login.js","pages/Signup.js","components/DetailedRating.js","pages/profile-subroutes/Info.js","pages/profile-subroutes/Products.js","pages/profile-subroutes/AddProduct.js","pages/Profile.js","pages/Products.js","Router.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","useLocalStorage","initialValue","key","stored","localStorage","getItem","initial","JSON","parse","useState","value","setValue","useEffect","setItem","stringify","_axios","axios","create","baseURL","withCredentials","signupFn","user","post","loginFn","logoutFn","_","get","getCurrentUser","AuthContext","createContext","AuthProvider","props","setUser","a","data","notification","message","firstName","description","duration","style","borderRadius","response","push","getSession","Provider","login","logout","children","useAuthInfo","useContext","Search","Input","CustomHeader","visibleDrawer","setVisibleDrawer","visiblePopover","setVisiblePopover","confirm","Modal","closeDrawer","showPopover","visible","justify","align","span","type","onClick","size","MenuOutlined","placement","closable","onClose","closeIcon","PlusOutlined","rotate","theme","Item","to","alt","src","maxHeight","display","placeholder","allowClear","onSearch","console","log","width","paddingRight","title","lastName","content","icon","ExclamationCircleOutlined","maskClosable","onOk","trigger","onVisibleChange","avatar","cursor","background","alignItems","UserOutlined","fontSize","color","Header","Layout","Content","Footer","LayoutApp","headerStyle","useHistory","useLocation","pathname","position","className","textAlign","href","target","PrivateRoute","Component","component","rest","render","LoggedOutRoute","getAllProducts","limit","getUserProducts","userId","deleteProduct","productId","delete","Meta","Card","ProductCard","product","hoverable","cover","images","height","objectFit","padding","Image","name","priceDay","priceHour","Title","Typography","Home","products","setProducts","iframeRef","useRef","divRef","getProducts","id","offset","ref","opacity","frameBorder","onLoad","current","gutter","map","active","Text","Login","Form","useForm","form","xs","sm","md","lg","xl","xxl","gradients","property","element","angle","onFinish","userInfo","layout","label","Password","htmlType","block","shape","GoogleOutlined","FacebookOutlined","Signup","DetailedRating","rating","ratingsCount","one","two","three","four","five","allowHalf","disabled","defaultValue","total","mapboxgl","accessToken","process","Info","editableFirstName","setEditableFirstName","editableLasttName","setEditableLastName","storeName","editablestoreName","setEditablestoreName","phone","editablePhone","setEditablePhone","location","coordinates","mapContainer","mapSaving","setMapSaving","mapSavingIcon","setMapSavingIcon","mapSavingText","setMapSavingText","setMap","lng","setLng","lat","setLat","mapMoved","setMapMoved","Map","container","center","zoom","geocoder","MapboxGeocoder","marker","flyTo","speed","addControl","NavigationControl","Marker","draggable","setLngLat","addTo","on","e","getCenter","toFixed","remove","saveLocation","pointerEvents","patch","CheckOutlined","level","editable","onChange","showIcon","loading","danger","essential","_id","columns","dataIndex","text","price","category","prod","EditOutlined","onConfirm","deleteProductAndReload","okText","cancelText","DeleteOutlined","dataSource","Option","Select","labelCol","wrapperCol","tailLayout","getBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","AddProduct","previewVisible","setPreviewVisible","previewImage","setPreviewImage","previewTitle","setPreviewTitle","fileList","setFileList","setLoading","handleUpload","fdata","FormData","append","newFileList","uid","asset_id","original_filename","status","url","secure_url","handlePreview","preview","originFileObj","substring","lastIndexOf","uploadButton","LoadingOutlined","marginTop","values","image","initialValues","remember","onFinishFailed","errorInfo","rules","required","min","formatter","replace","parser","TextArea","maxLength","showCount","autoSize","minRows","maxRows","listType","beforeUpload","onPreview","method","onRemove","filter","length","footer","onCancel","Profile","path","useRouteMatch","sideMenu","link","renderItem","item","exact","Products","Panel","Collapse","receivedProducts","setReceivedProducts","setownerLocations","collapseOpen","setCollapseOpen","collapseText","setCollapseText","locations","owner","filteredLocations","thing","index","self","findIndex","t","GeolocateControl","positionOptions","enableHighAccuracy","showAccuracyCircle","showUserLocation","defaultActiveKey","bordered","ghost","header","flex","Router","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c17dbe00.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { useState, useEffect } from \"react\"\r\n\r\nfunction useLocalStorage(initialValue, key) {\r\n  const stored = localStorage.getItem(key)\r\n  const initial = stored ? JSON.parse(stored) : initialValue\r\n  const [value, setValue] = useState(initial)\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(key, JSON.stringify(value))\r\n  }, [value, key])\r\n\r\n  return [value, setValue]\r\n}\r\n\r\nexport default useLocalStorage","import axios from \"axios\"\r\n\r\nconst baseURL =\r\n  process.env.NODE_ENV === \"production\" ? \"/api/auth\" : \"http://localhost:3001/api/auth\"\r\n\r\nconst _axios = axios.create({\r\n  baseURL,\r\n  withCredentials: true\r\n})\r\n\r\nexport const signupFn = user => _axios.post(\"/signup\", user)\r\nexport const loginFn = user => _axios.post(\"/login\", user)\r\nexport const LocationFn = location => _axios.patch(\"/location/change\", location)\r\nexport const logoutFn = _ => _axios.get(\"/logout\")\r\nexport const getCurrentUser = _ => _axios.get(\"/session\")","import { createContext, useEffect, useContext } from \"react\"\r\nimport useLocalStorage from \"./useLocalStorage\"\r\nimport { getCurrentUser, loginFn, logoutFn } from \"../services/auth\"\r\nimport { notification } from \"antd\"\r\n\r\nconst AuthContext = createContext()\r\n\r\nexport const AuthProvider = props => {\r\n  // Un estado con el usuario en sesion (idealmente reflejado en LS(local storage))\r\n  const [user, setUser] = useLocalStorage(null, \"user\")\r\n\r\n  // Metodos para interactuar con el usuario (login, logout, revisar si hay sesion en el server)\r\n\r\n  async function login(user) {\r\n    try {\r\n      const { data } = await loginFn(user)\r\n      setUser(data)\r\n      notification['success']({\r\n        message: `Hello ${data.firstName}!`,\r\n        description: 'Thank you for logging in 🙌',\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  async function logout(push) {\r\n    push('/')\r\n    await logoutFn()\r\n    setUser(null)\r\n  }\r\n\r\n  useEffect(() => {\r\n    // preguntamos al backend si hay un user en sesion, de ser asi hacemos login de ese user\r\n    async function getSession() {\r\n      const { data } = await getCurrentUser()\r\n      if (data) {\r\n        setUser(data)\r\n      }\r\n    }\r\n\r\n    getSession()\r\n  }, [setUser])\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, login, logout }}>\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport const useAuthInfo = () => useContext(AuthContext)","import { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAuthInfo } from '../hooks/authContext'\r\nimport { Menu, Drawer, Button, Row, Col, Tooltip, Avatar, Popover, Modal, Input } from 'antd'\r\nimport { MenuOutlined, PlusOutlined, ShoppingCartOutlined, UserOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\r\n\r\nconst { Search } = Input;\r\n\r\nconst CustomHeader = ({push}) => {\r\n  const {user, logout} = useAuthInfo()\r\n  const [visibleDrawer, setVisibleDrawer] = useState(false)\r\n  const [visiblePopover, setVisiblePopover] = useState(false)\r\n  const { confirm } = Modal\r\n\r\n  const showDrawer = () => {\r\n    setVisibleDrawer(true)\r\n  }\r\n  const closeDrawer = () => {\r\n    setVisibleDrawer(false)\r\n  }\r\n\r\n  const showPopover = visible => {\r\n    setVisiblePopover(visible)\r\n  }\r\n\r\n  const showConfirm = () => {\r\n    showPopover(false)\r\n    confirm({\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: <h3>Are you sure you want to log out?</h3>,\r\n      maskClosable: true,\r\n      onOk() {\r\n        logout(push)\r\n      }\r\n    })\r\n  }\r\n\r\n  const onSearch = value => console.log(value)\r\n\r\n  return (\r\n    <Row justify=\"space-between\"  align=\"middle\">\r\n      <Col span={4}>\r\n        <Button type=\"text\" onClick={showDrawer} size={'large'}>\r\n          <MenuOutlined />\r\n        </Button>\r\n        <Drawer\r\n          placement=\"left\"\r\n          closable={true}\r\n          onClose={closeDrawer}\r\n          visible={visibleDrawer}\r\n          closeIcon={<PlusOutlined rotate={45} />}\r\n        >\r\n          <Menu theme=\"light\">\r\n            <Menu.Item key=\"1\" onClick={closeDrawer}>\r\n              <Link to='/products'>Products</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"2\" onClick={closeDrawer}>nav 2</Menu.Item>\r\n            <Menu.Item key=\"3\" onClick={closeDrawer}>nav 3</Menu.Item>\r\n          </Menu>\r\n        </Drawer>\r\n      </Col>\r\n      <Col span={4} align=\"middle\">\r\n        <Link to='/'>\r\n          <img\r\n            alt=\"RENTIT\"\r\n            src=\"https://res.cloudinary.com/djv6xyyqp/image/upload/v1614452197/rentit/images/rentit-logoRecurso_8_1x_dc0e8o.png\"\r\n            style={{maxHeight: '44px'}}\r\n          />\r\n        </Link>\r\n      </Col>\r\n      <Col span={4} align=\"right\" style={{display: 'flex'}}>\r\n        {/* <Tooltip placement=\"bottom\" title={'Cart'}>\r\n          <Link to='/cart'>\r\n            <ShoppingCartOutlined style={{fontSize: '1.6em', color: 'rgba(0, 0, 0, 0.85)', marginRight: '20px'}} />\r\n          </Link>\r\n        </Tooltip> */}\r\n        <Search placeholder=\"input search text\" allowClear onSearch={onSearch} style={{ width: 'calc(100% - 32px)', paddingRight: '10px' }} />\r\n        {user ? (\r\n          <Popover \r\n            placement=\"bottomRight\" \r\n            title={<span>{`${user.firstName}  ${user.lastName}`}</span>} \r\n            content={\r\n              <>\r\n                <Button  type=\"text\" onClick={() => showPopover(false)}>\r\n                  <Link to='/profile'>Profile</Link>\r\n                </Button>\r\n                <br/>\r\n                <Button  type=\"text\" onClick={showConfirm}>\r\n                  Log out\r\n                </Button>\r\n              </>\r\n            } \r\n            trigger=\"click\"\r\n            visible={visiblePopover}\r\n            onVisibleChange={showPopover}\r\n          >\r\n            {user.avatar ? (\r\n              <Avatar\r\n                src={user.avatar}\r\n                style={{cursor: 'pointer'}}\r\n              />\r\n            ) : (\r\n              <Avatar\r\n                style={{\r\n                  background: 'rgb(0,161,186)',\r\n                  background: 'linear-gradient(45deg, rgba(0,161,186,1) 0%, rgba(156,216,115,1) 100%)',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                {`${user.firstName[0]}${user.lastName[0]}`}\r\n              </Avatar>\r\n            )}\r\n          </Popover>\r\n        ) : (\r\n          <Tooltip placement=\"bottom\" title={'Login/Signup'}>\r\n            <Link to='/login' style={{display: 'flex', alignItems: 'center'}}>\r\n              <UserOutlined style={{fontSize: '1.6em', color: 'rgba(0, 0, 0, 0.85)'}} />\r\n            </Link>\r\n          </Tooltip>\r\n        )}\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default CustomHeader\r\n","import { useLocation, useHistory } from 'react-router-dom'\r\nimport CustomHeader from './CustomHeader'\r\nimport { Layout } from 'antd'\r\n\r\nconst { Header, Content, Footer } = Layout\r\n\r\nconst LayoutApp = ({children}) => {\r\n  const {push} = useHistory()\r\n  const location = useLocation()\r\n  let headerStyle\r\n\r\n  if (location.pathname === '/') {\r\n    headerStyle = {\r\n      /* background: 'rgba(255, 255, 255, 0.75)', */\r\n      position: 'absolute'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Layout className=\"layout\">\r\n      <Header style={headerStyle}>\r\n        <CustomHeader push={push} />\r\n      </Header>\r\n      <Content>\r\n        <div className=\"site-layout-content\">\r\n          {children}\r\n        </div>\r\n      </Content>\r\n      <Footer style={{ textAlign: 'center' }}>RENTIT ©2020 Created by <a href=\"https://github.com/JuanBatkis\" target=\"_blank\">Juan Batkis <span style={{fontSize: '1.2em'}}>👋</span></a></Footer>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default LayoutApp\r\n","import { Route, Redirect } from \"react-router-dom\"\r\nimport { useAuthInfo } from \"../hooks/authContext\"\r\nimport { notification } from 'antd'\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  const { user } = useAuthInfo()\r\n\r\n  const warnAndRedirect = () => {\r\n    notification['error']({\r\n      message: 'Something went wrong',\r\n      description: 'You must be logged in to access this section',\r\n      duration: 5,\r\n      style: {\r\n        borderRadius: '20px'\r\n      }\r\n    })\r\n\r\n    return <Redirect to='/login' />\r\n  }\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        user ? <Component {...props} /> : warnAndRedirect()\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default PrivateRoute","import { Route, Redirect } from \"react-router-dom\"\r\nimport { useAuthInfo } from \"../hooks/authContext\"\r\n\r\nconst LoggedOutRoute = ({ component: Component, ...rest }) => {\r\n  const { user } = useAuthInfo()\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        !user ? <Component {...props} /> : <Redirect to='/profile' />\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default LoggedOutRoute","import axios from \"axios\"\r\n\r\nconst baseURL =\r\n  process.env.NODE_ENV === \"production\" ? \"/api/product\" : \"http://localhost:3001/api/product\"\r\n\r\nconst _axios = axios.create({\r\n  baseURL,\r\n  withCredentials: true\r\n})\r\n\r\nexport const getAllProducts = limit => _axios.get(`/all/${limit}`)\r\nexport const getProductsByQuery = query => _axios.post(`/query`, query)\r\nexport const getProductById = productId => _axios.get(`/${productId}`)\r\nexport const getUserProducts = (userId, limit) => _axios.get(`/user/${userId}/${limit}`)\r\nexport const createProduct = product => _axios.post(\"/\", product)\r\nexport const updateProduct = (productId, updates) => _axios.patch(`/${productId}`, updates)\r\nexport const deleteProduct = productId => _axios.delete(`/${productId}`)","import { Col, Skeleton, Card } from 'antd'\r\n\r\nconst { Meta } = Card\r\n\r\nconst ProductCard = ({product}) => {\r\n  return (\r\n    <Col span={6}>\r\n      <Card\r\n        hoverable\r\n        cover={product.images[0] ? <img alt=\"product image\" src={product.images[0]} style={{height:'320px', objectFit: 'contain', padding: '1px'}} /> : <Skeleton.Image style={{height:'320px', width:'100%'}}/>}\r\n      >\r\n        <Meta title={product.name} description={product.priceDay ? `$${product.priceHour}/hr or $${product.priceDay}/day` : `$${product.priceHour}/hr`} />\r\n      </Card>\r\n    </Col>\r\n  )\r\n}\r\n\r\nexport default ProductCard\r\n","import React, { useRef, useEffect, useState } from 'react'\r\nimport { getAllProducts } from '../services/products'\r\nimport ProductCard from '../components/ProductCard'\r\nimport { Typography, Col, Row, Carousel, Button, Skeleton } from 'antd'\r\nimport { LeftOutlined, RightOutlined } from '@ant-design/icons'\r\n\r\nconst { Title } = Typography\r\n\r\nconst Home = () => {\r\n  const [products, setProducts] = useState(null)\r\n  const iframeRef = useRef()\r\n  const divRef = useRef()\r\n  const slider = useRef()\r\n\r\n  const showIframe = () => {\r\n    iframeRef.current.style.opacity = '1'\r\n    divRef.current.style.opacity = '0'\r\n  }\r\n\r\n  /* const buildSlider = (givenProducts) => {\r\n    let count = 0\r\n    let builtJSX\r\n    for (let index = 0; index < givenProducts.length; index = index + 5) {\r\n      builtJSX += (<div></div>)\r\n    }\r\n  } */\r\n\r\n  useEffect(() => {\r\n    async function getProducts() {\r\n      const {data:products} = await getAllProducts(4)\r\n      console.log(products.products);\r\n      setProducts(products.products)\r\n    }\r\n    getProducts()\r\n  }, [])\r\n  \r\n  const contentStyle = {\r\n    height: '160px',\r\n    color: '#fff',\r\n    lineHeight: '160px',\r\n    textAlign: 'center',\r\n    background: '#364d79',\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <section id='main-banner'>\r\n        <Row className='full-heigh' justify=\"center\" align=\"middle\">\r\n          <Col span={7} offset={2}>\r\n            <Title>\r\n              A new way to get what you need\r\n            </Title>\r\n          </Col>\r\n          <Col span={15} className='full-heigh iframe-container'>\r\n            <div\r\n              id='iframeCover'\r\n              ref={divRef}\r\n              style={{ opacity: '1' }}\r\n            ></div>\r\n            <iframe src='https://my.spline.design/floating-adbb8c927f6e8e69a180701a9fb2ad6c/'\r\n              frameBorder='0'\r\n              width='100%'\r\n              height='100%'\r\n              onLoad={showIframe}\r\n              ref={iframeRef}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </section>\r\n      <Row gutter={16} style={{padding: '20px'}} id='latest-prods'>\r\n        {products ? products.map(product => (\r\n          <ProductCard product={product} />\r\n        )) : <Skeleton active />}\r\n      </Row>\r\n      {/* <Row align=\"middle\">\r\n        <Col span={1} align=\"right\">\r\n          <Button type=\"text\" onClick={() => slider.current.prev()} size={'large'}>\r\n            <LeftOutlined />\r\n          </Button>\r\n        </Col>\r\n        <Col span={22}>\r\n          <Carousel ref={slider} dots={false}>\r\n            {products ? products.map(product => (\r\n\r\n            )) : <Skeleton active />}\r\n            <div>\r\n              <h3 style={contentStyle}>1</h3>\r\n            </div>\r\n            <div>\r\n              <h3 style={contentStyle}>2</h3>\r\n            </div>\r\n            <div>\r\n              <h3 style={contentStyle}>3</h3>\r\n            </div>\r\n            <div>\r\n              <h3 style={contentStyle}>4</h3>\r\n            </div>\r\n          </Carousel>\r\n        </Col>\r\n        <Col span={1}>\r\n          <Button type=\"text\" onClick={() => slider.current.next()} size={'large'}>\r\n            <RightOutlined />\r\n          </Button>\r\n        </Col>\r\n      </Row> */}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Home","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAuthInfo } from \"../hooks/authContext\"\r\n//import {  } from '../services/auth'\r\nimport { Form, Col, Row, Button, Input, Divider, Typography } from 'antd'\r\nimport { Gradient } from 'react-gradient'\r\nimport { GoogleOutlined, FacebookOutlined } from '@ant-design/icons'\r\n\r\nconst { Text } = Typography;\r\n\r\nconst Login = () => {\r\n  const [form] = Form.useForm()\r\n  const { login } = useAuthInfo()\r\n\r\n  const handleSubmit = (userInfo) => {\r\n    login(userInfo)\r\n  }\r\n\r\n  return (\r\n    <Row justify=\"center\" align=\"middle\" className=\"main-row auth-cont\">\r\n      <Col xs={22} sm={18} md={14} lg={10} xl={8} xxl={6}>\r\n        <div>\r\n          <Gradient\r\n            gradients={[\r\n              ['#00a1ba', '#9cd873'],\r\n            ]}\r\n            property=\"text\"\r\n            element=\"h1\"\r\n            angle=\"45deg\"\r\n            className=\"text ant-typography\"\r\n          >\r\n            Login\r\n          </Gradient>\r\n          <Form form={form} onFinish={handleSubmit} layout='vertical'>\r\n            <Form.Item name='email' label='Email:'>\r\n              <Input type='email' />\r\n            </Form.Item>\r\n            <Form.Item name='password' label='Password:'>\r\n              <Input.Password />\r\n            </Form.Item>\r\n            <Button type='primary' htmlType='submit' block size='large' shape=\"round\">\r\n              Log me in!\r\n            </Button>\r\n          </Form>\r\n          <Divider id=\"socialDivider\">Or connect with</Divider>\r\n          <Row justify=\"center\" align=\"middle\" className=\"socialLogin\">\r\n            <Col span={6} align=\"middle\">\r\n              <a href={process.env.NODE_ENV === \"production\" ? \"/api/auth/google\" : \"http://localhost:3001/api/auth/google\"}>\r\n                <GoogleOutlined />\r\n              </a>\r\n            </Col>\r\n            <Col span={6} align=\"middle\">\r\n              <a href={process.env.NODE_ENV === \"production\" ? \"/api/auth/facebook\" : \"http://localhost:3001/api/auth/facebook\"}>\r\n                <FacebookOutlined />\r\n              </a>\r\n            </Col>\r\n            <Col span={24} align=\"middle\" className=\"changeAuth\">\r\n              <Text>\r\n                Don't have an account? <Link to='/signup'>Sign up here!</Link>\r\n              </Text>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\r\nimport { Link, Redirect, useHistory } from 'react-router-dom'\r\nimport { signupFn } from \"../services/auth\"\r\nimport { Form, Col, Row, Button, Input, Divider, Typography, notification } from 'antd'\r\nimport { Gradient } from 'react-gradient'\r\nimport { GoogleOutlined, FacebookOutlined } from '@ant-design/icons'\r\n\r\nconst { Text } = Typography;\r\n\r\nconst Signup = () => {\r\n  const [form] = Form.useForm()\r\n  const {push} = useHistory()\r\n\r\n  async function handleSubmit(userInfo) {\r\n    try {\r\n      await signupFn(userInfo)\r\n      notification['success']({\r\n        message: 'Account created!',\r\n        description: `Hello ${userInfo.firstName} 👋. Please check your email to verify your account`,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n      push('/login')\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Row justify=\"center\" align=\"middle\" className=\"main-row auth-cont\">\r\n      <Col xs={22} sm={18} md={14} lg={10} xl={8} xxl={6}>\r\n        <div>\r\n          <Gradient\r\n            gradients={[\r\n              ['#00a1ba', '#9cd873'],\r\n            ]}\r\n            property=\"text\"\r\n            element=\"h1\"\r\n            angle=\"45deg\"\r\n            className=\"text ant-typography\"\r\n          >\r\n            Sign up\r\n          </Gradient>\r\n          <Form form={form} onFinish={handleSubmit} layout='vertical'>\r\n            <Form.Item name='email' label='Email:'>\r\n              <Input type='email' />\r\n            </Form.Item>\r\n            <Row gutter={6}>\r\n              <Col span={12}>\r\n                <Form.Item name='firstName' label='First name:'>\r\n                  <Input />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={12}>\r\n                <Form.Item name='lastName' label='Last name:'>\r\n                  <Input />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Form.Item name='storeName' label='Store name:'>\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item name='phone' label='Phone:'>\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item name='password' label='Password:'>\r\n              <Input.Password />\r\n            </Form.Item>\r\n            <Form.Item name='confirmPassword' label='Confirm password:'>\r\n              <Input.Password />\r\n            </Form.Item>\r\n            <Button type='primary' htmlType='submit' block size='large' shape=\"round\">\r\n              Sign me up!\r\n            </Button>\r\n          </Form>\r\n          <Divider id=\"socialDivider\">Or connect with</Divider>\r\n          <Row justify=\"center\" align=\"middle\" className=\"socialLogin\">\r\n            <Col span={6} align=\"middle\">\r\n              <a href=\"/api/auth/google\">\r\n                <GoogleOutlined />\r\n              </a>\r\n            </Col>\r\n            <Col span={6} align=\"middle\">\r\n              <a href=\"/api/auth/facebook\">\r\n                <FacebookOutlined />\r\n              </a>\r\n            </Col>\r\n            <Col span={24} align=\"middle\" className=\"changeAuth\">\r\n              <Text>\r\n                Already have an account? <Link to='/login'>Log in here!</Link>\r\n              </Text>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Signup\r\n","import { Rate, Typography } from 'antd'\r\n\r\nconst { Text } = Typography\r\n\r\nconst DetailedRating = ({ rating }) => {\r\n  const ratingsCount = rating.one + rating.two + rating.three + rating.four + rating.five\r\n\r\n  return (\r\n    <div>\r\n      <Rate allowHalf disabled defaultValue={rating.total} />\r\n      <Text>{ratingsCount === 1 ? ` (${ratingsCount} rating)` : ` (${ratingsCount} ratings)`}</Text>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DetailedRating\r\n","import { useState, useEffect, useRef } from 'react'\r\nimport { useAuthInfo } from '../../hooks/authContext'\r\nimport { LocationFn } from \"../../services/auth\"\r\nimport mapboxgl from 'mapbox-gl'\r\nimport 'mapbox-gl/dist/mapbox-gl.css'\r\nimport MapboxGeocoder from '@mapbox/mapbox-gl-geocoder'\r\nimport '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css'\r\nimport { Typography, Divider, Row, Col, Button, Space, Alert } from 'antd'\r\nimport { CheckOutlined } from '@ant-design/icons';\r\nimport { Gradient } from 'react-gradient'\r\nimport DetailedRating from '../../components/DetailedRating'\r\n\r\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_KEY\r\n\r\nconst { Title, Text } = Typography\r\n\r\nconst Info = () => {\r\n  const {user} = useAuthInfo()\r\n  const [editableFirstName, setEditableFirstName] = useState(user.firstName)\r\n  const [editableLasttName, setEditableLastName] = useState(user.lastName)\r\n  const [editablestoreName, setEditablestoreName] = useState(user.storeName)\r\n  const [editablePhone, setEditablePhone] = useState(user.phone)\r\n\r\n  console.log(user.location.coordinates);\r\n  const mapContainer = useRef()\r\n  const [mapSaving, setMapSaving] = useState(false)\r\n  const [mapSavingIcon, setMapSavingIcon] = useState(false)\r\n  const [mapSavingText, setMapSavingText] = useState('Save location')\r\n  const [map, setMap] = useState(null)\r\n  const [lng, setLng] = useState(user.location.coordinates ? user.location.coordinates[0] : -73.51822)\r\n  const [lat, setLat] = useState(user.location.coordinates ? user.location.coordinates[1] : 40.76127)\r\n  const [mapMoved, setMapMoved] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const map = new mapboxgl.Map({\r\n      container: mapContainer.current,\r\n      style: 'mapbox://styles/mapbox/streets-v11',\r\n      center: [lng, lat],\r\n      zoom: user.location.coordinates ? 12 : 4\r\n    })\r\n\r\n    const geocoder = new MapboxGeocoder({\r\n      accessToken: mapboxgl.accessToken,\r\n      mapboxgl: mapboxgl,\r\n      marker: false,\r\n      flyTo: {\r\n        speed: 2\r\n      }\r\n    })\r\n\r\n    map.addControl(geocoder)\r\n\r\n    // Add zoom and rotation controls to the map.\r\n    map.addControl(new mapboxgl.NavigationControl())\r\n\r\n    const marker = new mapboxgl.Marker({\r\n      draggable: true\r\n    })\r\n        .setLngLat([lng, lat])\r\n        .addTo(map)\r\n\r\n    map.on('movestart', function(e) {\r\n      marker.setLngLat(map.getCenter())\r\n    })\r\n    \r\n    map.on('move', function(e) {\r\n      marker.setLngLat(map.getCenter())\r\n    })\r\n    \r\n    map.on('moveend', function(e) {\r\n      console.log(map.getCenter());\r\n      if (map.getCenter().lng.toFixed(4) !== lng.toFixed(4) || map.getCenter().lat.toFixed(4) !== lat.toFixed(4)) {\r\n        setMapMoved(true)\r\n      }\r\n      setMapSavingIcon(false)\r\n      setMapSavingText('Save location')\r\n      marker.setLngLat(map.getCenter())\r\n    })\r\n\r\n    map.on(\"load\", () => {\r\n      setMap(map)\r\n    })\r\n\r\n    return () => map.remove()\r\n  }, [lng, lat])\r\n  \r\n  const returnToOriginalLocation = () => {\r\n    map.flyTo({\r\n      center: [lng, lat],\r\n      speed: 2,\r\n      essential: true // this animation is considered essential with respect to prefers-reduced-motion\r\n    })\r\n\r\n    setMapMoved(false)\r\n  }\r\n\r\n  const saveLocation = async () => {\r\n    mapContainer.current.style.pointerEvents = 'none'\r\n    mapContainer.current.style.opacity = 0.5\r\n    setMapSaving(true)\r\n    setMapSavingText('Saving location')\r\n    await LocationFn({lng: map.getCenter().lng, lat: map.getCenter().lat})\r\n    mapContainer.current.style.pointerEvents = 'all'\r\n    mapContainer.current.style.opacity = 1\r\n    setLng(map.getCenter().lng)\r\n    setLat(map.getCenter().lat)\r\n    setMapSaving(false)\r\n    setMapSavingIcon(<CheckOutlined />)\r\n    setMapSavingText('Saved location')\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className='user-info-header'>\r\n        <Gradient\r\n          gradients={[\r\n            ['#00a1ba', '#9cd873'],\r\n          ]}\r\n          property=\"text\"\r\n          element=\"h1\"\r\n          angle=\"45deg\"\r\n          className=\"text ant-typography\"\r\n        >\r\n          {`${editableFirstName} ${editableLasttName}`}\r\n        </Gradient>\r\n        <div className='user-score'>\r\n          <Title level={5}>User score:</Title>\r\n          <DetailedRating rating={user.rating} />\r\n        </div>\r\n      </div>\r\n      <Divider />\r\n      <Row gutter={16}>\r\n        <Col span={12}>\r\n          <Title level={2}>User info:</Title>\r\n          <Title level={4}>First name:</Title>\r\n          <Text editable={{ onChange: setEditableFirstName }}>{editableFirstName}</Text>\r\n          <Title level={4}>Last name:</Title>\r\n          <Text editable={{ onChange: setEditableLastName }}>{editableLasttName}</Text>\r\n          <Title level={4}>Store name:</Title>\r\n          <Text editable={{ onChange: setEditablestoreName }}>{editablestoreName}</Text>\r\n          <Title level={4}>Phone number:</Title>\r\n          <Text editable={{ onChange: setEditablePhone }}>{editablePhone}</Text>\r\n        </Col>\r\n        <Col span={12} className=\"location-container\">\r\n          {!user.location.coordinates && <Alert message=\"You won't me able to create products without saving a location\" type=\"warning\" showIcon />}\r\n          <div className=\"map-container\" ref={mapContainer} style={{height: '500px'}} />\r\n          <Space className=\"location-buttons\" style={mapMoved ? {opacity: 1, pointerEvents: 'all'} : {opacity: 0, pointerEvents: 'none'}}>\r\n            <Button type=\"primary\" shape=\"round\" size={'large'} loading={mapSaving} icon={mapSavingIcon} onClick={saveLocation}>\r\n              {mapSavingText}\r\n            </Button>\r\n            <Button danger shape=\"round\" size={'large'} onClick={returnToOriginalLocation}>\r\n              Restore location\r\n            </Button>\r\n          </Space>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Info\r\n","import { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAuthInfo } from '../../hooks/authContext'\r\nimport { getUserProducts } from '../../services/products'\r\nimport { deleteProduct } from '../../services/products'\r\nimport { Typography, Divider, Table, Space, Skeleton, Button, Tag, Popconfirm } from 'antd'\r\nimport { PlusOutlined, EditOutlined, DeleteOutlined } from '@ant-design/icons'\r\nimport { Gradient } from 'react-gradient'\r\nimport DetailedRating from '../../components/DetailedRating'\r\n\r\nconst { Title, Text } = Typography\r\n\r\nconst Info = () => {\r\n  const {user} = useAuthInfo()\r\n  const [products, setProducts] = useState(null)\r\n\r\n  async function getProducts() {\r\n    const {data:products} = await getUserProducts(user._id, 20)\r\n    setProducts(products.products)\r\n  }\r\n\r\n  async function deleteProductAndReload(id) {\r\n    await deleteProduct(id)\r\n    const {data:products} = await getUserProducts(user._id, 20)\r\n    setProducts(products.products)\r\n  }\r\n\r\n  useEffect(() => {\r\n    getProducts()\r\n  }, [])\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Name',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n      render: text => <a>{text}</a>,\r\n    },\r\n    {\r\n      title: 'Price hour',\r\n      dataIndex: 'priceHour',\r\n      key: 'priceHour',\r\n      render: price => `$${price}`,\r\n    },\r\n    {\r\n      title: 'Price day',\r\n      dataIndex: 'priceDay',\r\n      key: 'priceDay',\r\n      render: price => price ? `$${price}` : '-',\r\n    },\r\n    {\r\n      title: 'Category',\r\n      dataIndex: 'category',\r\n      key: 'category',\r\n      render: category => <Tag color=\"green\">{category}</Tag>\r\n    },\r\n    {\r\n      title: 'Description',\r\n      dataIndex: 'description',\r\n      key: 'description',\r\n    },\r\n    {\r\n      title: 'Rating',\r\n      dataIndex: 'rating',\r\n      key: 'rating',\r\n      render: rating => rating.total === 0 ? '-' : rating.total,\r\n    },\r\n    {\r\n      title: 'Action',\r\n      key: '_id',\r\n      align: 'center',\r\n      render: prod => {\r\n        console.log(prod._id);\r\n        return(\r\n          <Space size=\"middle\">\r\n            <Button type=\"link\" size={'large'}>\r\n              <EditOutlined />\r\n            </Button>\r\n            <Popconfirm\r\n              title=\"Are you sure to delete this product?\"\r\n              placement=\"topRight\"\r\n              onConfirm={() => deleteProductAndReload(prod._id)}\r\n              okText=\"Delete\"\r\n              cancelText=\"Cancel\"\r\n            >\r\n              <Button type=\"link\" danger size={'large'}>\r\n                <DeleteOutlined />\r\n              </Button>\r\n            </Popconfirm>\r\n          </Space>\r\n        )\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <div className='user-info-header'>\r\n        <Space size=\"middle\">\r\n          <Gradient\r\n            gradients={[\r\n              ['#00a1ba', '#9cd873'],\r\n            ]}\r\n            property=\"text\"\r\n            element=\"h1\"\r\n            angle=\"45deg\"\r\n            className=\"text ant-typography\"\r\n          >\r\n            Products\r\n          </Gradient>\r\n          {user.location.coordinates ? (\r\n            <Button type=\"primary\" icon={<PlusOutlined />} size={'large'} shape=\"round\">\r\n              <Link to='/profile/products/add' style={{color: '#fff'}}>Add new</Link>\r\n            </Button>\r\n          ) : (\r\n            <Button type=\"primary\" disabled size={'large'} shape=\"round\">\r\n              Save your location to add products\r\n            </Button>\r\n          )}\r\n        </Space>\r\n      </div>\r\n      <Divider />\r\n      {products ? <Table dataSource={products} columns={columns} /> : <Skeleton active />}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Info\r\n","import { useState } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport axios from \"axios\"\r\nimport { createProduct } from '../../services/products'\r\nimport { Form, Input, Button, Select, Row, Col, InputNumber, Space, Upload, Modal, notification } from 'antd'\r\nimport { PlusOutlined, LoadingOutlined } from '@ant-design/icons'\r\n\r\nconst { Option } = Select\r\n\r\nconst layout = {\r\n  labelCol: { span: 8 },\r\n  wrapperCol: { span: 24 },\r\n}\r\nconst tailLayout = {\r\n  wrapperCol: { offset: 0, span: 16 },\r\n}\r\n\r\nfunction getBase64(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = error => reject(error);\r\n  });\r\n}\r\n\r\nconst AddProduct = () => {\r\n  const [previewVisible, setPreviewVisible] = useState(false)\r\n  const [previewImage, setPreviewImage] = useState('')\r\n  const [previewTitle, setPreviewTitle] = useState('')\r\n  const [fileList, setFileList] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const {push} = useHistory()\r\n\r\n  const handleCancel = () => setPreviewVisible(false)\r\n\r\n  const handleUpload = async file => {\r\n    const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png' || file.type === 'image/webp';\r\n    if (!isJpgOrPng) {\r\n      return (notification['error']({\r\n        message: 'Something went wrong',\r\n        description: 'You can only upload a JPG/PNG/WEBP file!',\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      }))\r\n    }\r\n    const isLt2M = file.size / 1024 / 1024 < 2;\r\n    if (!isLt2M) {\r\n      return (notification['error']({\r\n        message: 'Something went wrong',\r\n        description: 'Image must smaller than 2MB!',\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      }))\r\n    }\r\n\r\n    const fdata = new FormData()\r\n    fdata.append(\"file\", file)\r\n    const cloudinaryApi = \"https://api.cloudinary.com/v1_1/djv6xyyqp/image/upload\"\r\n    fdata.append(\"upload_preset\", \"rentit_product\")\r\n    setLoading(true)\r\n    const { data } = await axios.post(cloudinaryApi, fdata)\r\n  \r\n    let newFileList = fileList\r\n    newFileList.push(\r\n      {\r\n        uid: data.asset_id,\r\n        name: data.original_filename,\r\n        status: 'done',\r\n        url: data.secure_url,\r\n      }\r\n    )\r\n    setFileList(newFileList)\r\n    setLoading(false)\r\n  }\r\n\r\n  const handleDelete = (file) => {\r\n    console.log('hey');\r\n    console.log(file);\r\n    console.log(fileList);\r\n    const newFileList = fileList.filter(image => image.uid !== file.uid)\r\n    console.log(newFileList);\r\n    setFileList(newFileList)\r\n  }\r\n\r\n  const handlePreview = async file => {\r\n    if (!file.url && !file.preview) {\r\n      file.preview = await getBase64(file.originFileObj);\r\n    }\r\n\r\n    setPreviewImage(file.url || file.preview)\r\n    setPreviewVisible(true)\r\n    setPreviewTitle(file.name || file.url.substring(file.url.lastIndexOf('/') + 1))\r\n  }\r\n\r\n  const uploadButton = (\r\n    <div>\r\n      {loading ? <LoadingOutlined /> : <PlusOutlined />}\r\n      <div style={{ marginTop: 8 }}>Upload</div>\r\n    </div>\r\n  )\r\n\r\n  const onFinish = async (values) => {\r\n    values.images = fileList.map(image => image.url)\r\n    console.log('Success:', values);\r\n    try {\r\n      await createProduct(values)\r\n      notification['success']({\r\n        message: 'Product created!',\r\n        description: `${values.name} has been added successfully to your available rentals 🎉`,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n      push('/profile/products')\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const onFinishFailed = (errorInfo) => {\r\n    console.log('Failed:', errorInfo);\r\n  }\r\n\r\n  return (\r\n    <Form\r\n      {...layout}\r\n      name=\"basic\"\r\n      initialValues={{ remember: true }}\r\n      onFinish={onFinish}\r\n      onFinishFailed={onFinishFailed}\r\n      layout='vertical'\r\n    >\r\n      <Form.Item\r\n        label=\"Product name:\"\r\n        name=\"name\"\r\n        rules={[{ required: true, message: 'Please input the product name!' }]}\r\n      >\r\n        <Input size=\"large\" />\r\n      </Form.Item>\r\n\r\n      <Row gutter={6}>\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Price per hour:\"\r\n            name=\"priceHour\"\r\n            rules={[{ required: true, message: 'Please input the price per hour!' }]}\r\n          >\r\n            <InputNumber\r\n              defaultValue={1}\r\n              min={0}\r\n              formatter={value => `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n              parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n              style={{ width: '100%' }}\r\n            />\r\n          </Form.Item>  \r\n        </Col>\r\n        <Col span={12}>\r\n        <Form.Item\r\n            label=\"Price per day:\"\r\n            name=\"priceDay\"\r\n          >\r\n            <InputNumber\r\n              min={0}\r\n              formatter={value => `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n              parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n              style={{ width: '100%' }}\r\n            />\r\n          </Form.Item> \r\n        </Col>\r\n      </Row>\r\n\r\n      <Form.Item\r\n        label=\"Category\"\r\n        name=\"category\"\r\n        rules={[{ required: true, message: 'Please select a category!' }]}\r\n      >\r\n        <Select placeholder=\"Please select a category\">\r\n          <Option value=\"tools\">Tools</Option>\r\n          <Option value=\"technology\">Technology</Option>\r\n          <Option value=\"vehicles\">Vehicles</Option>\r\n          <Option value=\"sports\">Sports</Option>\r\n          <Option value=\"other\">Other</Option>\r\n        </Select>\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        name=\"description\"\r\n        label=\"Description\"\r\n        rules={[{ required: true, message: 'Please input a description!' }]}\r\n      >\r\n        <Input.TextArea\r\n          maxLength={2000}\r\n          showCount={true}\r\n          autoSize={{ minRows: 3, maxRows: 8 }}\r\n        />\r\n      </Form.Item>\r\n\r\n      <Upload\r\n        //action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n        listType=\"picture-card\"\r\n        fileList={fileList}\r\n        beforeUpload={handleUpload}\r\n        onPreview={handlePreview}\r\n        method='get'\r\n        onRemove={handleDelete}\r\n      >\r\n        {fileList.length >= 8 ? null : uploadButton}\r\n      </Upload>\r\n      <Modal\r\n        visible={previewVisible}\r\n        title={previewTitle}\r\n        footer={null}\r\n        onCancel={handleCancel}\r\n      >\r\n        <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n      </Modal>\r\n\r\n      <Form.Item {...tailLayout}>\r\n        <Space size=\"middle\">\r\n          <Button type=\"primary\" htmlType=\"submit\" size={'large'} shape=\"round\">\r\n            Create\r\n          </Button>\r\n          <Button danger size={'large'} shape=\"round\">\r\n            <Link to='/profile/products/'>Cancel</Link>\r\n          </Button>\r\n        </Space>\r\n      </Form.Item>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default AddProduct\r\n","import { Switch, Route, useRouteMatch, Link } from 'react-router-dom'\r\nimport Info from './profile-subroutes/Info'\r\nimport Products from './profile-subroutes/Products'\r\nimport AddProduct from './profile-subroutes/AddProduct'\r\nimport { useAuthInfo } from '../hooks/authContext'\r\nimport { Row, Col, Avatar, List, Button } from 'antd'\r\n\r\n\r\nconst Profile = () => {\r\n  const {path} = useRouteMatch()\r\n  const {user} = useAuthInfo()\r\n\r\n  const sideMenu = [\r\n    {title: 'User info', link: path},\r\n    {title: 'My rents', link: `${path}/rents`},\r\n    {title: 'My questions', link: `${path}/questions`},\r\n    {title: 'My products', link: `${path}/products`}\r\n  ]\r\n\r\n  return (\r\n    <Row gutter={16} justify=\"center\" className=\"main-row profile-row\">\r\n      <Col xs={8} xl={6}>\r\n        <div className='profile-cont side-menu-cont'>\r\n          {user.avatar ? (\r\n            <Avatar\r\n              size={150}\r\n              src={user.avatar}\r\n              style={{cursor: 'pointer'}}\r\n            />\r\n          ) : (\r\n            <Avatar\r\n              size={150}\r\n              style={{\r\n                background: 'rgb(0,161,186)',\r\n                background: 'linear-gradient(45deg, rgba(0,161,186,1) 0%, rgba(156,216,115,1) 100%)',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              {`${user.firstName[0]}${user.lastName[0]}`}\r\n            </Avatar>\r\n          )}\r\n          <List\r\n            size=\"small\"\r\n            dataSource={sideMenu}\r\n            renderItem={item => (\r\n              <List.Item>\r\n                <Button type=\"text\" size=\"large\">\r\n                  <Link to={item.link}>{item.title}</Link>\r\n                </Button>\r\n              </List.Item>\r\n            )}\r\n          />\r\n        </div>\r\n      </Col>\r\n      <Col xs={16} xl={14}>\r\n        <div className='profile-cont info-cont'>\r\n          <Switch>\r\n            <Route component={Info} path={path} exact />\r\n            <Route component={() => 'Rents'} path={`${path}/rents`} />\r\n            <Route component={() => 'Questions'} path={`${path}/questions`} />\r\n            <Route component={Products} path={`${path}/products`} exact />\r\n            <Route component={AddProduct} path={`${path}/products/add`} />\r\n          </Switch>\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Profile\r\n","import { useState, useEffect, useRef } from 'react'\r\nimport { useAuthInfo } from '../hooks/authContext'\r\nimport { getAllProducts } from '../services/products'\r\nimport { getProductsByQuery } from '../services/products'\r\nimport ProductCard from '../components/ProductCard'\r\nimport mapboxgl from 'mapbox-gl'\r\nimport 'mapbox-gl/dist/mapbox-gl.css'\r\nimport MapboxGeocoder from '@mapbox/mapbox-gl-geocoder'\r\nimport '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css'\r\nimport { Collapse, Row, Col, Pagination, Skeleton  } from 'antd'\r\n\r\nconst { Panel } = Collapse\r\n\r\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_KEY\r\n\r\nconst Products = () => {\r\n  const {user} = useAuthInfo()\r\n  const [receivedProducts, setReceivedProducts] = useState(null)\r\n  const [ownerLocations, setownerLocations] = useState(null)\r\n  const mapContainer = useRef()\r\n  const [map, setMap] = useState(null)\r\n  const [lng, setLng] = useState(user && user.location.coordinates ? user.location.coordinates[0] : -70.9)\r\n  const [lat, setLat] = useState(user && user.location.coordinates ? user.location.coordinates[1] : 42.35)\r\n  const [collapseOpen, setCollapseOpen] = useState(true)\r\n  const [collapseText, setCollapseText] = useState(<h3>Colse map</h3>)\r\n\r\n  useEffect(() => {\r\n    async function getProducts() {\r\n      /* const query = {\r\n        limit: 30,\r\n        category: null,\r\n        center: [lng, lat],\r\n        radious: 1\r\n      } */\r\n      const {data:products} = await getAllProducts()\r\n      setReceivedProducts(products.products)\r\n      const locations = products.products.map(product => product.owner)\r\n      const filteredLocations = locations.filter((thing, index, self) =>\r\n        self.findIndex(t => t._id === thing._id) === index\r\n      )\r\n      console.log(filteredLocations)\r\n      setownerLocations(filteredLocations)\r\n    }\r\n    getProducts()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const map = new mapboxgl.Map({\r\n      container: mapContainer.current,\r\n      style: 'mapbox://styles/mapbox/streets-v11',\r\n      center: [lng, lat],\r\n      zoom: 12\r\n    })\r\n\r\n    const geocoder = new MapboxGeocoder({\r\n      accessToken: mapboxgl.accessToken,\r\n      mapboxgl: mapboxgl,\r\n      marker: false,\r\n      flyTo: {\r\n        speed: 2\r\n      }\r\n    })\r\n    \r\n    map.addControl(geocoder)\r\n    \r\n    // Add zoom and rotation controls to the map.\r\n    map.addControl(new mapboxgl.NavigationControl())\r\n\r\n    // Add geolocate control to the map.\r\n    map.addControl(\r\n      new mapboxgl.GeolocateControl({\r\n        positionOptions: {\r\n          enableHighAccuracy: true\r\n        },\r\n        showAccuracyCircle: false,\r\n        showUserLocation: false\r\n      })\r\n    )\r\n\r\n    const marker = new mapboxgl.Marker({\r\n      draggable: true\r\n    })\r\n        .setLngLat([lng, lat])\r\n        .addTo(map)\r\n\r\n    map.on('movestart', function(e) {\r\n      marker.setLngLat(map.getCenter())\r\n    })\r\n    \r\n    map.on('move', function(e) {\r\n      marker.setLngLat(map.getCenter())\r\n    })\r\n    \r\n    map.on('moveend', function(e) {\r\n      marker.setLngLat(map.getCenter())\r\n    })\r\n\r\n    map.on(\"load\", () => {\r\n      setMap(map)\r\n    })\r\n\r\n    return () => map.remove()\r\n  }, [lng, lat])\r\n  \r\n  const returnToOriginalLocation = () => {\r\n    map.flyTo({\r\n      center: [lng, lat],\r\n      speed: 2,\r\n      essential: true // this animation is considered essential with respect to prefers-reduced-motion\r\n    })\r\n  }\r\n\r\n  const changeCollapseState = () => {\r\n    if (collapseOpen) {\r\n      setCollapseText(<h3>Open map</h3>)\r\n      setCollapseOpen(false)\r\n    } else {\r\n      setCollapseText(<h3>Close map</h3>)\r\n      setCollapseOpen(true)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Row gutter={16}>\r\n      <Col span={24}>\r\n        <Collapse defaultActiveKey={['1']} bordered={false} ghost onChange={changeCollapseState}>\r\n          <Panel header={collapseText} key=\"1\">\r\n            <div className=\"map-container\" ref={mapContainer} style={{height: '400px'}} />\r\n          </Panel>\r\n        </Collapse>\r\n      </Col>\r\n      <Col flex=\"220px\">\r\n        <h3>filters</h3>\r\n      </Col>\r\n      <Col flex=\"auto\">\r\n        <Row gutter={[16, 16]} style={{padding: '20px'}} id='latest-prods'>\r\n          {receivedProducts ? receivedProducts.map(product => (\r\n            <ProductCard product={product} />\r\n          )) : <Skeleton active />}\r\n        </Row>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Products\r\n","import {BrowserRouter, Switch, Route} from 'react-router-dom'\r\nimport LayoutApp from './components/LayoutApp'\r\nimport PrivateRoute from './components/PrivateRoute'\r\nimport LoggedOutRoute from './components/LoggedOutRoute'\r\nimport Home from './pages/Home'\r\nimport Login from './pages/Login'\r\nimport Signup from './pages/Signup'\r\nimport Profile from './pages/Profile'\r\nimport Products from './pages/Products'\r\n\r\nfunction Router() {\r\n  return (\r\n    <BrowserRouter>\r\n      <LayoutApp>\r\n        <Switch>\r\n          <Route component={Home} path='/' exact/>\r\n          <LoggedOutRoute component={Signup} path='/signup'/>\r\n          <LoggedOutRoute component={Login} path='/login'/>\r\n          <PrivateRoute component={Profile} path='/profile'/>\r\n          <Route component={Products} path='/products'/>\r\n        </Switch>\r\n      </LayoutApp>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\nexport default Router","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport reportWebVitals from './reportWebVitals'\nimport Router from './Router'\nimport 'antd/dist/antd.css'\nimport './index.scss'\nimport './styles/home.scss'\nimport './styles/auth.scss'\nimport './styles/profile.scss'\nimport { AuthProvider } from './hooks/authContext'\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthProvider>\n      <Router />\n    </AuthProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}