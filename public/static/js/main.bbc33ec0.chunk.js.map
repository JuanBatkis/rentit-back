{"version":3,"sources":["reportWebVitals.js","hooks/useLocalStorage.js","services/auth.js","hooks/authContext.js","components/CustomHeader.js","components/LayoutApp.js","components/PrivateRoute.js","components/LoggedOutRoute.js","services/products.js","components/ProductCard.js","pages/Home.js","pages/Login.js","pages/Signup.js","pages/Activate.js","components/DetailedRating.js","pages/profile-subroutes/Info.js","services/rents.js","pages/profile-subroutes/Rents.js","pages/profile-subroutes/Questions.js","pages/profile-subroutes/Products.js","pages/profile-subroutes/AddProduct.js","pages/Profile.js","pages/Products.js","services/questions.js","pages/Product.js","pages/PaymentSuccess.js","Router.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","useLocalStorage","initialValue","key","stored","localStorage","getItem","initial","JSON","parse","useState","value","setValue","useEffect","setItem","stringify","_axios","axios","create","baseURL","withCredentials","signupFn","user","post","loginFn","logoutFn","_","get","getCurrentUser","verifyFn","id","patch","AuthContext","createContext","AuthProvider","props","setUser","a","data","notification","message","firstName","description","duration","style","borderRadius","response","push","console","log","getSession","Provider","login","logout","children","useAuthInfo","useContext","Search","Input","CustomHeader","visibleDrawer","setVisibleDrawer","visiblePopover","setVisiblePopover","confirm","Modal","closeDrawer","showPopover","visible","justify","align","span","type","onClick","size","MenuOutlined","placement","closable","onClose","closeIcon","PlusOutlined","rotate","theme","Item","to","alt","src","maxHeight","display","placeholder","allowClear","onSearch","width","paddingRight","title","lastName","content","icon","ExclamationCircleOutlined","maskClosable","onOk","trigger","onVisibleChange","avatar","cursor","background","alignItems","UserOutlined","fontSize","color","Header","Layout","Content","Footer","LayoutApp","headerStyle","useHistory","useLocation","pathname","position","className","textAlign","href","target","PrivateRoute","Component","component","rest","render","LoggedOutRoute","getAllProducts","limit","getProductsByQuery","query","getProductById","productId","getUserProducts","userId","deleteProduct","delete","Meta","Card","ProductCard","product","slug","_id","name","replace","toLowerCase","hoverable","cover","images","height","objectFit","padding","Image","priceDay","priceHour","Title","Typography","Home","products","setProducts","iframeRef","useRef","divRef","getProducts","offset","ref","opacity","frameBorder","onLoad","current","gutter","map","active","Text","Login","Form","useForm","form","xs","sm","md","lg","xl","xxl","gradients","property","element","angle","onFinish","userInfo","layout","label","Password","htmlType","block","shape","GoogleOutlined","FacebookOutlined","Signup","Paragraph","antIcon","LoadingOutlined","spin","Activate","useParams","loading","setLoading","userName","setUserName","verifyUser","justifyContent","indicator","DetailedRating","rating","ratingsCount","one","two","three","four","five","allowHalf","disabled","defaultValue","total","mapboxgl","accessToken","workerClass","require","default","Info","editableFirstName","setEditableFirstName","editableLasttName","setEditableLastName","storeName","editablestoreName","setEditablestoreName","phone","editablePhone","setEditablePhone","mapContainer","mapSaving","setMapSaving","mapSavingIcon","setMapSavingIcon","mapSavingText","setMapSavingText","setMap","location","coordinates","lng","setLng","lat","setLat","mapMoved","setMapMoved","Map","container","center","zoom","geocoder","MapboxGeocoder","marker","flyTo","speed","addControl","NavigationControl","GeolocateControl","positionOptions","enableHighAccuracy","showAccuracyCircle","showUserLocation","Marker","draggable","setLngLat","addTo","on","e","getCenter","toFixed","remove","saveLocation","pointerEvents","CheckOutlined","level","editable","onChange","showIcon","danger","essential","getAllUserRents","role","getRentPreference","rentPreferenceInfo","createRent","rentInfo","TabPane","Tabs","Rents","rents","setRents","tab","setTab","getRents","renderDate","row","index","moment","format","columns","dataIndex","text","rentedTo","diff","rentedFrom","dataSource","Questions","filters","onFilter","record","indexOf","sorter","b","length","sortDirections","defaultSortOrder","age","filterMultiple","address","pagination","extra","price","category","prod","EditOutlined","onConfirm","deleteProductAndReload","okText","cancelText","DeleteOutlined","Option","Select","labelCol","wrapperCol","tailLayout","getBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","AddProduct","previewVisible","setPreviewVisible","previewImage","setPreviewImage","previewTitle","setPreviewTitle","fileList","setFileList","handleUpload","fdata","FormData","append","newFileList","uid","asset_id","original_filename","status","url","secure_url","handlePreview","preview","originFileObj","substring","lastIndexOf","uploadButton","marginTop","values","image","initialValues","remember","onFinishFailed","errorInfo","rules","required","min","formatter","parser","TextArea","maxLength","showCount","autoSize","minRows","maxRows","listType","beforeUpload","onPreview","method","onRemove","filter","footer","onCancel","Profile","path","useRouteMatch","sideMenu","link","renderItem","item","exact","Products","Panel","Collapse","receivedProducts","setReceivedProducts","radius","setRadius","collapseOpen","setCollapseOpen","collapseText","setCollapseText","longitude","latitude","givenRadius","getSource","setData","createGeoJSONCircle","updateLocation","addSource","addLayer","radiusInKm","isFirstDraw","points","theta","x","y","coords","km","ret","distanceX","Math","cos","PI","distanceY","i","sin","defaultActiveKey","bordered","ghost","header","wrap","flex","max","onAfterChange","step","createQuestion","question","RangePicker","DatePicker","Product","buyButtonRef","setProduct","questions","setQuestions","questionLoading","setQuestionLoading","hoursDisabled","setHoursDisabled","daysDisabled","setDaysDisabled","time","setTime","setRentedFrom","setRentedTo","setTotal","rentVisible","setRentVisible","preferenceId","setPreferenceId","cleanId","split","reverse","owner","dateString","input","currentTime","createPreference","productName","script","document","createElement","setAttribute","innerHTML","appendChild","clickedCreateRent","toDate","disabledDate","startOf","handleQuestionSubmit","RightOutlined","dashed","showTime","Button","marginBottom","singleQuestion","answer","PaymentSuccess","rent","setRent","preference_id","URLSearchParams","search","updateGivenRent","Router","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bbc33ec0.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { useState, useEffect } from \"react\"\r\n\r\nfunction useLocalStorage(initialValue, key) {\r\n  const stored = localStorage.getItem(key)\r\n  const initial = stored ? JSON.parse(stored) : initialValue\r\n  const [value, setValue] = useState(initial)\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(key, JSON.stringify(value))\r\n  }, [value, key])\r\n\r\n  return [value, setValue]\r\n}\r\n\r\nexport default useLocalStorage","import axios from \"axios\"\r\n\r\nconst baseURL =\r\n  process.env.NODE_ENV === \"production\" ? \"https://rentit-project.herokuapp.com/api/auth\" : \"http://localhost:3001/api/auth\"\r\n\r\nconst _axios = axios.create({\r\n  baseURL,\r\n  withCredentials: true\r\n})\r\n\r\nexport const signupFn = user => _axios.post(\"/signup\", user)\r\nexport const loginFn = user => _axios.post(\"/login\", user)\r\nexport const LocationFn = location => _axios.patch(\"/location/change\", location)\r\nexport const logoutFn = _ => _axios.get(\"/logout\")\r\nexport const getCurrentUser = _ => _axios.get(\"/session\")\r\nexport const verifyFn = id => _axios.patch(\"/verify\", id)","import { createContext, useEffect, useContext } from \"react\"\r\nimport useLocalStorage from \"./useLocalStorage\"\r\nimport { getCurrentUser, loginFn, logoutFn } from \"../services/auth\"\r\nimport { notification } from \"antd\"\r\n\r\nconst AuthContext = createContext()\r\n\r\nexport const AuthProvider = props => {\r\n  // Un estado con el usuario en sesion (idealmente reflejado en LS(local storage))\r\n  const [user, setUser] = useLocalStorage(null, \"user\")\r\n\r\n  // Metodos para interactuar con el usuario (login, logout, revisar si hay sesion en el server)\r\n\r\n  async function login(user) {\r\n    try {\r\n      const { data } = await loginFn(user)\r\n      setUser(data)\r\n      notification['success']({\r\n        message: `Hello ${data.firstName}!`,\r\n        description: 'Thank you for logging in ðŸ™Œ',\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  async function logout(push) {\r\n    try {\r\n      push('/')\r\n      await logoutFn()\r\n      setUser(null)\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    // preguntamos al backend si hay un user en sesion, de ser asi hacemos login de ese user\r\n    async function getSession() {\r\n      try {\r\n        const { data } = await getCurrentUser()\r\n        if (data) {\r\n          setUser(data)\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n\r\n    getSession()\r\n  }, [setUser])\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, login, logout, setUser }}>\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport const useAuthInfo = () => useContext(AuthContext)","import { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAuthInfo } from '../hooks/authContext'\r\nimport { Menu, Drawer, Button, Row, Col, Tooltip, Avatar, Popover, Modal, Input } from 'antd'\r\nimport { MenuOutlined, PlusOutlined, ShoppingCartOutlined, UserOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\r\n\r\nconst { Search } = Input;\r\n\r\nconst CustomHeader = ({push}) => {\r\n  const {user, logout} = useAuthInfo()\r\n  const [visibleDrawer, setVisibleDrawer] = useState(false)\r\n  const [visiblePopover, setVisiblePopover] = useState(false)\r\n  const { confirm } = Modal\r\n\r\n  const showDrawer = () => {\r\n    setVisibleDrawer(true)\r\n  }\r\n  const closeDrawer = () => {\r\n    setVisibleDrawer(false)\r\n  }\r\n\r\n  const showPopover = visible => {\r\n    setVisiblePopover(visible)\r\n  }\r\n\r\n  const showConfirm = () => {\r\n    showPopover(false)\r\n    confirm({\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: <h3>Are you sure you want to log out?</h3>,\r\n      maskClosable: true,\r\n      onOk() {\r\n        logout(push)\r\n      }\r\n    })\r\n  }\r\n\r\n  const onSearch = value => console.log(value)\r\n\r\n  return (\r\n    <Row justify=\"space-between\"  align=\"middle\">\r\n      <Col span={4}>\r\n        <Button type=\"text\" onClick={showDrawer} size={'large'}>\r\n          <MenuOutlined />\r\n        </Button>\r\n        <Drawer\r\n          placement=\"left\"\r\n          closable={true}\r\n          onClose={closeDrawer}\r\n          visible={visibleDrawer}\r\n          closeIcon={<PlusOutlined rotate={45} />}\r\n        >\r\n          <Menu theme=\"light\">\r\n            <Menu.Item key=\"1\" onClick={closeDrawer}>\r\n              <Link to='/products'>Products</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"2\" onClick={closeDrawer}>nav 2</Menu.Item>\r\n            <Menu.Item key=\"3\" onClick={closeDrawer}>nav 3</Menu.Item>\r\n          </Menu>\r\n        </Drawer>\r\n      </Col>\r\n      <Col span={4} align=\"middle\">\r\n        <Link to='/'>\r\n          <img\r\n            alt=\"RENTIT\"\r\n            src=\"https://res.cloudinary.com/djv6xyyqp/image/upload/v1614452197/rentit/images/rentit-logoRecurso_8_1x_dc0e8o.png\"\r\n            style={{maxHeight: '44px'}}\r\n          />\r\n        </Link>\r\n      </Col>\r\n      <Col span={4} align=\"right\" style={{display: 'flex'}}>\r\n        {/* <Tooltip placement=\"bottom\" title={'Cart'}>\r\n          <Link to='/cart'>\r\n            <ShoppingCartOutlined style={{fontSize: '1.6em', color: 'rgba(0, 0, 0, 0.85)', marginRight: '20px'}} />\r\n          </Link>\r\n        </Tooltip> */}\r\n        <Search placeholder=\"input search text\" allowClear onSearch={onSearch} style={{ width: 'calc(100% - 32px)', paddingRight: '10px' }} />\r\n        {user ? (\r\n          <Popover \r\n            placement=\"bottomRight\" \r\n            title={<span>{`${user.firstName}  ${user.lastName}`}</span>} \r\n            content={\r\n              <>\r\n                <Button  type=\"text\" onClick={() => showPopover(false)}>\r\n                  <Link to='/profile'>Profile</Link>\r\n                </Button>\r\n                <br/>\r\n                <Button  type=\"text\" onClick={showConfirm}>\r\n                  Log out\r\n                </Button>\r\n              </>\r\n            } \r\n            trigger=\"click\"\r\n            visible={visiblePopover}\r\n            onVisibleChange={showPopover}\r\n          >\r\n            {user.avatar ? (\r\n              <Avatar\r\n                src={user.avatar}\r\n                style={{cursor: 'pointer'}}\r\n              />\r\n            ) : (\r\n              <Avatar\r\n                style={{\r\n                  background: 'rgb(0,161,186)',\r\n                  background: 'linear-gradient(45deg, rgba(0,161,186,1) 0%, rgba(156,216,115,1) 100%)',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                {`${user.firstName[0]}${user.lastName[0]}`}\r\n              </Avatar>\r\n            )}\r\n          </Popover>\r\n        ) : (\r\n          <Tooltip placement=\"bottom\" title={'Login/Signup'}>\r\n            <Link to='/login' style={{display: 'flex', alignItems: 'center'}}>\r\n              <UserOutlined style={{fontSize: '1.6em', color: 'rgba(0, 0, 0, 0.85)'}} />\r\n            </Link>\r\n          </Tooltip>\r\n        )}\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default CustomHeader\r\n","import { useLocation, useHistory } from 'react-router-dom'\r\nimport CustomHeader from './CustomHeader'\r\nimport { Layout } from 'antd'\r\n\r\nconst { Header, Content, Footer } = Layout\r\n\r\nconst LayoutApp = ({children}) => {\r\n  const {push} = useHistory()\r\n  const location = useLocation()\r\n  let headerStyle\r\n\r\n  if (location.pathname === '/') {\r\n    headerStyle = {\r\n      /* background: 'rgba(255, 255, 255, 0.75)', */\r\n      position: 'absolute'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Layout className=\"layout\">\r\n      <Header style={headerStyle}>\r\n        <CustomHeader push={push} />\r\n      </Header>\r\n      <Content>\r\n        <div className=\"site-layout-content\">\r\n          {children}\r\n        </div>\r\n      </Content>\r\n      <Footer style={{ textAlign: 'center' }}>RENTIT Â©2020 Created by <a href=\"https://github.com/JuanBatkis\" target=\"_blank\">Juan Batkis <span style={{fontSize: '1.2em'}}>ðŸ‘‹</span></a></Footer>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default LayoutApp\r\n","import { Route, Redirect } from \"react-router-dom\"\r\nimport { useAuthInfo } from \"../hooks/authContext\"\r\nimport { notification } from 'antd'\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  const { user } = useAuthInfo()\r\n\r\n  const warnAndRedirect = () => {\r\n    notification['error']({\r\n      message: 'Something went wrong',\r\n      description: 'You must be logged in to access this section',\r\n      duration: 5,\r\n      style: {\r\n        borderRadius: '20px'\r\n      }\r\n    })\r\n\r\n    return <Redirect to='/login' />\r\n  }\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        user ? <Component {...props} /> : warnAndRedirect()\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default PrivateRoute","import { Route, Redirect } from \"react-router-dom\"\r\nimport { useAuthInfo } from \"../hooks/authContext\"\r\n\r\nconst LoggedOutRoute = ({ component: Component, ...rest }) => {\r\n  const { user } = useAuthInfo()\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        !user ? <Component {...props} /> : <Redirect to='/profile' />\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default LoggedOutRoute","import axios from \"axios\"\r\n\r\nconst baseURL =\r\n  process.env.NODE_ENV === \"production\" ? \"https://rentit-project.herokuapp.com/api/product\" : \"http://localhost:3001/api/product\"\r\n\r\nconst _axios = axios.create({\r\n  baseURL,\r\n  withCredentials: true\r\n})\r\n\r\nexport const getAllProducts = limit => _axios.get(`/all/${limit}`)\r\nexport const getProductsByQuery = query => _axios.post(`/query`, query)\r\nexport const getProductById = productId => _axios.get(`/${productId}`)\r\nexport const getUserProducts = (userId, limit) => _axios.get(`/user/${userId}/${limit}`)\r\nexport const createProduct = product => _axios.post(\"/\", product)\r\nexport const updateProduct = (productId, updates) => _axios.patch(`/${productId}`, updates)\r\nexport const deleteProduct = productId => _axios.delete(`/${productId}`)","import { Link } from 'react-router-dom'\r\nimport { Col, Skeleton, Card } from 'antd'\r\n\r\nconst { Meta } = Card\r\n\r\nconst ProductCard = ({product}) => {\r\n  const slug = `${product._id}-${product.name.replace(/\\s+/g, '-').toLowerCase()}`\r\n  return (\r\n    <Col span={6}>\r\n      <Link to={`/product/${slug}`}>\r\n        <Card\r\n          hoverable\r\n          cover={product.images[0] ? <img alt=\"product image\" src={product.images[0]} style={{height:'320px', objectFit: 'contain', padding: '1px'}} /> : <Skeleton.Image style={{height:'320px', width:'100%'}}/>}\r\n        >\r\n          <Meta title={product.name} description={product.priceDay ? `$${product.priceHour}/hr or $${product.priceDay}/day` : `$${product.priceHour}/hr`} />\r\n        </Card>\r\n      </Link>\r\n    </Col>\r\n  )\r\n}\r\n\r\nexport default ProductCard\r\n","import React, { useRef, useEffect, useState } from 'react'\r\nimport { getAllProducts } from '../services/products'\r\nimport ProductCard from '../components/ProductCard'\r\nimport { Typography, Col, Row, Carousel, Button, Skeleton } from 'antd'\r\nimport { LeftOutlined, RightOutlined } from '@ant-design/icons'\r\n\r\nconst { Title } = Typography\r\n\r\nconst Home = () => {\r\n  const [products, setProducts] = useState(null)\r\n  const iframeRef = useRef()\r\n  const divRef = useRef()\r\n  const slider = useRef()\r\n\r\n  const showIframe = () => {\r\n    iframeRef.current.style.opacity = '1'\r\n    divRef.current.style.opacity = '0'\r\n  }\r\n\r\n  /* const buildSlider = (givenProducts) => {\r\n    let count = 0\r\n    let builtJSX\r\n    for (let index = 0; index < givenProducts.length; index = index + 5) {\r\n      builtJSX += (<div></div>)\r\n    }\r\n  } */\r\n\r\n  useEffect(() => {\r\n    async function getProducts() {\r\n      try {\r\n        const {data:products} = await getAllProducts(4)\r\n        setProducts(products.products)\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n    getProducts()\r\n  }, [])\r\n  \r\n  const contentStyle = {\r\n    height: '160px',\r\n    color: '#fff',\r\n    lineHeight: '160px',\r\n    textAlign: 'center',\r\n    background: '#364d79',\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <section id='main-banner'>\r\n        <Row className='full-heigh' justify=\"center\" align=\"middle\">\r\n          <Col span={7} offset={2}>\r\n            <Title>\r\n              A new way to get what you need\r\n            </Title>\r\n          </Col>\r\n          <Col span={15} className='full-heigh iframe-container'>\r\n            <div\r\n              id='iframeCover'\r\n              ref={divRef}\r\n              style={{ opacity: '1' }}\r\n            ></div>\r\n            <iframe src='https://my.spline.design/floating-adbb8c927f6e8e69a180701a9fb2ad6c/'\r\n              frameBorder='0'\r\n              width='100%'\r\n              height='100%'\r\n              onLoad={showIframe}\r\n              ref={iframeRef}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </section>\r\n      <Row gutter={16} style={{padding: '20px'}} id='latest-prods'>\r\n        {products ? products.map(product => (\r\n          <ProductCard product={product} />\r\n        )) : <Skeleton active />}\r\n      </Row>\r\n      {/* <Row align=\"middle\">\r\n        <Col span={1} align=\"right\">\r\n          <Button type=\"text\" onClick={() => slider.current.prev()} size={'large'}>\r\n            <LeftOutlined />\r\n          </Button>\r\n        </Col>\r\n        <Col span={22}>\r\n          <Carousel ref={slider} dots={false}>\r\n            {products ? products.map(product => (\r\n\r\n            )) : <Skeleton active />}\r\n            <div>\r\n              <h3 style={contentStyle}>1</h3>\r\n            </div>\r\n            <div>\r\n              <h3 style={contentStyle}>2</h3>\r\n            </div>\r\n            <div>\r\n              <h3 style={contentStyle}>3</h3>\r\n            </div>\r\n            <div>\r\n              <h3 style={contentStyle}>4</h3>\r\n            </div>\r\n          </Carousel>\r\n        </Col>\r\n        <Col span={1}>\r\n          <Button type=\"text\" onClick={() => slider.current.next()} size={'large'}>\r\n            <RightOutlined />\r\n          </Button>\r\n        </Col>\r\n      </Row> */}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Home","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAuthInfo } from \"../hooks/authContext\"\r\n//import {  } from '../services/auth'\r\nimport { Form, Col, Row, Button, Input, Divider, Typography } from 'antd'\r\nimport { Gradient } from 'react-gradient'\r\nimport { GoogleOutlined, FacebookOutlined } from '@ant-design/icons'\r\n\r\nconst { Text } = Typography;\r\n\r\nconst Login = () => {\r\n  const [form] = Form.useForm()\r\n  const { login } = useAuthInfo()\r\n\r\n  const handleSubmit = (userInfo) => {\r\n    login(userInfo)\r\n  }\r\n\r\n  return (\r\n    <Row justify=\"center\" align=\"middle\" className=\"main-row auth-cont\">\r\n      <Col xs={22} sm={18} md={14} lg={10} xl={8} xxl={6}>\r\n        <div>\r\n          <Gradient\r\n            gradients={[\r\n              ['#00a1ba', '#9cd873'],\r\n            ]}\r\n            property=\"text\"\r\n            element=\"h1\"\r\n            angle=\"45deg\"\r\n            className=\"text ant-typography\"\r\n          >\r\n            Login\r\n          </Gradient>\r\n          <Form form={form} onFinish={handleSubmit} layout='vertical'>\r\n            <Form.Item name='email' label='Email:'>\r\n              <Input type='email' />\r\n            </Form.Item>\r\n            <Form.Item name='password' label='Password:'>\r\n              <Input.Password />\r\n            </Form.Item>\r\n            <Button type='primary' htmlType='submit' block size='large' shape=\"round\">\r\n              Log me in!\r\n            </Button>\r\n          </Form>\r\n          <Divider id=\"socialDivider\">Or connect with</Divider>\r\n          <Row justify=\"center\" align=\"middle\" className=\"socialLogin\">\r\n            <Col span={6} align=\"middle\">\r\n              <a href={process.env.NODE_ENV === \"production\" ? \"/api/auth/google\" : \"http://localhost:3001/api/auth/google\"}>\r\n                <GoogleOutlined />\r\n              </a>\r\n            </Col>\r\n            <Col span={6} align=\"middle\">\r\n              <a href={process.env.NODE_ENV === \"production\" ? \"/api/auth/facebook\" : \"http://localhost:3001/api/auth/facebook\"}>\r\n                <FacebookOutlined />\r\n              </a>\r\n            </Col>\r\n            <Col span={24} align=\"middle\" className=\"changeAuth\">\r\n              <Text>\r\n                Don't have an account? <Link to='/signup'>Sign up here!</Link>\r\n              </Text>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\r\nimport { Link, Redirect, useHistory } from 'react-router-dom'\r\nimport { signupFn } from \"../services/auth\"\r\nimport { Form, Col, Row, Button, Input, Divider, Typography, notification } from 'antd'\r\nimport { Gradient } from 'react-gradient'\r\nimport { GoogleOutlined, FacebookOutlined } from '@ant-design/icons'\r\n\r\nconst { Text } = Typography;\r\n\r\nconst Signup = () => {\r\n  const [form] = Form.useForm()\r\n  const {push} = useHistory()\r\n\r\n  async function handleSubmit(userInfo) {\r\n    try {\r\n      await signupFn(userInfo)\r\n      notification['success']({\r\n        message: 'Account created!',\r\n        description: `Hello ${userInfo.firstName} ðŸ‘‹. Please check your email to verify your account`,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n      push('/login')\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Row justify=\"center\" align=\"middle\" className=\"main-row auth-cont\">\r\n      <Col xs={22} sm={18} md={14} lg={10} xl={8} xxl={6}>\r\n        <div>\r\n          <Gradient\r\n            gradients={[\r\n              ['#00a1ba', '#9cd873'],\r\n            ]}\r\n            property=\"text\"\r\n            element=\"h1\"\r\n            angle=\"45deg\"\r\n            className=\"text ant-typography\"\r\n          >\r\n            Sign up\r\n          </Gradient>\r\n          <Form form={form} onFinish={handleSubmit} layout='vertical'>\r\n            <Form.Item name='email' label='Email:'>\r\n              <Input type='email' />\r\n            </Form.Item>\r\n            <Row gutter={6}>\r\n              <Col span={12}>\r\n                <Form.Item name='firstName' label='First name:'>\r\n                  <Input />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={12}>\r\n                <Form.Item name='lastName' label='Last name:'>\r\n                  <Input />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Form.Item name='storeName' label='Store name:'>\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item name='phone' label='Phone:'>\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item name='password' label='Password:'>\r\n              <Input.Password />\r\n            </Form.Item>\r\n            <Form.Item name='confirmPassword' label='Confirm password:'>\r\n              <Input.Password />\r\n            </Form.Item>\r\n            <Button type='primary' htmlType='submit' block size='large' shape=\"round\">\r\n              Sign me up!\r\n            </Button>\r\n          </Form>\r\n          <Divider id=\"socialDivider\">Or connect with</Divider>\r\n          <Row justify=\"center\" align=\"middle\" className=\"socialLogin\">\r\n            <Col span={6} align=\"middle\">\r\n              <a href=\"/api/auth/google\">\r\n                <GoogleOutlined />\r\n              </a>\r\n            </Col>\r\n            <Col span={6} align=\"middle\">\r\n              <a href=\"/api/auth/facebook\">\r\n                <FacebookOutlined />\r\n              </a>\r\n            </Col>\r\n            <Col span={24} align=\"middle\" className=\"changeAuth\">\r\n              <Text>\r\n                Already have an account? <Link to='/login'>Log in here!</Link>\r\n              </Text>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Signup\r\n","import { useState, useEffect } from 'react'\r\nimport { useParams, Link } from 'react-router-dom'\r\nimport { verifyFn } from \"../services/auth\"\r\nimport { Col, Row, Button, Typography, Spin } from 'antd'\r\nimport { LoadingOutlined } from '@ant-design/icons'\r\nimport { Gradient } from 'react-gradient'\r\n\r\nconst { Paragraph } = Typography;\r\n\r\nconst antIcon = <LoadingOutlined style={{ fontSize: 40, color: '#5dbe8c' }} spin />\r\n\r\nconst Activate = () => {\r\n  const { id } = useParams()\r\n  const [loading, setLoading] = useState(true)\r\n  const [userName, setUserName] = useState(null)\r\n\r\n  const verifyUser = async (userId) => {\r\n    try {\r\n      const { data } = await verifyFn({id: userId})\r\n      setUserName(data.firstName)\r\n      setLoading(false)\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    verifyUser(id)\r\n  }, [])\r\n\r\n  return (\r\n    <Row justify=\"center\" align=\"middle\" className=\"main-row auth-cont\">\r\n      <Col xs={22} sm={18} md={14} lg={10} xl={8} xxl={6}>\r\n        <div>\r\n          {loading ? (\r\n            <div style={{display: 'flex', justifyContent: 'center'}}>\r\n              <Spin indicator={antIcon} />\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <Gradient\r\n                gradients={[\r\n                  ['#00a1ba', '#9cd873'],\r\n                ]}\r\n                property=\"text\"\r\n                element=\"h1\"\r\n                angle=\"45deg\"\r\n                className=\"text ant-typography\"\r\n              >\r\n                Hello {userName}!\r\n              </Gradient>\r\n              <Paragraph>\r\n                Your account has been successfully activated!\r\n              </Paragraph>\r\n              <Paragraph>\r\n                You can now proceed to login and start taking advantage of every feature of our platform!\r\n              </Paragraph>\r\n              <div style={{display: 'flex', justifyContent: 'center'}}>\r\n                <Button type=\"primary\" size={'large'} shape=\"round\" style={{height: 'auto', padding: '6px 30px'}}>\r\n                  <Link to='/login' style={{color: '#fff', fontSize: '1.5em'}}>Log in!</Link>\r\n                </Button>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Activate\r\n","import { Rate, Typography } from 'antd'\r\n\r\nconst { Text } = Typography\r\n\r\nconst DetailedRating = ({ rating }) => {\r\n  const ratingsCount = rating.one + rating.two + rating.three + rating.four + rating.five\r\n\r\n  return (\r\n    <div>\r\n      <Rate allowHalf disabled defaultValue={rating.total} />\r\n      <Text>{ratingsCount === 1 ? ` (${ratingsCount} rating)` : ` (${ratingsCount} ratings)`}</Text>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DetailedRating\r\n","import { useState, useEffect, useRef } from 'react'\r\nimport { useAuthInfo } from '../../hooks/authContext'\r\nimport { LocationFn, getCurrentUser } from \"../../services/auth\"\r\nimport mapboxgl from 'mapbox-gl'\r\nimport 'mapbox-gl/dist/mapbox-gl.css'\r\nimport MapboxGeocoder from '@mapbox/mapbox-gl-geocoder'\r\nimport '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css'\r\nimport { Typography, Divider, Row, Col, Button, Space, Alert } from 'antd'\r\nimport { CheckOutlined } from '@ant-design/icons';\r\nimport { Gradient } from 'react-gradient'\r\nimport DetailedRating from '../../components/DetailedRating'\r\n\r\n//mapboxgl.accessToken = process.env.REACT_APP_MAPBOX_KEY\r\nmapboxgl.accessToken = 'pk.eyJ1IjoianVhbmJhdGtpcyIsImEiOiJja2xlMDJ1Y240ZHR1Mnd1aTVqOGIxdWpyIn0.GQOtc1ghwfAhcaavE_Z3yA'\r\n// eslint-disable-next-line import/no-webpack-loader-syntax\r\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\r\n\r\nconst { Title, Text } = Typography\r\n\r\nconst Info = () => {\r\n  const {user} = useAuthInfo()\r\n  const { setUser } = useAuthInfo()\r\n  const [editableFirstName, setEditableFirstName] = useState(user.firstName)\r\n  const [editableLasttName, setEditableLastName] = useState(user.lastName)\r\n  const [editablestoreName, setEditablestoreName] = useState(user.storeName)\r\n  const [editablePhone, setEditablePhone] = useState(user.phone)\r\n\r\n  const mapContainer = useRef()\r\n  const [mapSaving, setMapSaving] = useState(false)\r\n  const [mapSavingIcon, setMapSavingIcon] = useState(false)\r\n  const [mapSavingText, setMapSavingText] = useState('Save location')\r\n  const [map, setMap] = useState(null)\r\n  const [lng, setLng] = useState(user.location.coordinates ? user.location.coordinates[0] : -73.51822)\r\n  const [lat, setLat] = useState(user.location.coordinates ? user.location.coordinates[1] : 40.76127)\r\n  const [mapMoved, setMapMoved] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const map = new mapboxgl.Map({\r\n      container: mapContainer.current,\r\n      style: 'mapbox://styles/mapbox/streets-v11',\r\n      center: [lng, lat],\r\n      zoom: user.location.coordinates ? 12 : 4\r\n    })\r\n\r\n    const geocoder = new MapboxGeocoder({\r\n      accessToken: mapboxgl.accessToken,\r\n      mapboxgl: mapboxgl,\r\n      marker: false,\r\n      flyTo: {\r\n        speed: 2\r\n      }\r\n    })\r\n\r\n    map.addControl(geocoder)\r\n\r\n    // Add zoom and rotation controls to the map.\r\n    map.addControl(new mapboxgl.NavigationControl())\r\n\r\n    // Add geolocate control to the map.\r\n    map.addControl(\r\n      new mapboxgl.GeolocateControl({\r\n        positionOptions: {\r\n          enableHighAccuracy: true\r\n        },\r\n        showAccuracyCircle: false,\r\n        showUserLocation: false\r\n      })\r\n    )\r\n\r\n    const marker = new mapboxgl.Marker({\r\n      draggable: false\r\n    })\r\n        .setLngLat([lng, lat])\r\n        .addTo(map)\r\n\r\n    map.on('movestart', function(e) {\r\n      marker.setLngLat(map.getCenter())\r\n    })\r\n    \r\n    map.on('move', function(e) {\r\n      marker.setLngLat(map.getCenter())\r\n    })\r\n    \r\n    map.on('moveend', function(e) {\r\n      if (map.getCenter().lng.toFixed(4) !== lng.toFixed(4) || map.getCenter().lat.toFixed(4) !== lat.toFixed(4)) {\r\n        setMapMoved(true)\r\n      }\r\n      setMapSavingIcon(false)\r\n      setMapSavingText('Save location')\r\n      marker.setLngLat(map.getCenter())\r\n    })\r\n\r\n    map.on(\"load\", () => {\r\n      setMap(map)\r\n    })\r\n\r\n    return () => map.remove()\r\n  }, [lng, lat])\r\n  \r\n  const returnToOriginalLocation = () => {\r\n    map.flyTo({\r\n      center: [lng, lat],\r\n      speed: 2,\r\n      essential: true // this animation is considered essential with respect to prefers-reduced-motion\r\n    })\r\n\r\n    setMapMoved(false)\r\n  }\r\n\r\n  const getSession = async () => {\r\n    try {\r\n      const { data } = await getCurrentUser()\r\n      if (data) {\r\n        setUser(data)\r\n      }\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  const saveLocation = async () => {\r\n    try {\r\n      mapContainer.current.style.pointerEvents = 'none'\r\n      mapContainer.current.style.opacity = 0.5\r\n      setMapSaving(true)\r\n      setMapSavingText('Saving location')\r\n      await LocationFn({lng: map.getCenter().lng, lat: map.getCenter().lat})\r\n      getSession()\r\n      mapContainer.current.style.pointerEvents = 'all'\r\n      mapContainer.current.style.opacity = 1\r\n      setLng(map.getCenter().lng)\r\n      setLat(map.getCenter().lat)\r\n      setMapSaving(false)\r\n      setMapSavingIcon(<CheckOutlined />)\r\n      setMapSavingText('Saved location')\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className='user-info-header'>\r\n        <Gradient\r\n          gradients={[\r\n            ['#00a1ba', '#9cd873'],\r\n          ]}\r\n          property=\"text\"\r\n          element=\"h1\"\r\n          angle=\"45deg\"\r\n          className=\"text ant-typography\"\r\n        >\r\n          {`${editableFirstName} ${editableLasttName}`}\r\n        </Gradient>\r\n        <div className='user-score'>\r\n          <Title level={5}>User score:</Title>\r\n          <DetailedRating rating={user.rating} />\r\n        </div>\r\n      </div>\r\n      <Divider />\r\n      <Row gutter={16}>\r\n        <Col span={12}>\r\n          <Title level={2}>User info:</Title>\r\n          <Title level={4}>First name:</Title>\r\n          <Text editable={{ onChange: setEditableFirstName }}>{editableFirstName}</Text>\r\n          <Title level={4}>Last name:</Title>\r\n          <Text editable={{ onChange: setEditableLastName }}>{editableLasttName}</Text>\r\n          <Title level={4}>Store name:</Title>\r\n          <Text editable={{ onChange: setEditablestoreName }}>{editablestoreName}</Text>\r\n          <Title level={4}>Phone number:</Title>\r\n          <Text editable={{ onChange: setEditablePhone }}>{editablePhone}</Text>\r\n        </Col>\r\n        <Col span={12} className=\"location-container\">\r\n          {!user.location.coordinates && <Alert message=\"You won't me able to create products without saving a location\" type=\"warning\" showIcon />}\r\n          <div className=\"map-container\" ref={mapContainer} style={{height: '500px'}} />\r\n          <Space className=\"location-buttons\" style={mapMoved ? {opacity: 1, pointerEvents: 'all'} : {opacity: 0, pointerEvents: 'none'}}>\r\n            <Button type=\"primary\" shape=\"round\" size={'large'} loading={mapSaving} icon={mapSavingIcon} onClick={saveLocation}>\r\n              {mapSavingText}\r\n            </Button>\r\n            <Button danger shape=\"round\" size={'large'} onClick={returnToOriginalLocation}>\r\n              Restore location\r\n            </Button>\r\n          </Space>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Info\r\n","import axios from \"axios\"\r\n\r\nconst baseURL =\r\n  process.env.NODE_ENV === \"production\" ? \"https://rentit-project.herokuapp.com/api/rent\" : \"http://localhost:3001/api/rent\"\r\n\r\nconst _axios = axios.create({\r\n  baseURL,\r\n  withCredentials: true\r\n})\r\n\r\nexport const getAllUserRents = role => _axios.get(`/all/${role}`)\r\nexport const getRentById = rentId => _axios.get(`/${rentId}`)\r\nexport const getRentPreference = rentPreferenceInfo => _axios.post(`/preference`, rentPreferenceInfo)\r\nexport const createRent = rentInfo => _axios.post(`/`, rentInfo)\r\nexport const updateRent = rentInfo => _axios.patch(`/update`, rentInfo)","import { useState, useEffect } from 'react'\r\nimport { getAllUserRents } from '../../services/rents'\r\nimport moment from 'moment'\r\nimport { Typography, Divider, Table, Space, Skeleton, Button, Tag, Popconfirm, Tabs } from 'antd'\r\nimport { Gradient } from 'react-gradient'\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nconst Rents = () => {\r\n  const [rents, setRents] = useState(null)\r\n  const [tab, setTab] = useState('renter')\r\n\r\n  async function getRents(role) {\r\n    try {\r\n      setRents(null)\r\n      const {data} = await getAllUserRents(role)\r\n      console.log(data.rents);\r\n      setRents(data.rents)\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    console.log(tab)\r\n    getRents(tab)\r\n  }, [tab])\r\n\r\n  function callback(key) {\r\n    console.log(key)\r\n    if (key == 1) {\r\n      setTab('renter')\r\n    } else {\r\n      setTab('owner')\r\n    }\r\n  }\r\n\r\n  const renderDate = (value, row, index) => {\r\n    if (row.type === 'day') {\r\n      return moment(value).format('YYYY/MM/DD')\r\n    } else {\r\n      return moment(value).format('YYYY/MM/DD HH:00')\r\n    }\r\n  }\r\n\r\n  const renderTotal = (value, row, index) => {\r\n    let text = `$${value} for `\r\n    if (row.type === 'day') {\r\n      return text + moment(row.rentedTo).diff(moment(row.rentedFrom), 'days') + 1\r\n    } else {\r\n      return text + moment(row.rentedTo).diff(moment(row.rentedFrom), 'hours') + 1\r\n    }\r\n  }\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Product',\r\n      dataIndex: 'product',\r\n      key: 'product',\r\n      render: product => <a>{product.name}</a>,\r\n    },\r\n    {\r\n      title: 'Rented from',\r\n      dataIndex: 'rentedFrom',\r\n      key: 'rentedFrom',\r\n      //render: rentedFrom => moment(rentedFrom).format('YYYY/MM/DD'),\r\n      render: renderDate,\r\n    },\r\n    {\r\n      title: 'Rented to',\r\n      dataIndex: 'rentedTo',\r\n      key: 'rentedTo',\r\n      render: renderDate,\r\n    },\r\n    {\r\n      title: 'Total',\r\n      dataIndex: 'total',\r\n      key: 'total',\r\n      render: renderTotal,\r\n    },\r\n    {\r\n      title: tab === 'owner' ? 'Renter' : 'Owner',\r\n      dataIndex: tab,\r\n      key: tab,\r\n      render: user => tab === 'owner' ? user.firstName : (user.storeName ? user.storeName : user.firstName),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <div className='user-info-header'>\r\n        <Space size=\"middle\">\r\n          <Gradient\r\n            gradients={[\r\n              ['#00a1ba', '#9cd873'],\r\n            ]}\r\n            property=\"text\"\r\n            element=\"h1\"\r\n            angle=\"45deg\"\r\n            className=\"text ant-typography\"\r\n          >\r\n            Rents\r\n          </Gradient>\r\n        </Space>\r\n      </div>\r\n      <Divider />\r\n      <Tabs onChange={callback} type=\"card\">\r\n        <TabPane tab=\"Rented by me\" key=\"1\">\r\n          {rents ? <Table dataSource={rents} columns={columns} /> : <Skeleton active />}\r\n        </TabPane>\r\n        <TabPane tab=\"Owned by me\" key=\"2\">\r\n          {rents ? <Table dataSource={rents} columns={columns} /> : <Skeleton active />}\r\n        </TabPane>\r\n      </Tabs>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Rents\r\n","import { Tabs, Table } from 'antd'\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nconst Questions = () => {\r\n  function callback(key) {\r\n    console.log(key);\r\n  }\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Name',\r\n      dataIndex: 'name',\r\n      filters: [\r\n        {\r\n          text: 'Joe',\r\n          value: 'Joe',\r\n        },\r\n        {\r\n          text: 'Jim',\r\n          value: 'Jim',\r\n        },\r\n        {\r\n          text: 'Submenu',\r\n          value: 'Submenu',\r\n          children: [\r\n            {\r\n              text: 'Green',\r\n              value: 'Green',\r\n            },\r\n            {\r\n              text: 'Black',\r\n              value: 'Black',\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n      // specify the condition of filtering result\r\n      // here is that finding the name started with `value`\r\n      onFilter: (value, record) => record.name.indexOf(value) === 0,\r\n      sorter: (a, b) => a.name.length - b.name.length,\r\n      sortDirections: ['descend'],\r\n    },\r\n    {\r\n      title: 'Age',\r\n      dataIndex: 'age',\r\n      defaultSortOrder: 'descend',\r\n      sorter: (a, b) => a.age - b.age,\r\n    },\r\n    {\r\n      title: 'Address',\r\n      dataIndex: 'address',\r\n      filters: [\r\n        {\r\n          text: 'London',\r\n          value: 'London',\r\n        },\r\n        {\r\n          text: 'New York',\r\n          value: 'New York',\r\n        },\r\n      ],\r\n      filterMultiple: false,\r\n      onFilter: (value, record) => record.address.indexOf(value) === 0,\r\n      sorter: (a, b) => a.address.length - b.address.length,\r\n      sortDirections: ['descend', 'ascend'],\r\n    },\r\n  ];\r\n  \r\n  const data = [\r\n    {\r\n      key: '1',\r\n      name: 'John Brown',\r\n      age: 32,\r\n      address: 'New York No. 1 Lake Park',\r\n    },\r\n    {\r\n      key: '2',\r\n      name: 'Jim Green',\r\n      age: 42,\r\n      address: 'London No. 1 Lake Park',\r\n    },\r\n    {\r\n      key: '3',\r\n      name: 'Joe Black',\r\n      age: 32,\r\n      address: 'Sidney No. 1 Lake Park',\r\n    },\r\n    {\r\n      key: '4',\r\n      name: 'Jim Red',\r\n      age: 32,\r\n      address: 'London No. 2 Lake Park',\r\n    },\r\n  ];\r\n  \r\n  function onChange(pagination, filters, sorter, extra) {\r\n    console.log('params', pagination, filters, sorter, extra);\r\n  }\r\n\r\n  return (\r\n    <Tabs onChange={callback} type=\"card\">\r\n      <TabPane tab=\"Asked by me\" key=\"1\">\r\n        <Table columns={columns} dataSource={data} onChange={onChange} />\r\n      </TabPane>\r\n      <TabPane tab=\"Asked to me\" key=\"2\">\r\n        Content of Tab Pane 2\r\n      </TabPane>\r\n    </Tabs>\r\n  )\r\n}\r\n\r\nexport default Questions\r\n","import { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAuthInfo } from '../../hooks/authContext'\r\nimport { getUserProducts } from '../../services/products'\r\nimport { deleteProduct } from '../../services/products'\r\nimport { Typography, Divider, Table, Space, Skeleton, Button, Tag, Popconfirm } from 'antd'\r\nimport { PlusOutlined, EditOutlined, DeleteOutlined } from '@ant-design/icons'\r\nimport { Gradient } from 'react-gradient'\r\nimport DetailedRating from '../../components/DetailedRating'\r\n\r\nconst { Title, Text } = Typography\r\n\r\nconst Info = () => {\r\n  const {user} = useAuthInfo()\r\n  const [products, setProducts] = useState(null)\r\n\r\n  async function getProducts() {\r\n    try {\r\n      const {data:products} = await getUserProducts(user._id, 20)\r\n      setProducts(products.products)\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  async function deleteProductAndReload(id) {\r\n    try {\r\n      await deleteProduct(id)\r\n      const {data:products} = await getUserProducts(user._id, 20)\r\n      setProducts(products.products)\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getProducts()\r\n  }, [])\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Name',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n      render: text => <a>{text}</a>,\r\n    },\r\n    {\r\n      title: 'Price hour',\r\n      dataIndex: 'priceHour',\r\n      key: 'priceHour',\r\n      render: price => `$${price}`,\r\n    },\r\n    {\r\n      title: 'Price day',\r\n      dataIndex: 'priceDay',\r\n      key: 'priceDay',\r\n      render: price => price ? `$${price}` : '-',\r\n    },\r\n    {\r\n      title: 'Category',\r\n      dataIndex: 'category',\r\n      key: 'category',\r\n      render: category => <Tag color=\"green\">{category}</Tag>\r\n    },\r\n    {\r\n      title: 'Description',\r\n      dataIndex: 'description',\r\n      key: 'description',\r\n    },\r\n    {\r\n      title: 'Rating',\r\n      dataIndex: 'rating',\r\n      key: 'rating',\r\n      render: rating => rating.total === 0 ? '-' : rating.total,\r\n    },\r\n    {\r\n      title: 'Action',\r\n      key: '_id',\r\n      align: 'center',\r\n      render: prod => {\r\n        return(\r\n          <Space size=\"middle\">\r\n            <Button type=\"link\" size={'large'}>\r\n              <EditOutlined />\r\n            </Button>\r\n            <Popconfirm\r\n              title=\"Are you sure to delete this product?\"\r\n              placement=\"topRight\"\r\n              onConfirm={() => deleteProductAndReload(prod._id)}\r\n              okText=\"Delete\"\r\n              cancelText=\"Cancel\"\r\n            >\r\n              <Button type=\"link\" danger size={'large'}>\r\n                <DeleteOutlined />\r\n              </Button>\r\n            </Popconfirm>\r\n          </Space>\r\n        )\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <div className='user-info-header'>\r\n        <Space size=\"middle\">\r\n          <Gradient\r\n            gradients={[\r\n              ['#00a1ba', '#9cd873'],\r\n            ]}\r\n            property=\"text\"\r\n            element=\"h1\"\r\n            angle=\"45deg\"\r\n            className=\"text ant-typography\"\r\n          >\r\n            Products\r\n          </Gradient>\r\n          {user.location.coordinates ? (\r\n            <Button type=\"primary\" icon={<PlusOutlined />} size={'large'} shape=\"round\">\r\n              <Link to='/profile/products/add' style={{color: '#fff'}}>Add new</Link>\r\n            </Button>\r\n          ) : (\r\n            <Button type=\"primary\" disabled size={'large'} shape=\"round\">\r\n              Save your location to add products\r\n            </Button>\r\n          )}\r\n        </Space>\r\n      </div>\r\n      <Divider />\r\n      {products ? <Table dataSource={products} columns={columns} /> : <Skeleton active />}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Info\r\n","import { useState } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport axios from \"axios\"\r\nimport { createProduct } from '../../services/products'\r\nimport { Form, Input, Button, Select, Row, Col, InputNumber, Space, Upload, Modal, notification } from 'antd'\r\nimport { PlusOutlined, LoadingOutlined } from '@ant-design/icons'\r\n\r\nconst { Option } = Select\r\n\r\nconst layout = {\r\n  labelCol: { span: 8 },\r\n  wrapperCol: { span: 24 },\r\n}\r\nconst tailLayout = {\r\n  wrapperCol: { offset: 0, span: 16 },\r\n}\r\n\r\nfunction getBase64(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = error => reject(error);\r\n  });\r\n}\r\n\r\nconst AddProduct = () => {\r\n  const [previewVisible, setPreviewVisible] = useState(false)\r\n  const [previewImage, setPreviewImage] = useState('')\r\n  const [previewTitle, setPreviewTitle] = useState('')\r\n  const [fileList, setFileList] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const {push} = useHistory()\r\n\r\n  const handleCancel = () => setPreviewVisible(false)\r\n\r\n  const handleUpload = async file => {\r\n    try {\r\n      const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png' || file.type === 'image/webp';\r\n      if (!isJpgOrPng) {\r\n        return (notification['error']({\r\n          message: 'Something went wrong',\r\n          description: 'You can only upload a JPG/PNG/WEBP file!',\r\n          duration: 5,\r\n          style: {\r\n            borderRadius: '20px'\r\n          }\r\n        }))\r\n      }\r\n      const isLt2M = file.size / 1024 / 1024 < 2;\r\n      if (!isLt2M) {\r\n        return (notification['error']({\r\n          message: 'Something went wrong',\r\n          description: 'Image must smaller than 2MB!',\r\n          duration: 5,\r\n          style: {\r\n            borderRadius: '20px'\r\n          }\r\n        }))\r\n      }\r\n  \r\n      const fdata = new FormData()\r\n      fdata.append(\"file\", file)\r\n      const cloudinaryApi = \"https://api.cloudinary.com/v1_1/djv6xyyqp/image/upload\"\r\n      fdata.append(\"upload_preset\", \"rentit_product\")\r\n      setLoading(true)\r\n      const { data } = await axios.post(cloudinaryApi, fdata)\r\n    \r\n      let newFileList = fileList\r\n      newFileList.push(\r\n        {\r\n          uid: data.asset_id,\r\n          name: data.original_filename,\r\n          status: 'done',\r\n          url: data.secure_url,\r\n        }\r\n      )\r\n      setFileList(newFileList)\r\n      setLoading(false)\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  const handleDelete = (file) => {\r\n    const newFileList = fileList.filter(image => image.uid !== file.uid)\r\n    setFileList(newFileList)\r\n  }\r\n\r\n  const handlePreview = async file => {\r\n    try {\r\n      if (!file.url && !file.preview) {\r\n        file.preview = await getBase64(file.originFileObj);\r\n      }\r\n  \r\n      setPreviewImage(file.url || file.preview)\r\n      setPreviewVisible(true)\r\n      setPreviewTitle(file.name || file.url.substring(file.url.lastIndexOf('/') + 1))\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  const uploadButton = (\r\n    <div>\r\n      {loading ? <LoadingOutlined /> : <PlusOutlined />}\r\n      <div style={{ marginTop: 8 }}>Upload</div>\r\n    </div>\r\n  )\r\n\r\n  const onFinish = async (values) => {\r\n    values.images = fileList.map(image => image.url)\r\n    try {\r\n      await createProduct(values)\r\n      notification['success']({\r\n        message: 'Product created!',\r\n        description: `${values.name} has been added successfully to your available rentals ðŸŽ‰`,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n      push('/profile/products')\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const onFinishFailed = (errorInfo) => {\r\n    console.log('Failed:', errorInfo);\r\n  }\r\n\r\n  return (\r\n    <Form\r\n      {...layout}\r\n      name=\"basic\"\r\n      initialValues={{ remember: true }}\r\n      onFinish={onFinish}\r\n      onFinishFailed={onFinishFailed}\r\n      layout='vertical'\r\n    >\r\n      <Form.Item\r\n        label=\"Product name:\"\r\n        name=\"name\"\r\n        rules={[{ required: true, message: 'Please input the product name!' }]}\r\n      >\r\n        <Input size=\"large\" />\r\n      </Form.Item>\r\n\r\n      <Row gutter={6}>\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Price per hour:\"\r\n            name=\"priceHour\"\r\n            rules={[{ required: true, message: 'Please input the price per hour!' }]}\r\n          >\r\n            <InputNumber\r\n              defaultValue={1}\r\n              min={0}\r\n              formatter={value => `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n              parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n              style={{ width: '100%' }}\r\n            />\r\n          </Form.Item>  \r\n        </Col>\r\n        <Col span={12}>\r\n        <Form.Item\r\n            label=\"Price per day:\"\r\n            name=\"priceDay\"\r\n          >\r\n            <InputNumber\r\n              min={0}\r\n              formatter={value => `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n              parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n              style={{ width: '100%' }}\r\n            />\r\n          </Form.Item> \r\n        </Col>\r\n      </Row>\r\n\r\n      <Form.Item\r\n        label=\"Category\"\r\n        name=\"category\"\r\n        rules={[{ required: true, message: 'Please select a category!' }]}\r\n      >\r\n        <Select placeholder=\"Please select a category\">\r\n          <Option value=\"tools\">Tools</Option>\r\n          <Option value=\"technology\">Technology</Option>\r\n          <Option value=\"vehicles\">Vehicles</Option>\r\n          <Option value=\"sports\">Sports</Option>\r\n          <Option value=\"other\">Other</Option>\r\n        </Select>\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        name=\"description\"\r\n        label=\"Description\"\r\n        rules={[{ required: true, message: 'Please input a description!' }]}\r\n      >\r\n        <Input.TextArea\r\n          maxLength={2000}\r\n          showCount={true}\r\n          autoSize={{ minRows: 3, maxRows: 8 }}\r\n        />\r\n      </Form.Item>\r\n\r\n      <Upload\r\n        //action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n        listType=\"picture-card\"\r\n        fileList={fileList}\r\n        beforeUpload={handleUpload}\r\n        onPreview={handlePreview}\r\n        method='get'\r\n        onRemove={handleDelete}\r\n      >\r\n        {fileList.length >= 8 ? null : uploadButton}\r\n      </Upload>\r\n      <Modal\r\n        visible={previewVisible}\r\n        title={previewTitle}\r\n        footer={null}\r\n        onCancel={handleCancel}\r\n      >\r\n        <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n      </Modal>\r\n\r\n      <Form.Item {...tailLayout}>\r\n        <Space size=\"middle\">\r\n          <Button type=\"primary\" htmlType=\"submit\" size={'large'} shape=\"round\">\r\n            Create\r\n          </Button>\r\n          <Button danger size={'large'} shape=\"round\">\r\n            <Link to='/profile/products/'>Cancel</Link>\r\n          </Button>\r\n        </Space>\r\n      </Form.Item>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default AddProduct\r\n","import { Switch, Route, useRouteMatch, Link } from 'react-router-dom'\r\nimport Info from './profile-subroutes/Info'\r\nimport Rents from './profile-subroutes/Rents'\r\nimport Questions from './profile-subroutes/Questions'\r\nimport Products from './profile-subroutes/Products'\r\nimport AddProduct from './profile-subroutes/AddProduct'\r\nimport { useAuthInfo } from '../hooks/authContext'\r\nimport { Row, Col, Avatar, List, Button } from 'antd'\r\n\r\n\r\nconst Profile = () => {\r\n  const {path} = useRouteMatch()\r\n  const {user} = useAuthInfo()\r\n\r\n  const sideMenu = [\r\n    {title: 'User info', link: path},\r\n    {title: 'My rents', link: `${path}/rents`},\r\n    {title: 'My questions', link: `${path}/questions`},\r\n    {title: 'My products', link: `${path}/products`}\r\n  ]\r\n\r\n  return (\r\n    <Row gutter={16} justify=\"center\" className=\"main-row profile-row\">\r\n      <Col xs={8} xl={6}>\r\n        <div className='profile-cont side-menu-cont'>\r\n          {user.avatar ? (\r\n            <Avatar\r\n              size={150}\r\n              src={user.avatar}\r\n              style={{cursor: 'pointer'}}\r\n            />\r\n          ) : (\r\n            <Avatar\r\n              size={150}\r\n              style={{\r\n                background: 'rgb(0,161,186)',\r\n                background: 'linear-gradient(45deg, rgba(0,161,186,1) 0%, rgba(156,216,115,1) 100%)',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              {`${user.firstName[0]}${user.lastName[0]}`}\r\n            </Avatar>\r\n          )}\r\n          <List\r\n            size=\"small\"\r\n            dataSource={sideMenu}\r\n            renderItem={item => (\r\n              <List.Item>\r\n                <Button type=\"text\" size=\"large\">\r\n                  <Link to={item.link}>{item.title}</Link>\r\n                </Button>\r\n              </List.Item>\r\n            )}\r\n          />\r\n        </div>\r\n      </Col>\r\n      <Col xs={16} xl={14}>\r\n        <div className='profile-cont info-cont'>\r\n          <Switch>\r\n            <Route component={Info} path={path} exact />\r\n            <Route component={Rents} path={`${path}/rents`} />\r\n            <Route component={Questions} path={`${path}/questions`} />\r\n            <Route component={Products} path={`${path}/products`} exact />\r\n            <Route component={AddProduct} path={`${path}/products/add`} />\r\n          </Switch>\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Profile\r\n","import { useState, useEffect, useRef } from 'react'\r\nimport { useAuthInfo } from '../hooks/authContext'\r\nimport { getAllProducts } from '../services/products'\r\nimport { getProductsByQuery } from '../services/products'\r\nimport ProductCard from '../components/ProductCard'\r\nimport mapboxgl from 'mapbox-gl'\r\nimport 'mapbox-gl/dist/mapbox-gl.css'\r\nimport MapboxGeocoder from '@mapbox/mapbox-gl-geocoder'\r\nimport '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css'\r\nimport { Collapse, Row, Col, Pagination, Skeleton, Empty, Slider } from 'antd'\r\n\r\nconst { Panel } = Collapse\r\n\r\n//mapboxgl.accessToken = process.env.REACT_APP_MAPBOX_KEY\r\nmapboxgl.accessToken = 'pk.eyJ1IjoianVhbmJhdGtpcyIsImEiOiJja2xlMDJ1Y240ZHR1Mnd1aTVqOGIxdWpyIn0.GQOtc1ghwfAhcaavE_Z3yA'\r\n// eslint-disable-next-line import/no-webpack-loader-syntax\r\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\r\n\r\nconst Products = () => {\r\n  const {user} = useAuthInfo()\r\n  const [receivedProducts, setReceivedProducts] = useState(null)\r\n  const mapContainer = useRef()\r\n  const [map, setMap] = useState(null)\r\n  const [lng, setLng] = useState(user && user.location.coordinates ? user.location.coordinates[0] : -58.401947)\r\n  const [lat, setLat] = useState(user && user.location.coordinates ? user.location.coordinates[1] : -34.595134)\r\n  const [radius, setRadius] = useState(1)\r\n  const [collapseOpen, setCollapseOpen] = useState(true)\r\n  const [collapseText, setCollapseText] = useState(<h3>Colse map</h3>)\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  async function getProducts(longitude, latitude, givenRadius) {\r\n    try {\r\n      setLoading(true)\r\n      const query = {\r\n        limit: 30,\r\n        category: null,\r\n        center: [longitude, latitude],\r\n        radius: givenRadius\r\n      }\r\n      const {data:products} = await getProductsByQuery(query)\r\n      setReceivedProducts(products.products)\r\n      setLoading(false)\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getProducts(lng, lat, radius)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const map = new mapboxgl.Map({\r\n      container: mapContainer.current,\r\n      style: 'mapbox://styles/mapbox/streets-v11',\r\n      center: [lng, lat],\r\n      zoom: 12\r\n    })\r\n\r\n    const geocoder = new MapboxGeocoder({\r\n      accessToken: mapboxgl.accessToken,\r\n      mapboxgl: mapboxgl,\r\n      marker: false,\r\n      flyTo: {\r\n        speed: 2\r\n      }\r\n    })\r\n\r\n    map.addControl(geocoder)\r\n\r\n    // Add zoom and rotation controls to the map.\r\n    map.addControl(new mapboxgl.NavigationControl())\r\n\r\n    // Add geolocate control to the map.\r\n    map.addControl(\r\n      new mapboxgl.GeolocateControl({\r\n        positionOptions: {\r\n          enableHighAccuracy: true\r\n        },\r\n        showAccuracyCircle: false,\r\n        showUserLocation: false\r\n      })\r\n    )\r\n\r\n    const marker = new mapboxgl.Marker({\r\n      draggable: false\r\n    })\r\n      .setLngLat([lng, lat])\r\n      .addTo(map)\r\n\r\n    map.on('movestart', function(e) {\r\n      marker.setLngLat(map.getCenter())\r\n      map.getSource('polygon').setData(createGeoJSONCircle([map.getCenter().lng, map.getCenter().lat], radius, false))\r\n    })\r\n\r\n    map.on('move', function(e) {\r\n      marker.setLngLat(map.getCenter())\r\n      map.getSource('polygon').setData(createGeoJSONCircle([map.getCenter().lng, map.getCenter().lat], radius, false))\r\n    })\r\n\r\n    map.on('moveend', function(e) {\r\n      marker.setLngLat(map.getCenter())\r\n      map.getSource('polygon').setData(createGeoJSONCircle([map.getCenter().lng, map.getCenter().lat], radius, false))\r\n      getProducts(map.getCenter().lng, map.getCenter().lat, radius)\r\n      updateLocation(map.getCenter().lng, map.getCenter().lat)\r\n      setMap(map)\r\n    })\r\n\r\n    map.on(\"load\", () => {\r\n      setMap(map)\r\n    })\r\n\r\n    map.on('load', function () {\r\n      map.addSource(\"polygon\", createGeoJSONCircle([map.getCenter().lng, map.getCenter().lat], radius, true));\r\n\r\n      map.addLayer({\r\n          \"id\": \"polygon\",\r\n          \"type\": \"fill\",\r\n          \"source\": \"polygon\",\r\n          \"layout\": {},\r\n          \"paint\": {\r\n              \"fill-color\": \"#5dbe8c\",\r\n              \"fill-opacity\": 0.5\r\n          }\r\n      })\r\n    })\r\n    return () => map.remove()\r\n  }, [])\r\n  //[lng, lat, radius]\r\n\r\n  const createGeoJSONCircle = (center, radiusInKm, isFirstDraw, points) => {\r\n    if(!points) points = 64;\r\n\r\n    const coords = {\r\n      latitude: center[1],\r\n      longitude: center[0]\r\n    }\r\n\r\n    const km = radiusInKm\r\n\r\n    let ret = []\r\n    const distanceX = km/(111.320*Math.cos(coords.latitude*Math.PI/180))\r\n    const distanceY = km/110.574\r\n\r\n    let theta, x, y\r\n    for(let i=0; i<points; i++) {\r\n      theta = (i/points)*(2*Math.PI)\r\n      x = distanceX*Math.cos(theta)\r\n      y = distanceY*Math.sin(theta)\r\n\r\n      ret.push([coords.longitude+x, coords.latitude+y])\r\n    }\r\n    ret.push(ret[0])\r\n\r\n    if (isFirstDraw) {\r\n      return {\r\n        \"type\": \"geojson\",\r\n        \"data\": {\r\n          \"type\": \"FeatureCollection\",\r\n          \"features\": [{\r\n            \"type\": \"Feature\",\r\n            \"geometry\": {\r\n              \"type\": \"Polygon\",\r\n              \"coordinates\": [ret]\r\n            }\r\n          }]\r\n        }\r\n      }\r\n    } else {\r\n      return {\r\n        \"type\": \"FeatureCollection\",\r\n        \"features\": [{\r\n          \"type\": \"Feature\",\r\n          \"geometry\": {\r\n            \"type\": \"Polygon\",\r\n            \"coordinates\": [ret]\r\n          }\r\n        }]\r\n      }\r\n    }\r\n  }\r\n\r\n  const changeCollapseState = () => {\r\n    if (collapseOpen) {\r\n      setCollapseText(<h3>Open map</h3>)\r\n      setCollapseOpen(false)\r\n    } else {\r\n      setCollapseText(<h3>Close map</h3>)\r\n      setCollapseOpen(true)\r\n    }\r\n  }\r\n\r\n  const updateLocation = (longitude, latitude) => {\r\n    setLng(longitude)\r\n    setLat(latitude)\r\n  }\r\n\r\n  const kmSliderRadius = value => {\r\n    setRadius(value)\r\n    map.getSource('polygon').setData(createGeoJSONCircle([map.getCenter().lng, map.getCenter().lat], value, false))\r\n  }\r\n\r\n  const kmSliderSearch = value => {\r\n    setRadius(value)\r\n    getProducts(lng, lat, value)\r\n  }\r\n\r\n  return (\r\n    <Row>\r\n      <Col span={24}>\r\n        <Collapse defaultActiveKey={['1']} bordered={false} ghost onChange={changeCollapseState}>\r\n          <Panel header={collapseText} key=\"1\">\r\n            <div className=\"map-container\" ref={mapContainer} style={{height: '400px'}} />\r\n          </Panel>\r\n        </Collapse>\r\n      </Col>\r\n      <Col span={24}>\r\n        <Row wrap={false}>\r\n          <Col flex=\"220px\">\r\n            <Slider\r\n              min={0.5}\r\n              max={20}\r\n              onChange={kmSliderRadius}\r\n              onAfterChange={kmSliderSearch}\r\n              value={radius}\r\n              step={0.5}\r\n            />\r\n          </Col>\r\n          <Col flex=\"auto\">\r\n            <Row gutter={[16, 16]} style={{padding: '20px'}} id='latest-prods'>\r\n              {!receivedProducts || loading ? (\r\n                <Skeleton active />\r\n              ) : (receivedProducts.length === 0 ? (\r\n                <Empty description={<p>Sorry, it seems like there are no products here</p>} />\r\n              ) : receivedProducts.map(product => (\r\n                <ProductCard product={product} />\r\n              )))}\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Products\r\n","import axios from \"axios\"\r\n\r\nconst baseURL =\r\n  process.env.NODE_ENV === \"production\" ? \"https://rentit-project.herokuapp.com/api/question\" : \"http://localhost:3001/api/question\"\r\n\r\nconst _axios = axios.create({\r\n  baseURL,\r\n  withCredentials: true\r\n})\r\n\r\nexport const createQuestion = question => _axios.post(\"\", question)\r\nexport const getUserQuestions = (userId, status) => _axios.get(`/user/${userId}/${status}`)","import { useState, useEffect, useRef } from 'react'\r\nimport { useParams, Link } from 'react-router-dom'\r\nimport { getProductById } from '../services/products'\r\nimport { getRentPreference, createRent } from '../services/rents'\r\nimport { createQuestion } from '../services/questions'\r\nimport mapboxgl from 'mapbox-gl'\r\nimport 'mapbox-gl/dist/mapbox-gl.css'\r\nimport { Typography, Col, Row, Carousel, Button, Skeleton, Tag, Divider, DatePicker, Descriptions, Form, Input, notification, Comment, Tooltip } from 'antd'\r\nimport { RightOutlined } from '@ant-design/icons'\r\nimport moment from 'moment'\r\nimport { Gradient } from 'react-gradient'\r\nimport DetailedRating from '../components/DetailedRating'\r\n\r\nconst { Title, Text, Paragraph } = Typography;\r\nconst { RangePicker } = DatePicker\r\n\r\n//mapboxgl.accessToken = process.env.REACT_APP_MAPBOX_KEY\r\nmapboxgl.accessToken = 'pk.eyJ1IjoianVhbmJhdGtpcyIsImEiOiJja2xlMDJ1Y240ZHR1Mnd1aTVqOGIxdWpyIn0.GQOtc1ghwfAhcaavE_Z3yA'\r\n// eslint-disable-next-line import/no-webpack-loader-syntax\r\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\r\n\r\nconst Product = () => {\r\n  const { id } = useParams()\r\n  const buyButtonRef = useRef()\r\n  const [product, setProduct] = useState(null)\r\n  const [questions, setQuestions] = useState([])\r\n  const [form] = Form.useForm()\r\n  const [questionLoading, setQuestionLoading] = useState(false)\r\n  const [hoursDisabled, setHoursDisabled] = useState(false)\r\n  const [daysDisabled, setDaysDisabled] = useState(false)\r\n  const [time, setTime] = useState(null)\r\n  const [rentedFrom, setRentedFrom] = useState(null)\r\n  const [rentedTo, setRentedTo] = useState(null)\r\n  const [total, setTotal] = useState(0)\r\n  const [rentVisible, setRentVisible] = useState(false)\r\n  const [preferenceId, setPreferenceId] = useState(null)\r\n\r\n  const mapContainer = useRef()\r\n  const [lng, setLng] = useState(0)\r\n  const [lat, setLat] = useState(0)\r\n\r\n  useEffect(() => {\r\n    async function getProducts() {\r\n      try {\r\n        const cleanId = id.split('-')[0]\r\n        const {data:product} = await getProductById(cleanId)\r\n        console.log(product)\r\n        setProduct(product)\r\n        setQuestions(product.questions.reverse())\r\n        setLng(product.owner.location.coordinates[0])\r\n        setLat(product.owner.location.coordinates[1])\r\n      } catch(error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n    getProducts()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (lng && lat) {\r\n      const map = new mapboxgl.Map({\r\n        container: mapContainer.current,\r\n        style: 'mapbox://styles/mapbox/streets-v11',\r\n        center: [lng, lat],\r\n        zoom: 12\r\n      })\r\n  \r\n      // Add zoom and rotation controls to the map.\r\n      map.addControl(new mapboxgl.NavigationControl())\r\n\r\n      map.on('load', function () {\r\n        map.addSource(\"polygon\", createGeoJSONCircle([lng, lat], 0.8));\r\n  \r\n        map.addLayer({\r\n            \"id\": \"polygon\",\r\n            \"type\": \"fill\",\r\n            \"source\": \"polygon\",\r\n            \"layout\": {},\r\n            \"paint\": {\r\n                \"fill-color\": \"#5dbe8c\",\r\n                \"fill-opacity\": 0.5\r\n            }\r\n        })\r\n      })\r\n  \r\n      return () => map.remove()\r\n    }\r\n  }, [lng, lat])\r\n\r\n  const createGeoJSONCircle = (center, radiusInKm, points) => {\r\n    if(!points) points = 64;\r\n\r\n    const coords = {\r\n      latitude: center[1],\r\n      longitude: center[0]\r\n    }\r\n\r\n    const km = radiusInKm\r\n\r\n    let ret = []\r\n    const distanceX = km/(111.320*Math.cos(coords.latitude*Math.PI/180))\r\n    const distanceY = km/110.574\r\n\r\n    let theta, x, y\r\n    for(let i=0; i<points; i++) {\r\n      theta = (i/points)*(2*Math.PI)\r\n      x = distanceX*Math.cos(theta)\r\n      y = distanceY*Math.sin(theta)\r\n\r\n      ret.push([coords.longitude+x, coords.latitude+y])\r\n    }\r\n    ret.push(ret[0])\r\n\r\n    return {\r\n      \"type\": \"geojson\",\r\n      \"data\": {\r\n        \"type\": \"FeatureCollection\",\r\n        \"features\": [{\r\n          \"type\": \"Feature\",\r\n          \"geometry\": {\r\n            \"type\": \"Polygon\",\r\n            \"coordinates\": [ret]\r\n          }\r\n        }]\r\n      }\r\n    }\r\n  }\r\n\r\n  function onChange(value, dateString, input) {\r\n    console.log('Selected Time: ', value);\r\n    console.log('Formatted Selected Time: ', dateString);\r\n    console.log(input);\r\n    if (input === 'hours') {\r\n      setHoursDisabled(false)\r\n      setDaysDisabled(true)\r\n    } else {\r\n      setHoursDisabled(true)\r\n      setDaysDisabled(false)\r\n    }\r\n\r\n    if (!value) {\r\n      setHoursDisabled(false)\r\n      setDaysDisabled(false)\r\n      setTime(null)\r\n      setRentVisible(false)\r\n      return\r\n    }\r\n\r\n    if (input === 'hours') {\r\n      const currentTime = value[1].diff(value[0], 'hours') + 1\r\n      setTime(currentTime)\r\n      setRentedFrom(value[0])\r\n      setRentedTo(value[1])\r\n      setRentVisible(true)\r\n      setTotal(currentTime * product.priceHour)\r\n      createPreference(product._id, product.name, currentTime * product.priceHour, currentTime > 1 ? `for ${currentTime} hours` : `for ${currentTime} hour`)\r\n      console.log(currentTime)\r\n    } else {\r\n      const currentTime = value[1].diff(value[0], 'days') + 1\r\n      setTime(currentTime)\r\n      setRentedFrom(value[0])\r\n      setRentedTo(value[1])\r\n      setRentVisible(true)\r\n      setTotal(currentTime * product.priceDay)\r\n      createPreference(product._id, product.name, currentTime * product.priceDay, currentTime > 1 ? `for ${currentTime} days` : `for ${currentTime} day`)\r\n      console.log(currentTime)\r\n    }\r\n  }\r\n\r\n  const createPreference = async (productId, productName, total, time) => {\r\n    try {\r\n      const rentPreferenceInfo = { productId, productName, total, time }\r\n      console.log(rentPreferenceInfo)\r\n      const {data} = await getRentPreference(rentPreferenceInfo)\r\n      console.log(data)\r\n  \r\n      const script = document.createElement(\"script\")\r\n      script.src = \"https://www.mercadopago.com.ar/integrations/v1/web-payment-checkout.js\"\r\n      script.setAttribute(\"data-preference-id\", data.preferenceId)\r\n      script.setAttribute(\"data-button-label\", \"Rent\")\r\n  \r\n      setPreferenceId(data.preferenceId)\r\n  \r\n      if (buyButtonRef.current) {\r\n        buyButtonRef.current.innerHTML = ''\r\n        buyButtonRef.current.appendChild(script)\r\n      }\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  const clickedCreateRent = async () => {\r\n    try {\r\n      let type\r\n      if (!hoursDisabled) {\r\n        type = 'hour'\r\n      } else {\r\n        type = 'day'\r\n      }\r\n  \r\n      const rentInfo = {\r\n        product: product._id,\r\n        owner: product.owner._id,\r\n        total,\r\n        rentedFrom: rentedFrom.toDate(),\r\n        rentedTo: rentedTo.toDate(),\r\n        type,\r\n        preferenceId\r\n      }\r\n  \r\n      console.log(rentInfo)\r\n      await createRent(rentInfo)\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  function onOk(value) {\r\n    console.log('onOk: ', value);\r\n  }\r\n\r\n  function disabledDate(current) {\r\n    // Can not select days before today and today\r\n    return current < moment().startOf('day');\r\n  }\r\n\r\n  const handleQuestionSubmit = async (question) => {\r\n    setQuestionLoading(true)\r\n    const data = {\r\n      product: product._id,\r\n      owner: product.owner,\r\n      description: question.question\r\n    }\r\n    console.log(data)\r\n    try {\r\n      await createQuestion(data)\r\n      setQuestions([data, ...questions])\r\n      console.log(questions)\r\n      setQuestionLoading(false)\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n      setQuestionLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='product-cont'>\r\n      <Row gutter={[18, 18]} justify=\"center\" className='product-row'>\r\n        <Col span={14}>\r\n          {product ? (\r\n            <Carousel>\r\n              {product.images.map(image =>(\r\n                <img alt=\"product image\" src={image} className='slider-image' />\r\n              ))}\r\n            </Carousel>\r\n          ) : (\r\n            <Skeleton.Image className='image-skeleton' />\r\n          )}\r\n        </Col>\r\n        <Col span={10}>\r\n          {product ? (\r\n            <>\r\n              <div className='product-breadcrumbs'>\r\n                <Tag><Link to='/products'>products</Link></Tag>\r\n                <RightOutlined />\r\n                <Tag>{product.category}</Tag>\r\n              </div>\r\n              <Gradient\r\n                  gradients={[\r\n                    ['#00a1ba', '#9cd873'],\r\n                  ]}\r\n                  property=\"text\"\r\n                  element=\"h1\"\r\n                  angle=\"45deg\"\r\n                  className=\"text ant-typography\"\r\n                >\r\n                  {product.name}\r\n              </Gradient>\r\n              <DetailedRating rating={product.rating} />\r\n              <Divider dashed />\r\n              <section id='price-cont'>\r\n                <Title level={2} style={{display: 'inline-block'}}>${product.priceHour}</Title><Text>/hr</Text>\r\n                <br/>\r\n                <RangePicker\r\n                  showTime={{ format: 'HH' }}\r\n                  format=\"YYYY/MM/DD HH:00\"\r\n                  onChange={(value, dateString) => onChange(value, dateString, 'hours')}\r\n                  onOk={onOk}\r\n                  disabledDate={disabledDate}\r\n                  disabled={hoursDisabled}\r\n                />\r\n                {product.priceDay && (\r\n                  <>\r\n                    <Title level={4} style={{marginTop: 0}}>or</Title>\r\n                    <Title level={2} style={{display: 'inline-block', marginTop: 0}}>${product.priceDay}</Title><Text>/day</Text>\r\n                    <br/>\r\n                    <RangePicker\r\n                      format=\"YYYY/MM/DD\"\r\n                      onChange={(value, dateString) => onChange(value, dateString, 'days')}\r\n                      onOk={onOk}\r\n                      disabledDate={disabledDate}\r\n                      disabled={daysDisabled}\r\n                    />\r\n                  </>\r\n                )}\r\n                {rentVisible ? (\r\n                  <>\r\n                    <div className='total-container'>\r\n                      <Title level={2}>Total: ${total} </Title>\r\n                      {!hoursDisabled ? (\r\n                        <Text>{time > 1 ? `(${time} hours)` : `(${time} hour)`}</Text>\r\n                      ) : (\r\n                        <Text>{time > 1 ? `(${time} days)` : `(${time} day)`}</Text>\r\n                      )}\r\n                    </div>\r\n                    {/* <Gradient\r\n                      gradients={[\r\n                        ['#00a1ba', '#9cd873'],\r\n                      ]}\r\n                      property=\"background\"\r\n                      element=\"button\"\r\n                      angle=\"45deg\"\r\n                      className=\"add-rent ant-btn ant-btn-primary ant-btn-round ant-btn-lg\"\r\n                    >\r\n                      Rent\r\n                    </Gradient> */}\r\n                    <div ref={buyButtonRef} className='mp-bttn-container' onClick={clickedCreateRent}></div>\r\n                  </>\r\n                ) : (\r\n                  <Tooltip placement=\"topLeft\" title={<span>Please select your time period for the rental</span>}>\r\n                    <Gradient\r\n                      gradients={[\r\n                        ['#00a1ba', '#9cd873'],\r\n                      ]}\r\n                      property=\"background\"\r\n                      element=\"button\"\r\n                      angle=\"45deg\"\r\n                      className=\"add-rent add-rent-disabled ant-btn ant-btn-primary ant-btn-round ant-btn-lg\"\r\n                    >\r\n                      Rent\r\n                    </Gradient>\r\n                  </Tooltip>\r\n                )}\r\n              </section>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Skeleton.Button active size='small' shape='round' />\r\n              <Skeleton.Button active size='small' shape='round' />\r\n              <br/>\r\n              <Skeleton.Input style={{ width: 300, marginTop: '10px', marginBottom: '40px' }} active size='large' />\r\n              <Skeleton active />\r\n            </>\r\n          )}\r\n        </Col>\r\n        {product && (\r\n          <Col span={20}>\r\n            <Divider\r\n              //style={{width: '95%', minWidth: '95%', margin: '24px auto'}}\r\n            />\r\n            <Gradient\r\n                gradients={[\r\n                  ['#00a1ba', '#9cd873'],\r\n                ]}\r\n                property=\"text\"\r\n                element=\"h2\"\r\n                angle=\"45deg\"\r\n                className=\"ant-typography\"\r\n              >\r\n                About\r\n            </Gradient>\r\n            <Title level={4}>Description</Title>\r\n            <Paragraph>{product.description}</Paragraph>\r\n            <Title level={4}>Owner</Title>\r\n            <Descriptions bordered>\r\n              {product.owner.storeName ? (\r\n                <Descriptions.Item label=\"Store name\" span={3}>{product.owner.storeName}</Descriptions.Item>\r\n              ) : (\r\n                <Descriptions.Item label=\"Name\" span={3}>{product.owner.firstName}</Descriptions.Item>\r\n              )}\r\n              <Descriptions.Item label=\"Owner rating\" span={3}>\r\n                <DetailedRating rating={product.owner.rating} />\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"Location\" span={3}>\r\n                <div className=\"map-container\" ref={mapContainer} style={{height: '300px'}} />\r\n              </Descriptions.Item>\r\n            </Descriptions>\r\n            <Divider />\r\n            <Gradient\r\n                gradients={[\r\n                  ['#00a1ba', '#9cd873'],\r\n                ]}\r\n                property=\"text\"\r\n                element=\"h2\"\r\n                angle=\"45deg\"\r\n                className=\"ant-typography\"\r\n              >\r\n                Questions\r\n            </Gradient>\r\n            <Form form={form} onFinish={handleQuestionSubmit} layout='vertical' className='question-form'>\r\n              <Title level={4}>Ask something</Title>\r\n              <Form.Item\r\n                name=\"question\"\r\n              >\r\n                <Input.TextArea\r\n                  maxLength={1000}\r\n                  showCount={true}\r\n                  autoSize={{ minRows: 2, maxRows: 4 }}\r\n                />\r\n              </Form.Item>\r\n              <Button type='primary' htmlType='submit' size='large' shape=\"round\" loading={questionLoading}>\r\n                Ask\r\n              </Button>\r\n            </Form>\r\n            <Title level={4}>Previously asked</Title>\r\n            {questions.length > 0 ? questions.map( singleQuestion => (\r\n              <Comment\r\n                content={<p style={{fontSize: '1.2em'}}>{singleQuestion.description}</p>}\r\n              >\r\n                {singleQuestion.answer && (\r\n                  <Comment\r\n                    content={<p>{singleQuestion.answer}</p>}\r\n                  />\r\n                )}\r\n              </Comment>\r\n            )) : (\r\n              <Paragraph>No questions yet. Be the first one to ask!</Paragraph>\r\n            )}\r\n          </Col>\r\n        )}\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Product\r\n","import { useState, useEffect } from 'react'\r\nimport { useLocation, Link } from 'react-router-dom'\r\nimport { updateRent } from \"../services/rents\"\r\nimport { Col, Row, Button, Typography, Spin } from 'antd'\r\nimport { LoadingOutlined, CheckOutlined } from '@ant-design/icons'\r\nimport { Gradient } from 'react-gradient'\r\n\r\nconst { Paragraph, Title } = Typography;\r\n\r\nconst antIcon = <LoadingOutlined style={{ fontSize: 40, color: '#5dbe8c' }} spin />\r\n\r\nconst PaymentSuccess = () => {\r\n  const [loading, setLoading] = useState(true)\r\n  const [rent, setRent] = useState(null)\r\n\r\n  const useQuery = () => new URLSearchParams(useLocation().search)\r\n  const preference_id = useQuery().get('preference_id')\r\n  console.log(preference_id);\r\n  \r\n  const updateGivenRent = async (preferenceId) => {\r\n    try {\r\n      const { data } = await updateRent({preferenceId, status: 'in-progress'})\r\n      console.log(data)\r\n      setRent(data)\r\n      setLoading(false)\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    updateGivenRent(preference_id)\r\n  }, [])\r\n\r\n  return (\r\n    <Row justify=\"center\" align=\"middle\" className=\"main-row auth-cont success-page\">\r\n      <Col xs={22} sm={18} md={14} lg={10} xl={8} xxl={6}>\r\n        <div>\r\n          {loading || !rent ? (\r\n            <div style={{display: 'flex', justifyContent: 'center'}}>\r\n              <Spin indicator={antIcon} />\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <Gradient\r\n                gradients={[\r\n                  ['#00a1ba', '#9cd873'],\r\n                ]}\r\n                property=\"background\"\r\n                element=\"span\"\r\n                angle=\"45deg\"\r\n                className=\"text ant-typography check-cont\"\r\n              >\r\n                <CheckOutlined />\r\n              </Gradient>\r\n              <Title level={2}>Thank you for your rent!</Title>\r\n              <Paragraph>\r\n                Your rent for {rent.product.name} has successfully started!\r\n              </Paragraph>\r\n              <Paragraph>\r\n                You can view more info in your profile page\r\n              </Paragraph>\r\n              <div style={{display: 'flex', justifyContent: 'center'}}>\r\n                <Button type=\"primary\" size={'large'} shape=\"round\" style={{height: 'auto', padding: '6px 30px'}}>\r\n                  <Link to='/profile/rents' style={{color: '#fff', fontSize: '1.5em'}}>More info</Link>\r\n                </Button>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default PaymentSuccess\r\n","import {BrowserRouter, Switch, Route} from 'react-router-dom'\r\nimport LayoutApp from './components/LayoutApp'\r\nimport PrivateRoute from './components/PrivateRoute'\r\nimport LoggedOutRoute from './components/LoggedOutRoute'\r\nimport Home from './pages/Home'\r\nimport Login from './pages/Login'\r\nimport Signup from './pages/Signup'\r\nimport Activate from './pages/Activate'\r\nimport Profile from './pages/Profile'\r\nimport Products from './pages/Products'\r\nimport Product from './pages/Product'\r\nimport PaymentSuccess from './pages/PaymentSuccess'\r\n\r\nfunction Router() {\r\n  return (\r\n    <BrowserRouter>\r\n      <LayoutApp>\r\n        <Switch>\r\n          <Route component={Home} path='/' exact/>\r\n          <LoggedOutRoute component={Login} path='/login'/>\r\n          <LoggedOutRoute component={Signup} path='/signup'/>\r\n          <LoggedOutRoute component={Activate} path='/activate/:id'/>\r\n          <PrivateRoute component={Profile} path='/profile'/>\r\n          <Route component={Products} path='/products'/>\r\n          <Route component={Product} path='/product/:id'/>\r\n          <Route component={PaymentSuccess} path='/success'/>\r\n        </Switch>\r\n      </LayoutApp>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\nexport default Router","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport reportWebVitals from './reportWebVitals'\nimport Router from './Router'\nimport 'antd/dist/antd.css'\nimport './index.scss'\nimport './styles/home.scss'\nimport './styles/auth.scss'\nimport './styles/profile.scss'\nimport './styles/products.scss'\nimport './styles/product.scss'\nimport { AuthProvider } from './hooks/authContext'\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthProvider>\n      <Router />\n    </AuthProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}