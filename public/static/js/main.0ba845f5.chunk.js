(this["webpackJsonprentit-front"]=this["webpackJsonprentit-front"]||[]).push([[0],{404:function(e,t,n){},405:function(e,t,n){},406:function(e,t,n){},407:function(e,t,n){},408:function(e,t,n){},409:function(e,t,n){},410:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(41),s=n.n(c),o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,441)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},i=n(28),l=n(48),d=n(16),u=n(21),j=n.n(u),p=n(31);var b=function(e,t){var n=localStorage.getItem(t),r=n?JSON.parse(n):e,c=Object(a.useState)(r),s=Object(d.a)(c,2),o=s[0],i=s[1];return Object(a.useEffect)((function(){localStorage.setItem(t,JSON.stringify(o))}),[o,t]),[o,i]},h=n(60),x=n.n(h),O=x.a.create({baseURL:"https://rentit-project.herokuapp.com/api/auth",withCredentials:!0}),m=function(e){return O.post("/signup",e)},g=function(e){return O.post("/login",e)},f=function(e){return O.patch("/info/change",e)},y=function(e){return O.patch("/avatar/change",e)},v=function(e){return O.get("/logout")},w=function(e){return O.get("/session")},k=function(e){return O.patch("/verify",e)},S=n(253),C=n(1),N=Object(a.createContext)(),I=function(e){var t=b(null,"user"),n=Object(d.a)(t,2),r=n[0],c=n[1];function s(){return(s=Object(p.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(t);case 3:n=e.sent,a=n.data,c(a),S.a.success({message:"Hello ".concat(a.firstName,"!"),description:"Thank you for logging in \ud83d\ude4c",duration:5,style:{borderRadius:"20px"}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function o(){return(o=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t("/"),e.next=4,v();case 4:c(null),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w();case 3:t=e.sent,(n=t.data)&&c(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]),Object(C.jsx)(N.Provider,{value:{user:r,login:function(e){return s.apply(this,arguments)},logout:function(e){return o.apply(this,arguments)},setUser:c},children:e.children})},R=function(){return Object(a.useContext)(N)},T=n(424),L=n(124),P=n(75),F=n(47),z=n(428),D=n(102),M=n(243),_=n(430),A=n(49),G=n(99),E=n(436),Y=n(255),H=n(437),q=n(35),U=function(e){var t=e.push,n=R(),r=n.user,c=n.logout,s=Object(a.useState)(!1),o=Object(d.a)(s,2),l=o[0],u=o[1],j=Object(a.useState)(!1),p=Object(d.a)(j,2),b=p[0],h=p[1],x=T.a.confirm,O=function(){u(!1)},m=function(e){h(e)};return Object(C.jsxs)(L.a,{justify:"space-between",align:"middle",children:[Object(C.jsxs)(P.a,{span:4,children:[Object(C.jsx)(F.a,{type:"text",onClick:function(){u(!0)},size:"large",children:Object(C.jsx)(E.a,{})}),Object(C.jsxs)(z.a,{placement:"left",closable:!0,onClose:O,visible:l,closeIcon:Object(C.jsx)(Y.a,{rotate:45}),children:[Object(C.jsx)(q.Gradient,{gradients:[["#00a1ba","#9cd873"]],property:"text",element:"h2",angle:"45deg",className:"text ant-typography",style:{display:"inline-block",padding:"0 16px",pointerEvents:"none",userSelect:"none"},children:"Store"}),Object(C.jsxs)(D.a,{theme:"light",children:[Object(C.jsx)(D.a.Item,{onClick:O,children:Object(C.jsx)(i.b,{to:"/products/all",children:"Products"})},"1"),Object(C.jsxs)(D.a.ItemGroup,{children:[Object(C.jsx)(D.a.Item,{onClick:O,children:Object(C.jsx)(i.b,{to:"/products/tools",children:"Tools"})},"2"),Object(C.jsx)(D.a.Item,{onClick:O,children:Object(C.jsx)(i.b,{to:"/products/technology",children:"Technology"})},"3"),Object(C.jsx)(D.a.Item,{onClick:O,children:Object(C.jsx)(i.b,{to:"/products/vehicles",children:"Vehicles"})},"4"),Object(C.jsx)(D.a.Item,{onClick:O,children:Object(C.jsx)(i.b,{to:"/products/sports",children:"Sports"})},"5"),Object(C.jsx)(D.a.Item,{onClick:O,children:Object(C.jsx)(i.b,{to:"/products/other",children:"Other"})},"6")]})]})]})]}),Object(C.jsx)(P.a,{span:4,align:"middle",children:Object(C.jsx)(i.b,{to:"/",children:Object(C.jsx)("img",{alt:"RENTIT",src:"https://res.cloudinary.com/djv6xyyqp/image/upload/v1614452197/rentit/images/rentit-logoRecurso_8_1x_dc0e8o.png",style:{maxHeight:"44px"}})})}),Object(C.jsx)(P.a,{span:4,align:"right",children:r?Object(C.jsx)(M.a,{placement:"bottomRight",title:Object(C.jsx)("span",{children:"".concat(r.firstName,"  ").concat(r.lastName)}),content:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(F.a,{type:"text",onClick:function(){return m(!1)},children:Object(C.jsx)(i.b,{to:"/profile",children:"Profile"})}),Object(C.jsx)("br",{}),Object(C.jsx)(F.a,{type:"text",onClick:function(){m(!1),x({icon:Object(C.jsx)(G.a,{}),content:Object(C.jsx)("h3",{children:"Are you sure you want to log out?"}),maskClosable:!0,onOk:function(){c(t)}})},children:"Log out"})]}),trigger:"click",visible:b,onVisibleChange:m,children:r.avatar?Object(C.jsx)(_.a,{src:r.avatar,style:{cursor:"pointer"}}):Object(C.jsx)(_.a,{style:{background:"linear-gradient(45deg, rgba(0,161,186,1) 0%, rgba(156,216,115,1) 100%)",cursor:"pointer"},children:"".concat(r.firstName[0]).concat(r.lastName[0])})}):Object(C.jsx)(A.a,{placement:"bottom",title:"Login/Signup",children:Object(C.jsx)(i.b,{to:"/login",style:{alignItems:"center"},children:Object(C.jsx)(H.a,{style:{fontSize:"1.6em",color:"rgba(0, 0, 0, 0.85)"}})})})})]})},J=n(412),B=J.a.Header,V=J.a.Content,$=J.a.Footer,Q=function(e){var t,n=e.children,a=Object(l.g)().push;return"/"===Object(l.h)().pathname&&(t={position:"absolute"}),Object(C.jsxs)(J.a,{className:"layout",children:[Object(C.jsx)(B,{style:t,children:Object(C.jsx)(U,{push:a})}),Object(C.jsx)(V,{children:Object(C.jsx)("div",{className:"site-layout-content",children:n})}),Object(C.jsxs)($,{style:{textAlign:"center"},children:["RENTIT \xa92020 Created by ",Object(C.jsxs)("a",{href:"https://github.com/JuanBatkis",target:"_blank",rel:"noreferrer",children:["Juan Batkis ",Object(C.jsx)("span",{style:{fontSize:"1.2em"},children:"\ud83d\udc4b"})]})]})]})},Z=n(69),W=n(178),K=function(e){var t=e.component,n=Object(W.a)(e,["component"]),a=R().user;return Object(C.jsx)(l.b,Object(Z.a)(Object(Z.a)({},n),{},{render:function(e){return a?Object(C.jsx)(t,Object(Z.a)({},e)):(S.a.error({message:"Something went wrong",description:"You must be logged in to access this section",duration:5,style:{borderRadius:"20px"}}),Object(C.jsx)(l.a,{to:"/login"}))}}))},X=function(e){var t=e.component,n=Object(W.a)(e,["component"]),a=R().user;return Object(C.jsx)(l.b,Object(Z.a)(Object(Z.a)({},n),{},{render:function(e){return a?Object(C.jsx)(l.a,{to:"/profile"}):Object(C.jsx)(t,Object(Z.a)({},e))}}))},ee=x.a.create({baseURL:"https://rentit-project.herokuapp.com/api/product",withCredentials:!0}),te=function(e){return ee.get("/all/".concat(e))},ne=function(e){return ee.post("/query",e)},ae=function(e){return ee.get("/".concat(e))},re=function(e,t){return ee.get("/user/".concat(e,"/").concat(t))},ce=function(e){return ee.delete("/".concat(e))},se=n(432),oe=n(423),ie=se.a.Meta,le=function(e){var t=e.product,n="".concat(t._id,"-").concat(t.name.replace(/\s+/g,"-").toLowerCase());return Object(C.jsx)(P.a,{xs:12,md:6,children:Object(C.jsx)(i.b,{to:"/product/".concat(n),children:Object(C.jsx)(se.a,{hoverable:!0,cover:t.images[0]?Object(C.jsx)("img",{alt:"product",src:t.images[0],style:{height:"320px",objectFit:"contain",padding:"1px"}}):Object(C.jsx)(oe.a.Image,{style:{height:"320px",width:"100%"}}),children:Object(C.jsx)(ie,{title:t.name,description:t.priceDay?"$".concat(t.priceHour,"/hr or $").concat(t.priceDay,"/day"):"$".concat(t.priceHour,"/hr")})})})})},de=n(421),ue=de.a.Title,je=de.a.Paragraph,pe=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useRef)(),s=Object(a.useRef)();return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te(8);case 3:t=e.sent,n=t.data,r(n.products),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("section",{id:"main-banner",children:Object(C.jsxs)(L.a,{className:"full-heigh",justify:"center",align:"middle",children:[Object(C.jsx)(P.a,{xs:24,md:7,offset:2,className:"banner-title",children:Object(C.jsx)(ue,{children:"A new way to get what you need"})}),Object(C.jsxs)(P.a,{xs:24,md:15,className:"full-heigh iframe-container",children:[Object(C.jsx)("div",{id:"iframeCover",ref:s,style:{opacity:"1"}}),Object(C.jsx)("iframe",{src:"https://my.spline.design/floating-adbb8c927f6e8e69a180701a9fb2ad6c/",frameBorder:"0",width:"100%",height:"100%",onLoad:function(){c.current.style.opacity="1",s.current.style.opacity="0"},ref:c,title:"3D Objects"})]})]})}),Object(C.jsxs)("section",{id:"latest-products",children:[Object(C.jsx)(q.Gradient,{gradients:[["#00a1ba","#9cd873"]],property:"text",element:"h2",angle:"45deg",className:"text ant-typography",children:"Latest products"}),Object(C.jsx)(L.a,{gutter:[16,16],style:{padding:"20px"},children:n?n.map((function(e){return Object(C.jsx)(le,{product:e})})):Object(C.jsx)(oe.a,{active:!0})})]}),Object(C.jsxs)("section",{id:"steps-cont",children:[Object(C.jsx)(q.Gradient,{gradients:[["#00a1ba","#9cd873"]],property:"text",element:"h2",angle:"45deg",className:"text ant-typography",children:"Just a few simple steps"}),Object(C.jsxs)(L.a,{gutter:[16,16],style:{padding:"20px"},justify:"center",children:[Object(C.jsxs)(P.a,{span:8,align:"middle",children:[Object(C.jsx)(q.Gradient,{gradients:[["#00a1ba","#9cd873"]],property:"background",element:"h2",angle:"45deg",className:"text ant-typography steps",children:"1"}),Object(C.jsx)(je,{children:"Find the best product near you"})]}),Object(C.jsxs)(P.a,{span:8,align:"middle",children:[Object(C.jsx)(q.Gradient,{gradients:[["#00a1ba","#9cd873"]],property:"background",element:"h2",angle:"45deg",className:"text ant-typography steps",children:"2"}),Object(C.jsx)(je,{children:"Select the amount of time you need it"})]}),Object(C.jsxs)(P.a,{span:8,align:"middle",children:[Object(C.jsx)(q.Gradient,{gradients:[["#00a1ba","#9cd873"]],property:"background",element:"h2",angle:"45deg",className:"text ant-typography steps",children:"3"}),Object(C.jsx)(je,{children:"Enjoy your life without unnecessary clutter"})]}),Object(C.jsx)(P.a,{span:8,align:"middle",children:Object(C.jsx)(q.Gradient,{gradients:[["#00a1ba","#9cd873"]],property:"background",element:"button",angle:"45deg",className:"ant-btn ant-btn-primary ant-btn-round ant-btn-lg",children:Object(C.jsx)(i.b,{to:"/products/all",children:"Start renting!"})})})]})]})]})},be=n(419),he=n(427),xe=n(413),Oe=n(438),me=de.a.Text,ge=function(){var e=be.a.useForm(),t=Object(d.a)(e,1)[0],n=R().login;return Object(C.jsx)(L.a,{justify:"center",align:"middle",className:"main-row auth-cont",children:Object(C.jsx)(P.a,{xs:22,sm:18,md:14,lg:10,xl:8,xxl:6,children:Object(C.jsxs)("div",{children:[Object(C.jsx)(q.Gradient,{gradients:[["#00a1ba","#9cd873"]],property:"text",element:"h1",angle:"45deg",className:"text ant-typography",children:"Login"}),Object(C.jsxs)(be.a,{form:t,onFinish:function(e){n(e)},layout:"vertical",children:[Object(C.jsx)(be.a.Item,{name:"email",label:"Email:",children:Object(C.jsx)(he.a,{type:"email"})}),Object(C.jsx)(be.a.Item,{name:"password",label:"Password:",children:Object(C.jsx)(he.a.Password,{})}),Object(C.jsx)(F.a,{type:"primary",htmlType:"submit",block:!0,size:"large",shape:"round",children:"Log me in!"})]}),Object(C.jsx)(xe.a,{id:"socialDivider",children:"Or connect with"}),Object(C.jsxs)(L.a,{justify:"center",align:"middle",className:"socialLogin",children:[Object(C.jsx)(P.a,{span:6,align:"middle",children:Object(C.jsx)("a",{href:"/api/auth/google",children:Object(C.jsx)(Oe.a,{})})}),Object(C.jsx)(P.a,{span:24,align:"middle",className:"changeAuth",children:Object(C.jsxs)(me,{children:["Don't have an account? ",Object(C.jsx)(i.b,{to:"/signup",children:"Sign up here!"})]})})]})]})})})},fe=de.a.Text,ye=function(){var e=be.a.useForm(),t=Object(d.a)(e,1)[0],n=Object(l.g)().push;function a(){return(a=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(t);case 3:S.a.success({message:"Account created!",description:"Hello ".concat(t.firstName," \ud83d\udc4b. Please check your email to verify your account"),duration:5,style:{borderRadius:"20px"}}),n("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(C.jsx)(L.a,{justify:"center",align:"middle",className:"main-row auth-cont",children:Object(C.jsx)(P.a,{xs:22,sm:18,md:14,lg:10,xl:8,xxl:6,children:Object(C.jsxs)("div",{children:[Object(C.jsx)(q.Gradient,{gradients:[["#00a1ba","#9cd873"]],property:"text",element:"h1",angle:"45deg",className:"text ant-typography",children:"Sign up"}),Object(C.jsxs)(be.a,{form:t,onFinish:function(e){return a.apply(this,arguments)},layout:"vertical",children:[Object(C.jsx)(be.a.Item,{name:"email",label:"Email:",children:Object(C.jsx)(he.a,{type:"email"})}),Object(C.jsxs)(L.a,{gutter:6,children:[Object(C.jsx)(P.a,{span:12,children:Object(C.jsx)(be.a.Item,{name:"firstName",label:"First name:",children:Object(C.jsx)(he.a,{})})}),Object(C.jsx)(P.a,{span:12,children:Object(C.jsx)(be.a.Item,{name:"lastName",label:"Last name:",children:Object(C.jsx)(he.a,{})})})]}),Object(C.jsx)(be.a.Item,{name:"storeName",label:"Store name:",children:Object(C.jsx)(he.a,{})}),Object(C.jsx)(be.a.Item,{name:"phone",label:"Phone:",children:Object(C.jsx)(he.a,{})}),Object(C.jsx)(be.a.Item,{name:"password",label:"Password:",children:Object(C.jsx)(he.a.Password,{})}),Object(C.jsx)(be.a.Item,{name:"confirmPassword",label:"Confirm password:",children:Object(C.jsx)(he.a.Password,{})}),Object(C.jsx)(F.a,{type:"primary",htmlType:"submit",block:!0,size:"large",shape:"round",children:"Sign me up!"})]}),Object(C.jsx)(xe.a,{id:"socialDivider",children:"Or connect with"}),Object(C.jsxs)(L.a,{justify:"center",align:"middle",className:"socialLogin",children:[Object(C.jsx)(P.a,{span:6,align:"middle",children:Object(C.jsx)("a",{href:"/api/auth/google",children:Object(C.jsx)(Oe.a,{})})}),Object(C.jsx)(P.a,{span:24,align:"middle",className:"changeAuth",children:Object(C.jsxs)(fe,{children:["Already have an account? ",Object(C.jsx)(i.b,{to:"/login",children:"Log in here!"})]})})]})]})})})},ve=n(172),we=n(71),ke=de.a.Paragraph,Se=Object(C.jsx)(we.a,{style:{fontSize:40,color:"#5dbe8c"},spin:!0}),Ce=function(){var e=Object(l.i)().id,t=Object(a.useState)(!0),n=Object(d.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(null),o=Object(d.a)(s,2),u=o[0],b=o[1],h=function(){var e=Object(p.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k({id:t});case 3:n=e.sent,a=n.data,b(a.firstName),c(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){h(e)}),[]),Object(C.jsx)(L.a,{justify:"center",align:"middle",className:"main-row auth-cont",children:Object(C.jsx)(P.a,{xs:22,sm:18,md:14,lg:10,xl:8,xxl:6,children:Object(C.jsx)("div",{children:r?Object(C.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(C.jsx)(ve.a,{indicator:Se})}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(q.Gradient,{gradients:[["#00a1ba","#9cd873"]],property:"text",element:"h1",angle:"45deg",className:"text ant-typography",children:["Hello ",u,"!"]}),Object(C.jsx)(ke,{children:"Your account has been successfully activated!"}),Object(C.jsx)(ke,{children:"You can now proceed to login and start taking advantage of every feature of our platform!"}),Object(C.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(C.jsx)(F.a,{type:"primary",size:"large",shape:"round",style:{height:"auto",padding:"6px 30px"},children:Object(C.jsx)(i.b,{to:"/login",style:{color:"#fff",fontSize:"1.5em"},children:"Log in!"})})})]})})})})},Ne=n(45),Ie=n.n(Ne),Re=(n(193),n(173)),Te=n.n(Re),Le=(n(233),n(433)),Pe=n(434),Fe=n(121),ze=n(425),De=de.a.Text,Me=function(e){var t=e.rating,n=t.one+t.two+t.three+t.four+t.five;return Object(C.jsxs)("div",{children:[Object(C.jsx)(ze.a,{allowHalf:!0,disabled:!0,defaultValue:t.total}),Object(C.jsx)(De,{children:" (".concat(n,1===n?" rating)":" ratings)")})]})};Ie.a.accessToken="pk.eyJ1IjoianVhbmJhdGtpcyIsImEiOiJja2xlMDJ1Y240ZHR1Mnd1aTVqOGIxdWpyIn0.GQOtc1ghwfAhcaavE_Z3yA",Ie.a.workerClass=n(194).default;var _e=de.a.Title,Ae=de.a.Text,Ge=function(){var e=R().user,t=R().setUser,n=Object(a.useState)(e.firstName),r=Object(d.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)(e.lastName),i=Object(d.a)(o,2),l=i[0],u=i[1],b=Object(a.useState)(e.storeName),h=Object(d.a)(b,2),x=h[0],m=h[1],g=Object(a.useState)(e.phone),y=Object(d.a)(g,2),v=y[0],k=y[1],N=Object(a.useRef)(),I=Object(a.useState)(!1),T=Object(d.a)(I,2),z=T[0],D=T[1],M=Object(a.useState)(!1),_=Object(d.a)(M,2),A=_[0],G=_[1],E=Object(a.useState)("Save location"),Y=Object(d.a)(E,2),H=Y[0],U=Y[1],J=Object(a.useState)(null),B=Object(d.a)(J,2),V=B[0],$=B[1],Q=Object(a.useState)(e.location.coordinates?e.location.coordinates[0]:-73.51822),Z=Object(d.a)(Q,2),W=Z[0],K=Z[1],X=Object(a.useState)(e.location.coordinates?e.location.coordinates[1]:40.76127),ee=Object(d.a)(X,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(!1),re=Object(d.a)(ae,2),ce=re[0],se=re[1],oe=function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={firstName:c,lastName:l,storeName:x,phone:v},e.next=4,f(t);case 4:ie(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){oe()}),[c,l,x,v]),Object(a.useEffect)((function(){var t=new Ie.a.Map({container:N.current,style:"mapbox://styles/mapbox/streets-v11",center:[W,te],zoom:e.location.coordinates?12:4}),n=new Te.a({accessToken:Ie.a.accessToken,mapboxgl:Ie.a,marker:!1,flyTo:{speed:2}});t.addControl(n),t.addControl(new Ie.a.NavigationControl),t.addControl(new Ie.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},showAccuracyCircle:!1,showUserLocation:!1}));var a=new Ie.a.Marker({draggable:!1}).setLngLat([W,te]).addTo(t);return t.on("movestart",(function(e){a.setLngLat(t.getCenter())})),t.on("move",(function(e){a.setLngLat(t.getCenter())})),t.on("moveend",(function(e){t.getCenter().lng.toFixed(4)===W.toFixed(4)&&t.getCenter().lat.toFixed(4)===te.toFixed(4)||se(!0),G(!1),U("Save location"),a.setLngLat(t.getCenter())})),t.on("load",(function(){$(t)})),function(){return t.remove()}}),[W,te]);var ie=function(){var e=Object(p.a)(j.a.mark((function e(){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w();case 3:n=e.sent,(a=n.data)&&t(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N.current.style.pointerEvents="none",N.current.style.opacity=.5,D(!0),U("Saving location"),e.next=7,t={lng:V.getCenter().lng,lat:V.getCenter().lat},O.patch("/location/change",t);case 7:ie(),N.current.style.pointerEvents="all",N.current.style.opacity=1,K(V.getCenter().lng),ne(V.getCenter().lat),D(!1),G(Object(C.jsx)(Fe.a,{})),U("Saved location"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 20:case"end":return e.stop()}var t}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"user-info-header",children:[Object(C.jsx)(q.Gradient,{gradients:[["#00a1ba","#9cd873"]],property:"text",element:"h1",angle:"45deg",className:"text ant-typography",children:"".concat(c," ").concat(l)}),Object(C.jsxs)("div",{className:"user-score",children:[Object(C.jsx)(_e,{level:5,children:"User score:"}),Object(C.jsx)(Me,{rating:e.rating})]})]}),Object(C.jsx)(xe.a,{}),Object(C.jsxs)(L.a,{gutter:16,children:[Object(C.jsxs)(P.a,{xs:10,md:12,children:[Object(C.jsx)(_e,{level:2,children:"User info:"}),Object(C.jsx)(_e,{level:4,children:"First name:"}),Object(C.jsx)(Ae,{editable:{onChange:s},children:c}),Object(C.jsx)(_e,{level:4,children:"Last name:"}),Object(C.jsx)(Ae,{editable:{onChange:u},children:l}),Object(C.jsx)(_e,{level:4,children:"Store name:"}),Object(C.jsx)(Ae,{editable:{onChange:m},children:x}),Object(C.jsx)(_e,{level:4,children:"Phone number:"}),Object(C.jsx)(Ae,{editable:{onChange:k},children:v})]}),Object(C.jsxs)(P.a,{xs:14,md:12,className:"location-container",children:[!e.location.coordinates&&Object(C.jsx)(Le.a,{message:"You won't me able to create products without saving a location",type:"warning",showIcon:!0}),Object(C.jsx)("div",{className:"map-container",ref:N,style:{height:"500px"}}),Object(C.jsxs)(Pe.b,{className:"location-buttons",style:ce?{opacity:1,pointerEvents:"all"}:{opacity:0,pointerEvents:"none"},children:[Object(C.jsx)(F.a,{type:"primary",shape:"round",size:"large",loading:z,icon:A,onClick:le,children:H}),Object(C.jsx)(F.a,{danger:!0,shape:"round",size:"large",onClick:function(){V.flyTo({center:[W,te],speed:2,essential:!0}),se(!1)},children:"Restore location"})]})]})]})]})},Ee=x.a.create({baseURL:"https://rentit-project.herokuapp.com/api/rent",withCredentials:!0}),Ye=function(e){return Ee.get("/all/".concat(e))},He=function(e){return Ee.post("/preference",e)},qe=function(e){return Ee.post("/",e)},Ue=x.a.create({baseURL:"https://rentit-project.herokuapp.com/api/review",withCredentials:!0}),Je=function(e){return Ue.post("/",e)},Be=n(55),Ve=n.n(Be),$e=n(201),Qe=n(416),Ze=n(439),We=$e.a.TabPane,Ke=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)("renter"),s=Object(d.a)(c,2),o=s[0],l=s[1],u=function(){var e=Object(p.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(null),e.next=4,Ye(t);case 4:n=e.sent,a=n.data,r(a.rents),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(p.a)(j.a.mark((function e(t,n,a){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="product"===a?{productId:n,rating:t}:{userId:n,rating:t},e.next=4,Je(r);case 4:S.a.success({message:"Thank you!",description:"Your ".concat(t," star review has been added successfully saved \ud83c\udf89"),duration:5,style:{borderRadius:"20px"}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){u(o)}),[o]);var h=function(e,t){return Object(C.jsx)(ze.a,{tooltips:["terrible","bad","normal","good","wonderful"],onChange:function(n){return b(n,e,t)}})},x=function(e,t,n){return"day"===t.type?Ve()(e).format("YYYY/MM/DD"):Ve()(e).format("YYYY/MM/DD HH:00")},O=[{title:"Product",dataIndex:"product",key:"product",render:function(e,t,n){var a="".concat(t.product._id,"-").concat(e.name.replace(/\s+/g,"-").toLowerCase());return"owner"===o?Object(C.jsx)(i.b,{to:"/product/".concat(a),children:e.name}):Object(C.jsxs)(Pe.b,{children:[Object(C.jsx)(i.b,{to:"/product/".concat(a),children:e.name}),Object(C.jsx)(M.a,{placement:"topRight",title:"Rate product",content:function(){return h(t.product._id,"product")},trigger:"click",children:Object(C.jsx)(F.a,{type:"primary",shape:"circle",icon:Object(C.jsx)(Ze.a,{}),size:"small"})})]})}},{title:"Rented from",dataIndex:"rentedFrom",key:"rentedFrom",render:x},{title:"Rented to",dataIndex:"rentedTo",key:"rentedTo",render:x},{title:"Total",dataIndex:"total",key:"total",render:function(e,t,n){var a="$".concat(e," for ");if("day"===t.type){var r=Ve()(t.rentedTo).diff(Ve()(t.rentedFrom),"days")+1;return"".concat(a," ").concat(r," ").concat(r>1?"days":"day")}var c=Ve()(t.rentedTo).diff(Ve()(t.rentedFrom),"hours")+1;return"".concat(a," ").concat(c," ").concat(c>1?"hours":"hour")}},{title:"owner"===o?"Renter":"Owner",dataIndex:"owner"===o?"renter":"owner",key:"owner"===o?"renter":"owner",render:function(e,t,n){return"owner"===o?Object(C.jsxs)(Pe.b,{children:[e.firstName,Object(C.jsx)(M.a,{placement:"topRight",title:"Rate renter",content:function(){return h(t.renter._id,"user")},trigger:"click",children:Object(C.jsx)(F.a,{type:"primary",shape:"circle",icon:Object(C.jsx)(Ze.a,{}),size:"small"})})]}):e.storeName?Object(C.jsxs)(Pe.b,{children:[e.storeName,Object(C.jsx)(M.a,{placement:"topRight",title:"Rate owner",content:function(){return h(t.owner._id,"user")},trigger:"click",children:Object(C.jsx)(F.a,{type:"primary",shape:"circle",icon:Object(C.jsx)(Ze.a,{}),size:"small"})})]}):Object(C.jsxs)(Pe.b,{children:[e.firstName,Object(C.jsx)(M.a,{placement:"topRight",title:"Rate owner",content:function(){return h(t.owner._id,"user")},trigger:"click",children:Object(C.jsx)(F.a,{type:"primary",shape:"circle",icon:Object(C.jsx)(Ze.a,{}),size:"small"})})]})}}];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"user-info-header",children:Object(C.jsx)(Pe.b,{size:"middle",children:Object(C.jsx)(q.Gradient,{gradients:[["#00a1ba","#9cd873"]],property:"text",element:"h1",angle:"45deg",className:"text ant-typography",children:"Rents"})})}),Object(C.jsxs)($e.a,{onChange:function(e){1===Number(e)?l("renter"):l("owner")},type:"card",children:[Object(C.jsx)(We,{tab:"Rented by me",children:n?Object(C.jsx)(Qe.a,{dataSource:n,columns:O,scroll:{x:!0}}):Object(C.jsx)(oe.a,{active:!0})},"1"),Object(C.jsx)(We,{tab:"Owned by me",children:n?Object(C.jsx)(Qe.a,{dataSource:n,columns:O,scroll:{x:!0}}):Object(C.jsx)(oe.a,{active:!0})},"2")]})]})},Xe=x.a.create({baseURL:"https://rentit-project.herokuapp.com/api/question",withCredentials:!0}),et=function(e){return Xe.post("/",e)},tt=function(e){return Xe.get("/user-question/".concat(e))},nt=$e.a.TabPane,at=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)("renter"),s=Object(d.a)(c,2),o=s[0],l=s[1],u=Object(a.useState)(!1),b=Object(d.a)(u,2),h=b[0],x=b[1],O=Object(a.useState)(null),m=Object(d.a)(O,2),g=m[0],f=m[1],y=Object(a.useState)(""),v=Object(d.a)(y,2),w=v[0],k=v[1],N=Object(a.useState)(!1),I=Object(d.a)(N,2),R=I[0],L=I[1],P=function(){var e=Object(p.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(null),e.next=4,tt(t);case 4:n=e.sent,a=n.data,r(a.questions),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){P(o)}),[o]);var z=function(){var e=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L(!0),e.next=4,t=g,n={answer:w},Xe.patch("/".concat(t),n);case 4:P(o),f(null),k(""),L(!1),x(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 14:case"end":return e.stop()}var t,n}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),D=[{title:"Status",dataIndex:"status",render:function(e){return"answered"===e?"Answered":"Not answered"},filters:[{text:"Answered",value:"answered"},{text:"Not answered",value:"not-answered"}],onFilter:function(e,t){return 0===t.status.indexOf(e)},filterMultiple:!1},{title:"Product",dataIndex:"product",key:"product",render:function(e,t,n){var a="".concat(t.product._id,"-").concat(e.name.replace(/\s+/g,"-").toLowerCase());return Object(C.jsx)(i.b,{to:"/product/".concat(a),children:e.name})}},{title:"Question",dataIndex:"description",key:"description",render:function(e){return e}},{title:"Answer",dataIndex:"answer",key:"answer",render:function(e,t,n){return"owner"===o?e||Object(C.jsx)(F.a,{type:"link",onClick:function(){return e=t._id,x(!0),void f(e);var e},children:"Respond"}):e||"-"}},{title:"owner"===o?"User":"Owner",dataIndex:"owner"===o?"user":"owner",key:"owner"===o?"user":"owner",render:function(e){return"owner"===o?e.firstName:e.storeName?e.storeName:e.firstName}}];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"user-info-header",children:Object(C.jsx)(Pe.b,{size:"middle",children:Object(C.jsx)(q.Gradient,{gradients:[["#00a1ba","#9cd873"]],property:"text",element:"h1",angle:"45deg",className:"text ant-typography",children:"Questions"})})}),Object(C.jsxs)($e.a,{onChange:function(e){1===Number(e)?l("renter"):l("owner")},type:"card",className:"questions-table",children:[Object(C.jsx)(nt,{tab:"Asked by me",children:n?Object(C.jsx)(Qe.a,{columns:D,dataSource:n,scroll:{x:!0}}):Object(C.jsx)(oe.a,{active:!0})},"1"),Object(C.jsxs)(nt,{tab:"Asked to me",children:[n?Object(C.jsx)(Qe.a,{columns:D,dataSource:n,scroll:{x:!0}}):Object(C.jsx)(oe.a,{active:!0}),Object(C.jsx)(T.a,{visible:h,onOk:z,onCancel:function(){x(!1),f(null),k("")},closable:!1,confirmLoading:R,children:Object(C.jsx)(he.a.TextArea,{value:w,onChange:function(e){var t=e.target.value;k(t)},maxLength:1e3,showCount:!0,autoSize:{minRows:2,maxRows:4}})})]},"2")]})]})},rt=n(254),ct=n(414),st=n(256),ot=function(){var e=R().user,t=Object(a.useState)(null),n=Object(d.a)(t,2),r=n[0],c=n[1];function s(){return(s=Object(p.a)(j.a.mark((function t(){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,re(e._id,20);case 3:n=t.sent,a=n.data,c(a.products),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),S.a.error({message:"Something went wrong",description:t.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function o(){return(o=Object(p.a)(j.a.mark((function t(n){var a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce(n);case 3:return t.next=5,re(e._id,20);case 5:a=t.sent,r=a.data,c(r.products),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),S.a.error({message:"Something went wrong",description:t.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}Object(a.useEffect)((function(){!function(){s.apply(this,arguments)}()}),[]);var l=[{title:"Name",dataIndex:"name",key:"name",render:function(e,t,n){var a="".concat(t._id,"-").concat(e.replace(/\s+/g,"-").toLowerCase());return Object(C.jsx)(i.b,{to:"/product/".concat(a),children:e})}},{title:"Price hour",dataIndex:"priceHour",key:"priceHour",render:function(e){return"$".concat(e)}},{title:"Price day",dataIndex:"priceDay",key:"priceDay",render:function(e){return e?"$".concat(e):"-"}},{title:"Category",dataIndex:"category",key:"category",render:function(e){return Object(C.jsx)(rt.a,{color:"green",children:e})}},{title:"Description",dataIndex:"description",key:"description"},{title:"Rating",dataIndex:"rating",key:"rating",render:function(e){return 0===e.total?"-":e.total}},{title:"Action",key:"_id",align:"center",render:function(e){return Object(C.jsx)(Pe.b,{size:"middle",children:Object(C.jsx)(ct.a,{title:"Are you sure to delete this product?",placement:"topRight",onConfirm:function(){return function(e){return o.apply(this,arguments)}(e._id)},okText:"Delete",cancelText:"Cancel",children:Object(C.jsx)(F.a,{type:"link",danger:!0,size:"large",children:Object(C.jsx)(st.a,{})})})})}}];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"user-info-header",children:Object(C.jsxs)(Pe.b,{size:"middle",children:[Object(C.jsx)(q.Gradient,{gradients:[["#00a1ba","#9cd873"]],property:"text",element:"h1",angle:"45deg",className:"text ant-typography",children:"Products"}),e.location.coordinates?Object(C.jsx)(F.a,{type:"primary",icon:Object(C.jsx)(Y.a,{}),size:"large",shape:"round",children:Object(C.jsx)(i.b,{to:"/profile/products/add",style:{color:"#fff"},children:"Add new"})}):Object(C.jsx)(F.a,{type:"primary",disabled:!0,size:"large",shape:"round",children:"Save your location to add products"})]})}),r?Object(C.jsx)(Qe.a,{dataSource:r,columns:l,scroll:{x:!0}}):Object(C.jsx)(oe.a,{active:!0})]})},it=n(136),lt=n(429),dt=n(418),ut=it.a.Option,jt={labelCol:{span:8},wrapperCol:{span:24}},pt={wrapperCol:{offset:0,span:16}};function bt(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))}var ht=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(d.a)(c,2),o=s[0],u=s[1],b=Object(a.useState)(""),h=Object(d.a)(b,2),O=h[0],m=h[1],g=Object(a.useState)([]),f=Object(d.a)(g,2),y=f[0],v=f[1],w=Object(a.useState)(!1),k=Object(d.a)(w,2),N=k[0],I=k[1],R=Object(l.g)().push,z=function(){var e=Object(p.a)(j.a.mark((function e(t){var n,a,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"image/jpeg"===t.type||"image/png"===t.type||"image/webp"===t.type){e.next=4;break}return e.abrupt("return",S.a.error({message:"Something went wrong",description:"You can only upload a JPG/PNG/WEBP file!",duration:5,style:{borderRadius:"20px"}}));case 4:if(t.size/1024/1024<2){e.next=7;break}return e.abrupt("return",S.a.error({message:"Something went wrong",description:"Image must smaller than 2MB!",duration:5,style:{borderRadius:"20px"}}));case 7:return(n=new FormData).append("file",t),"https://api.cloudinary.com/v1_1/djv6xyyqp/image/upload",n.append("upload_preset","rentit_product"),I(!0),e.next=14,x.a.post("https://api.cloudinary.com/v1_1/djv6xyyqp/image/upload",n);case 14:a=e.sent,r=a.data,(c=y).push({uid:r.asset_id,name:r.original_filename,status:"done",url:r.secure_url}),v(c),I(!1),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.url||t.preview){e.next=5;break}return e.next=4,bt(t.originFileObj);case 4:t.preview=e.sent;case 5:u(t.url||t.preview),r(!0),m(t.name||t.url.substring(t.url.lastIndexOf("/")+1)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),M=Object(C.jsxs)("div",{children:[N?Object(C.jsx)(we.a,{}):Object(C.jsx)(Y.a,{}),Object(C.jsx)("div",{style:{marginTop:8},children:"Upload"})]}),_=function(){var e=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.images=y.map((function(e){return e.url})),e.prev=1,e.next=4,n=t,ee.post("/",n);case 4:S.a.success({message:"Product created!",description:"".concat(t.name," has been added successfully to your available rentals \ud83c\udf89"),duration:5,style:{borderRadius:"20px"}}),R("/profile/products"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 11:case"end":return e.stop()}var n}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)(be.a,Object(Z.a)(Object(Z.a)({},jt),{},{name:"basic",initialValues:{remember:!0},onFinish:_,layout:"vertical",children:[Object(C.jsx)(be.a.Item,{label:"Product name:",name:"name",rules:[{required:!0,message:"Please input the product name!"}],children:Object(C.jsx)(he.a,{size:"large"})}),Object(C.jsxs)(L.a,{gutter:6,children:[Object(C.jsx)(P.a,{span:12,children:Object(C.jsx)(be.a.Item,{label:"Price per hour:",name:"priceHour",rules:[{required:!0,message:"Please input the price per hour!"}],children:Object(C.jsx)(lt.a,{defaultValue:1,min:0,formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")},style:{width:"100%"}})})}),Object(C.jsx)(P.a,{span:12,children:Object(C.jsx)(be.a.Item,{label:"Price per day:",name:"priceDay",children:Object(C.jsx)(lt.a,{min:0,formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")},style:{width:"100%"}})})})]}),Object(C.jsx)(be.a.Item,{label:"Category",name:"category",rules:[{required:!0,message:"Please select a category!"}],children:Object(C.jsxs)(it.a,{placeholder:"Please select a category",children:[Object(C.jsx)(ut,{value:"tools",children:"Tools"}),Object(C.jsx)(ut,{value:"technology",children:"Technology"}),Object(C.jsx)(ut,{value:"vehicles",children:"Vehicles"}),Object(C.jsx)(ut,{value:"sports",children:"Sports"}),Object(C.jsx)(ut,{value:"other",children:"Other"})]})}),Object(C.jsx)(be.a.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Please input a description!"}],children:Object(C.jsx)(he.a.TextArea,{maxLength:2e3,showCount:!0,autoSize:{minRows:3,maxRows:8}})}),Object(C.jsx)(dt.a,{listType:"picture-card",fileList:y,beforeUpload:z,onPreview:D,method:"get",onRemove:function(e){var t=y.filter((function(t){return t.uid!==e.uid}));v(t)},children:y.length>=8?null:M}),Object(C.jsx)(T.a,{visible:n,title:O,footer:null,onCancel:function(){return r(!1)},children:Object(C.jsx)("img",{alt:"example",style:{width:"100%"},src:o})}),Object(C.jsx)(be.a.Item,Object(Z.a)(Object(Z.a)({},pt),{},{children:Object(C.jsxs)(Pe.b,{size:"middle",children:[Object(C.jsx)(F.a,{type:"primary",htmlType:"submit",size:"large",shape:"round",children:"Create"}),Object(C.jsx)(F.a,{danger:!0,size:"large",shape:"round",children:Object(C.jsx)(i.b,{to:"/profile/products/",children:"Cancel"})})]})}))]}))},xt=n(435),Ot=n(440),mt=function(){var e=Object(l.j)().path,t=R().user,n=R().setUser,r=Object(a.useState)(!1),c=Object(d.a)(r,2),s=c[0],o=c[1],u=[{title:"User info",link:e},{title:"My rents",link:"".concat(e,"/rents")},{title:"My questions",link:"".concat(e,"/questions")},{title:"My products",link:"".concat(e,"/products")}],b=function(){var e=Object(p.a)(j.a.mark((function e(t){var n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o(!0),"image/jpeg"===t.type||"image/png"===t.type||"image/webp"===t.type){e.next=5;break}return e.abrupt("return",S.a.error({message:"Something went wrong",description:"You can only upload a JPG/PNG/WEBP file!",duration:5,style:{borderRadius:"20px"}}));case 5:if(t.size/1024/1024<2){e.next=8;break}return e.abrupt("return",S.a.error({message:"Something went wrong",description:"Image must smaller than 2MB!",duration:5,style:{borderRadius:"20px"}}));case 8:return(n=new FormData).append("file",t),"https://api.cloudinary.com/v1_1/djv6xyyqp/image/upload",n.append("upload_preset","rentit_avatar"),e.next=14,x.a.post("https://api.cloudinary.com/v1_1/djv6xyyqp/image/upload",n);case 14:return a=e.sent,r=a.data,e.next=18,y({avatar:r.secure_url});case 18:h(),o(!1),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(p.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w();case 3:t=e.sent,(a=t.data)&&n(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)(L.a,{gutter:[16,16],justify:"center",className:"main-row profile-row",children:[Object(C.jsx)(P.a,{xs:24,md:8,xl:6,children:Object(C.jsxs)("div",{className:"profile-cont side-menu-cont",children:[t.avatar?Object(C.jsxs)("div",{className:"avatar-container",children:[Object(C.jsx)(_.a,{size:150,src:t.avatar,style:{cursor:"pointer"}}),Object(C.jsx)(dt.a,{name:"avatar",showUploadList:!1,beforeUpload:b,className:"upload-cont",children:Object(C.jsx)(F.a,{icon:Object(C.jsx)(Ot.a,{}),shape:"circle",loading:s})})]}):Object(C.jsxs)("div",{className:"avatar-container",children:[Object(C.jsx)(_.a,{size:150,style:{background:"linear-gradient(45deg, rgba(0,161,186,1) 0%, rgba(156,216,115,1) 100%)"},children:"".concat(t.firstName[0]).concat(t.lastName[0])}),Object(C.jsx)(dt.a,{name:"avatar",showUploadList:!1,beforeUpload:b,className:"upload-cont",children:Object(C.jsx)(F.a,{icon:Object(C.jsx)(Ot.a,{}),shape:"circle",loading:s})})]}),Object(C.jsx)(xt.b,{size:"small",dataSource:u,renderItem:function(e){return Object(C.jsx)(xt.b.Item,{children:Object(C.jsx)(F.a,{type:"text",size:"large",children:Object(C.jsx)(i.b,{to:e.link,children:e.title})})})}})]})}),Object(C.jsx)(P.a,{xs:24,md:16,xl:14,children:Object(C.jsx)("div",{className:"profile-cont info-cont",children:Object(C.jsxs)(l.d,{children:[Object(C.jsx)(l.b,{component:Ge,path:e,exact:!0}),Object(C.jsx)(l.b,{component:Ke,path:"".concat(e,"/rents")}),Object(C.jsx)(l.b,{component:at,path:"".concat(e,"/questions")}),Object(C.jsx)(l.b,{component:ot,path:"".concat(e,"/products"),exact:!0}),Object(C.jsx)(l.b,{component:ht,path:"".concat(e,"/products/add")})]})})})]})},gt=n(426),ft=n(420),yt=n(84),vt=gt.a.Panel,wt=de.a.Title;Ie.a.accessToken="pk.eyJ1IjoianVhbmJhdGtpcyIsImEiOiJja2xlMDJ1Y240ZHR1Mnd1aTVqOGIxdWpyIn0.GQOtc1ghwfAhcaavE_Z3yA",Ie.a.workerClass=n(194).default;var kt=function(){var e=R().user,t=Object(l.i)().category,n=Object(a.useState)(null),r=Object(d.a)(n,2),c=r[0],s=r[1],o=Object(a.useRef)(),u=Object(a.useState)(null),b=Object(d.a)(u,2),h=b[0],x=b[1],O=Object(a.useState)(e&&e.location.coordinates?e.location.coordinates[0]:-58.401947),m=Object(d.a)(O,2),g=m[0],f=m[1],y=Object(a.useState)(e&&e.location.coordinates?e.location.coordinates[1]:-34.595134),v=Object(d.a)(y,2),w=v[0],k=v[1],N=Object(a.useState)(1),I=Object(d.a)(N,2),T=I[0],z=I[1],D=Object(a.useState)(!0),M=Object(d.a)(D,2),_=M[0],A=M[1],G=Object(a.useState)(Object(C.jsx)("h3",{children:"Colse map"})),E=Object(d.a)(G,2),Y=E[0],H=E[1],q=Object(a.useState)(!1),U=Object(d.a)(q,2),J=U[0],B=U[1];function V(e,t,n){return $.apply(this,arguments)}function $(){return($=Object(p.a)(j.a.mark((function e(n,a,r){var c,o,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,B(!0),c={limit:30,category:t,center:[n,a],radius:r},e.next=5,ne(c);case 5:o=e.sent,i=o.data,s(i.products),B(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}Object(a.useEffect)((function(){V(g,w,T)}),[t]),Object(a.useEffect)((function(){var e=new Ie.a.Map({container:o.current,style:"mapbox://styles/mapbox/streets-v11",center:[g,w],zoom:12}),t=new Te.a({accessToken:Ie.a.accessToken,mapboxgl:Ie.a,marker:!1,flyTo:{speed:2}});e.addControl(t),e.addControl(new Ie.a.NavigationControl),e.addControl(new Ie.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},showAccuracyCircle:!1,showUserLocation:!1}));var n=new Ie.a.Marker({draggable:!1}).setLngLat([g,w]).addTo(e);return e.on("movestart",(function(t){n.setLngLat(e.getCenter()),e.getSource("polygon").setData(Q([e.getCenter().lng,e.getCenter().lat],T,!1))})),e.on("move",(function(t){n.setLngLat(e.getCenter()),e.getSource("polygon").setData(Q([e.getCenter().lng,e.getCenter().lat],T,!1))})),e.on("moveend",(function(t){n.setLngLat(e.getCenter()),e.getSource("polygon").setData(Q([e.getCenter().lng,e.getCenter().lat],T,!1)),V(e.getCenter().lng,e.getCenter().lat,T),Z(e.getCenter().lng,e.getCenter().lat),x(e)})),e.on("load",(function(){x(e)})),e.on("load",(function(){e.addSource("polygon",Q([e.getCenter().lng,e.getCenter().lat],T,!0)),e.addLayer({id:"polygon",type:"fill",source:"polygon",layout:{},paint:{"fill-color":"#5dbe8c","fill-opacity":.5}})})),function(){return e.remove()}}),[]);var Q=function(e,t,n,a){a||(a=64);for(var r,c,s,o=e[1],i=e[0],l=t,d=[],u=l/(111.32*Math.cos(o*Math.PI/180)),j=l/110.574,p=0;p<a;p++)r=p/a*(2*Math.PI),c=u*Math.cos(r),s=j*Math.sin(r),d.push([i+c,o+s]);return d.push(d[0]),n?{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[d]}}]}}:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[d]}}]}},Z=function(e,t){f(e),k(t)};return Object(C.jsxs)(L.a,{className:"store-container",children:[Object(C.jsx)(P.a,{span:24,children:Object(C.jsx)(gt.a,{defaultActiveKey:["1"],bordered:!1,ghost:!0,onChange:function(){_?(H(Object(C.jsx)("h3",{children:"Open map"})),A(!1)):(H(Object(C.jsx)("h3",{children:"Close map"})),A(!0))},children:Object(C.jsx)(vt,{header:Y,children:Object(C.jsx)("div",{className:"map-container",ref:o,style:{height:"400px"}})},"1")})}),Object(C.jsx)(P.a,{span:24,children:Object(C.jsxs)(L.a,{wrap:!1,children:[Object(C.jsxs)(P.a,{flex:"220px",className:"filters-col",children:[Object(C.jsx)(wt,{level:3,children:"Radius"}),Object(C.jsx)(ft.a,{min:.5,max:20,onChange:function(e){z(e),h.getSource("polygon").setData(Q([h.getCenter().lng,h.getCenter().lat],e,!1))},onAfterChange:function(e){z(e),V(g,w,e)},value:T,step:.5,tipFormatter:function(e){return"".concat(e,"km")}}),Object(C.jsx)(wt,{level:3,children:"Categories"}),Object(C.jsx)(F.a,{type:"text",children:Object(C.jsx)(i.b,{to:"/products/all",children:"All"})}),Object(C.jsx)(F.a,{type:"text",children:Object(C.jsx)(i.b,{to:"/products/tools",children:"Tools"})}),Object(C.jsx)(F.a,{type:"text",children:Object(C.jsx)(i.b,{to:"/products/technology",children:"Technology"})}),Object(C.jsx)(F.a,{type:"text",children:Object(C.jsx)(i.b,{to:"/products/vehicles",children:"Vehicles"})}),Object(C.jsx)(F.a,{type:"text",children:Object(C.jsx)(i.b,{to:"/products/sports",children:"Sports"})}),Object(C.jsx)(F.a,{type:"text",children:Object(C.jsx)(i.b,{to:"/products/other",children:"Other"})})]}),Object(C.jsx)(P.a,{flex:"auto",children:Object(C.jsx)(L.a,{gutter:[16,16],style:{padding:"20px"},id:"latest-prods",children:!c||J?Object(C.jsx)(oe.a,{active:!0}):0===c.length?Object(C.jsx)(yt.a,{description:Object(C.jsx)("p",{children:"Sorry, it seems like there are no products here"})}):c.map((function(e){return Object(C.jsx)(le,{product:e})}))})})]})})]})},St=n(251),Ct=n(417),Nt=n(422),It=n(431),Rt=n(415),Tt=n(82),Lt=de.a.Title,Pt=de.a.Text,Ft=de.a.Paragraph,zt=Ct.a.RangePicker;Ie.a.accessToken="pk.eyJ1IjoianVhbmJhdGtpcyIsImEiOiJja2xlMDJ1Y240ZHR1Mnd1aTVqOGIxdWpyIn0.GQOtc1ghwfAhcaavE_Z3yA",Ie.a.workerClass=n(194).default;var Dt=function(){var e=Object(l.i)().id,t=Object(a.useRef)(),n=Object(a.useState)(null),r=Object(d.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)([]),u=Object(d.a)(o,2),b=u[0],h=u[1],x=be.a.useForm(),O=Object(d.a)(x,1)[0],m=Object(a.useState)(!1),g=Object(d.a)(m,2),f=g[0],y=g[1],v=Object(a.useState)(!1),w=Object(d.a)(v,2),k=w[0],N=w[1],I=Object(a.useState)(!1),R=Object(d.a)(I,2),T=R[0],z=R[1],D=Object(a.useState)(null),M=Object(d.a)(D,2),_=M[0],G=M[1],E=Object(a.useState)(null),Y=Object(d.a)(E,2),H=Y[0],U=Y[1],J=Object(a.useState)(null),B=Object(d.a)(J,2),V=B[0],$=B[1],Q=Object(a.useState)(0),Z=Object(d.a)(Q,2),W=Z[0],K=Z[1],X=Object(a.useState)(!1),ee=Object(d.a)(X,2),te=ee[0],ne=ee[1],re=Object(a.useState)(null),ce=Object(d.a)(re,2),se=ce[0],ie=ce[1],le=Object(a.useRef)(),de=Object(a.useState)(0),ue=Object(d.a)(de,2),je=ue[0],pe=ue[1],Oe=Object(a.useState)(0),me=Object(d.a)(Oe,2),ge=me[0],fe=me[1];Object(a.useEffect)((function(){function t(){return(t=Object(p.a)(j.a.mark((function t(){var n,a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.split("-")[0],t.next=4,ae(n);case 4:a=t.sent,r=a.data,s(r),h(r.questions.reverse()),pe(r.owner.location.coordinates[0]),fe(r.owner.location.coordinates[1]),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),S.a.error({message:"Something went wrong",description:t.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){if(je&&ge){var e=new Ie.a.Map({container:le.current,style:"mapbox://styles/mapbox/streets-v11",center:[je,ge],zoom:12});return e.addControl(new Ie.a.NavigationControl),e.on("load",(function(){e.addSource("polygon",ye([je,ge],.8)),e.addLayer({id:"polygon",type:"fill",source:"polygon",layout:{},paint:{"fill-color":"#5dbe8c","fill-opacity":.5}})})),function(){return e.remove()}}}),[je,ge]);var ye=function(e,t,n){n||(n=64);for(var a,r,c,s=e[1],o=e[0],i=t,l=[],d=i/(111.32*Math.cos(s*Math.PI/180)),u=i/110.574,j=0;j<n;j++)a=j/n*(2*Math.PI),r=d*Math.cos(a),c=u*Math.sin(a),l.push([o+r,s+c]);return l.push(l[0]),{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[l]}}]}}},ve=function(e,t,n){if("hours"===n?(N(!1),z(!0)):(N(!0),z(!1)),!e)return N(!1),z(!1),G(null),void ne(!1);if("hours"===n){var a=e[1].diff(e[0],"hours")+1;G(a),U(e[0]),$(e[1]),ne(!0),K(a*c.priceHour),we(c._id,c.name,a*c.priceHour,"for ".concat(a,a>1?" hours":" hour"))}else{var r=e[1].diff(e[0],"days")+1;G(r),U(e[0]),$(e[1]),ne(!0),K(r*c.priceDay),we(c._id,c.name,r*c.priceDay,"for ".concat(r,r>1?" days":" day"))}},we=function(){var e=Object(p.a)(j.a.mark((function e(n,a,r,c){var s,o,i,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={productId:n,productName:a,total:r,time:c},e.next=4,He(s);case 4:o=e.sent,i=o.data,(l=document.createElement("script")).src="https://www.mercadopago.com.ar/integrations/v1/web-payment-checkout.js",l.setAttribute("data-preference-id",i.preferenceId),l.setAttribute("data-button-label","Rent"),ie(i.preferenceId),t.current&&(t.current.innerHTML="",t.current.appendChild(l)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),S.a.error({message:"Something went wrong",description:"You must be logged in to continue with this rent",duration:5,style:{borderRadius:"20px"}});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),ke=function(){var e=Object(p.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=k?"day":"hour",n={product:c._id,owner:c.owner._id,total:W,rentedFrom:H.toDate(),rentedTo:V.toDate(),type:t,preferenceId:se},e.next=5,qe(n);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Se=function(e){return e<Ve()().startOf("day")},Ce=function(){var e=Object(p.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),n={product:c._id,owner:c.owner,description:t.question},e.prev=2,e.next=5,et(n);case 5:h([n].concat(Object(St.a)(b))),y(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}}),y(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)("div",{className:"product-cont",children:Object(C.jsxs)(L.a,{gutter:[18,18],justify:"center",className:"product-row",children:[Object(C.jsx)(P.a,{span:14,children:c?Object(C.jsx)(Nt.a,{children:c.images.map((function(e){return Object(C.jsx)("img",{alt:"product",src:e,className:"slider-image"})}))}):Object(C.jsx)(oe.a.Image,{className:"image-skeleton"})}),Object(C.jsx)(P.a,{span:10,children:c?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"product-breadcrumbs",children:[Object(C.jsx)(rt.a,{children:Object(C.jsx)(i.b,{to:"/products/all",children:"products"})}),Object(C.jsx)(Tt.a,{}),Object(C.jsx)(rt.a,{children:Object(C.jsx)(i.b,{to:"/products/".concat(c.category),children:c.category})})]}),Object(C.jsx)(q.Gradient,{gradients:[["#00a1ba","#9cd873"]],property:"text",element:"h1",angle:"45deg",className:"text ant-typography",children:c.name}),Object(C.jsx)(Me,{rating:c.rating}),Object(C.jsx)(xe.a,{dashed:!0}),Object(C.jsxs)("section",{id:"price-cont",children:[Object(C.jsxs)(Lt,{level:2,style:{display:"inline-block"},children:["$",c.priceHour]}),Object(C.jsx)(Pt,{children:"/hr"}),Object(C.jsx)("br",{}),Object(C.jsx)(zt,{showTime:{format:"HH"},format:"YYYY/MM/DD HH:00",onChange:function(e,t){return ve(e,0,"hours")},disabledDate:Se,disabled:k}),c.priceDay&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Lt,{level:4,style:{marginTop:0},children:"or"}),Object(C.jsxs)(Lt,{level:2,style:{display:"inline-block",marginTop:0},children:["$",c.priceDay]}),Object(C.jsx)(Pt,{children:"/day"}),Object(C.jsx)("br",{}),Object(C.jsx)(zt,{format:"YYYY/MM/DD",onChange:function(e,t){return ve(e,0,"days")},disabledDate:Se,disabled:T})]}),te?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"total-container",children:[Object(C.jsxs)(Lt,{level:2,children:["Total: $",W," "]}),k?Object(C.jsx)(Pt,{children:"(".concat(_,_>1?" days)":" day)")}):Object(C.jsx)(Pt,{children:"(".concat(_,_>1?" hours)":" hour)")})]}),Object(C.jsx)("div",{ref:t,className:"mp-bttn-container",onClick:ke})]}):Object(C.jsx)(A.a,{placement:"topLeft",title:Object(C.jsx)("span",{children:"Please select your time period for the rental"}),children:Object(C.jsx)(q.Gradient,{gradients:[["#00a1ba","#9cd873"]],property:"background",element:"button",angle:"45deg",className:"add-rent add-rent-disabled ant-btn ant-btn-primary ant-btn-round ant-btn-lg",children:"Rent"})})]})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(oe.a.Button,{active:!0,size:"small",shape:"round"}),Object(C.jsx)(oe.a.Button,{active:!0,size:"small",shape:"round"}),Object(C.jsx)("br",{}),Object(C.jsx)(oe.a.Input,{style:{width:300,marginTop:"10px",marginBottom:"40px"},active:!0,size:"large"}),Object(C.jsx)(oe.a,{active:!0})]})}),c&&Object(C.jsxs)(P.a,{span:20,children:[Object(C.jsx)(xe.a,{}),Object(C.jsx)(q.Gradient,{gradients:[["#00a1ba","#9cd873"]],property:"text",element:"h2",angle:"45deg",className:"ant-typography",children:"About"}),Object(C.jsx)(Lt,{level:4,children:"Description"}),Object(C.jsx)(Ft,{children:c.description}),Object(C.jsx)(Lt,{level:4,children:"Owner"}),Object(C.jsxs)(It.b,{bordered:!0,children:[c.owner.storeName?Object(C.jsx)(It.b.Item,{label:"Store name",span:3,children:c.owner.storeName}):Object(C.jsx)(It.b.Item,{label:"Name",span:3,children:c.owner.firstName}),Object(C.jsx)(It.b.Item,{label:"Owner rating",span:3,children:Object(C.jsx)(Me,{rating:c.owner.rating})}),Object(C.jsx)(It.b.Item,{label:"Location",span:3,children:Object(C.jsx)("div",{className:"map-container",ref:le,style:{height:"300px"}})})]}),Object(C.jsx)(xe.a,{}),Object(C.jsx)(q.Gradient,{gradients:[["#00a1ba","#9cd873"]],property:"text",element:"h2",angle:"45deg",className:"ant-typography",children:"Questions"}),Object(C.jsxs)(be.a,{form:O,onFinish:Ce,layout:"vertical",className:"question-form",children:[Object(C.jsx)(Lt,{level:4,children:"Ask something"}),Object(C.jsx)(be.a.Item,{name:"question",children:Object(C.jsx)(he.a.TextArea,{maxLength:1e3,showCount:!0,autoSize:{minRows:2,maxRows:4}})}),Object(C.jsx)(F.a,{type:"primary",htmlType:"submit",size:"large",shape:"round",loading:f,children:"Ask"})]}),Object(C.jsx)(Lt,{level:4,children:"Previously asked"}),b.length>0?b.map((function(e){return Object(C.jsx)(Rt.a,{content:Object(C.jsx)("p",{style:{fontSize:"1.2em"},children:e.description}),children:e.answer&&Object(C.jsx)(Rt.a,{content:Object(C.jsx)("p",{children:e.answer})})})})):Object(C.jsx)(Ft,{children:"No questions yet. Be the first one to ask!"})]})]})})},Mt=de.a.Paragraph,_t=de.a.Title,At=Object(C.jsx)(we.a,{style:{fontSize:40,color:"#5dbe8c"},spin:!0}),Gt=function(){var e=Object(a.useState)(!0),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),s=Object(d.a)(c,2),o=s[0],u=s[1],b=new URLSearchParams(Object(l.h)().search).get("preference_id"),h=function(){var e=Object(p.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c={preferenceId:t,status:"in-progress"},Ee.patch("/update",c);case 3:n=e.sent,a=n.data,u(a),r(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),S.a.error({message:"Something went wrong",description:e.t0.response.data.message,duration:5,style:{borderRadius:"20px"}});case 12:case"end":return e.stop()}var c}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){h(b)}),[]),Object(C.jsx)(L.a,{justify:"center",align:"middle",className:"main-row auth-cont success-page",children:Object(C.jsx)(P.a,{xs:22,sm:18,md:14,lg:10,xl:8,xxl:6,children:Object(C.jsx)("div",{children:n||!o?Object(C.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(C.jsx)(ve.a,{indicator:At})}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(q.Gradient,{gradients:[["#00a1ba","#9cd873"]],property:"background",element:"span",angle:"45deg",className:"text ant-typography check-cont",children:Object(C.jsx)(Fe.a,{})}),Object(C.jsx)(_t,{level:2,children:"Thank you for your rent!"}),Object(C.jsxs)(Mt,{children:["Your rent for ",o.product.name," has successfully started!"]}),Object(C.jsx)(Mt,{children:"You can view more info in your profile page"}),Object(C.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(C.jsx)(F.a,{type:"primary",size:"large",shape:"round",style:{height:"auto",padding:"6px 30px"},children:Object(C.jsx)(i.b,{to:"/profile/rents",style:{color:"#fff",fontSize:"1.5em"},children:"More info"})})})]})})})})};var Et=function(){return Object(C.jsx)(i.a,{children:Object(C.jsx)(Q,{children:Object(C.jsxs)(l.d,{children:[Object(C.jsx)(l.b,{component:pe,path:"/",exact:!0}),Object(C.jsx)(X,{component:ge,path:"/login"}),Object(C.jsx)(X,{component:ye,path:"/signup"}),Object(C.jsx)(X,{component:Ce,path:"/activate/:id"}),Object(C.jsx)(K,{component:mt,path:"/profile"}),Object(C.jsx)(l.b,{component:kt,path:"/products/:category"}),Object(C.jsx)(l.b,{component:Dt,path:"/product/:id"}),Object(C.jsx)(l.b,{component:Gt,path:"/success"})]})})})};n(403),n(404),n(405),n(406),n(407),n(408),n(409);s.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(I,{children:Object(C.jsx)(Et,{})})}),document.getElementById("root")),o()}},[[410,1,2]]]);
//# sourceMappingURL=main.0ba845f5.chunk.js.map