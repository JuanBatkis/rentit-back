{"version":3,"sources":["reportWebVitals.js","hooks/useLocalStorage.js","services/auth.js","hooks/authContext.js","components/CustomHeader.js","components/LayoutApp.js","components/PrivateRoute.js","components/LoggedOutRoute.js","services/products.js","components/ProductCard.js","pages/Home.js","pages/Login.js","pages/Signup.js","pages/Activate.js","components/DetailedRating.js","pages/profile-subroutes/Info.js","services/rents.js","services/reviews.js","pages/profile-subroutes/Rents.js","services/questions.js","pages/profile-subroutes/Questions.js","pages/profile-subroutes/Products.js","pages/profile-subroutes/AddProduct.js","pages/Profile.js","pages/Products.js","pages/Product.js","pages/PaymentSuccess.js","Router.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","useLocalStorage","initialValue","key","stored","localStorage","getItem","initial","JSON","parse","useState","value","setValue","useEffect","setItem","stringify","_axios","axios","create","baseURL","withCredentials","signupFn","user","post","loginFn","InfoFn","info","patch","updateAvatar","avatar","logoutFn","_","get","getCurrentUser","verifyFn","id","AuthContext","createContext","AuthProvider","props","setUser","a","data","notification","message","firstName","description","duration","style","borderRadius","response","push","getSession","Provider","login","logout","children","useAuthInfo","useContext","CustomHeader","visibleDrawer","setVisibleDrawer","visiblePopover","setVisiblePopover","confirm","Modal","closeDrawer","showPopover","visible","justify","align","span","type","onClick","size","MenuOutlined","placement","closable","onClose","closeIcon","PlusOutlined","rotate","gradients","property","element","angle","className","display","padding","pointerEvents","userSelect","theme","Item","to","ItemGroup","alt","src","maxHeight","title","lastName","content","icon","ExclamationCircleOutlined","maskClosable","onOk","trigger","onVisibleChange","cursor","background","alignItems","UserOutlined","fontSize","color","Header","Layout","Content","Footer","LayoutApp","headerStyle","useHistory","useLocation","pathname","position","textAlign","href","target","rel","PrivateRoute","Component","component","rest","render","LoggedOutRoute","getAllProducts","limit","getProductsByQuery","query","getProductById","productId","getUserProducts","userId","deleteProduct","delete","Meta","Card","ProductCard","product","slug","_id","name","replace","toLowerCase","xs","md","hoverable","cover","images","height","objectFit","Image","width","priceDay","priceHour","Title","Typography","Paragraph","Home","products","setProducts","iframeRef","useRef","divRef","getProducts","offset","ref","opacity","frameBorder","onLoad","current","gutter","map","active","Text","Login","Form","useForm","form","sm","lg","xl","xxl","onFinish","userInfo","layout","label","Password","htmlType","block","shape","GoogleOutlined","Signup","antIcon","LoadingOutlined","spin","Activate","useParams","loading","setLoading","userName","setUserName","verifyUser","justifyContent","indicator","DetailedRating","rating","ratingsCount","one","two","three","four","five","allowHalf","disabled","defaultValue","total","mapboxgl","accessToken","workerClass","require","default","Info","editableFirstName","setEditableFirstName","editableLasttName","setEditableLastName","storeName","editableStoreName","setEditableStoreName","phone","editablePhone","setEditablePhone","mapContainer","mapSaving","setMapSaving","mapSavingIcon","setMapSavingIcon","mapSavingText","setMapSavingText","setMap","location","coordinates","lng","setLng","lat","setLat","mapMoved","setMapMoved","updateInfo","Map","container","center","zoom","geocoder","MapboxGeocoder","marker","flyTo","speed","addControl","NavigationControl","GeolocateControl","positionOptions","enableHighAccuracy","showAccuracyCircle","showUserLocation","Marker","draggable","setLngLat","addTo","on","e","getCenter","toFixed","remove","saveLocation","CheckOutlined","level","editable","onChange","showIcon","danger","essential","getAllUserRents","role","getRentPreference","rentPreferenceInfo","createRent","rentInfo","createReview","review","TabPane","Tabs","Rents","rents","setRents","tab","setTab","getRents","rate","tooltips","renderDate","row","index","moment","format","columns","dataIndex","StarOutlined","text","time","rentedTo","diff","rentedFrom","renter","owner","Number","dataSource","scroll","x","createQuestion","question","getUserQuestions","Questions","questions","setQuestions","isModalVisible","setIsModalVisible","currentQuestionId","setCurrentQuestionId","currentAnswer","setCurrentAnswer","confirmLoading","setConfirmLoading","getQuestions","handleOk","questionId","answer","status","filters","onFilter","record","indexOf","filterMultiple","onCancel","TextArea","maxLength","showCount","autoSize","minRows","maxRows","price","category","prod","onConfirm","deleteProductAndReload","okText","cancelText","DeleteOutlined","Option","Select","labelCol","wrapperCol","tailLayout","getBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","AddProduct","previewVisible","setPreviewVisible","previewImage","setPreviewImage","previewTitle","setPreviewTitle","fileList","setFileList","handleUpload","fdata","FormData","append","newFileList","uid","asset_id","original_filename","url","secure_url","handlePreview","preview","originFileObj","substring","lastIndexOf","uploadButton","marginTop","values","image","initialValues","remember","rules","required","min","formatter","parser","placeholder","listType","beforeUpload","onPreview","method","onRemove","filter","length","footer","Profile","path","useRouteMatch","sideMenu","link","showUploadList","UploadOutlined","renderItem","item","exact","Products","Panel","Collapse","receivedProducts","setReceivedProducts","radius","setRadius","collapseOpen","setCollapseOpen","collapseText","setCollapseText","longitude","latitude","givenRadius","getSource","setData","createGeoJSONCircle","updateLocation","addSource","addLayer","radiusInKm","isFirstDraw","points","theta","y","coords","km","ret","distanceX","Math","cos","PI","distanceY","i","sin","defaultActiveKey","bordered","ghost","header","wrap","flex","max","onAfterChange","step","tipFormatter","RangePicker","DatePicker","Product","buyButtonRef","setProduct","questionLoading","setQuestionLoading","hoursDisabled","setHoursDisabled","daysDisabled","setDaysDisabled","setTime","setRentedFrom","setRentedTo","setTotal","rentVisible","setRentVisible","preferenceId","setPreferenceId","cleanId","split","reverse","dateString","input","currentTime","createPreference","productName","script","document","createElement","setAttribute","innerHTML","appendChild","clickedCreateRent","toDate","disabledDate","startOf","handleQuestionSubmit","RightOutlined","dashed","showTime","Button","Input","marginBottom","singleQuestion","PaymentSuccess","rent","setRent","preference_id","URLSearchParams","search","updateGivenRent","Router","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0ba845f5.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { useState, useEffect } from \"react\"\r\n\r\nfunction useLocalStorage(initialValue, key) {\r\n  const stored = localStorage.getItem(key)\r\n  const initial = stored ? JSON.parse(stored) : initialValue\r\n  const [value, setValue] = useState(initial)\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(key, JSON.stringify(value))\r\n  }, [value, key])\r\n\r\n  return [value, setValue]\r\n}\r\n\r\nexport default useLocalStorage","import axios from \"axios\"\r\n\r\nconst baseURL =\r\n  process.env.NODE_ENV === \"production\" ? \"https://rentit-project.herokuapp.com/api/auth\" : \"http://localhost:3001/api/auth\"\r\n\r\nconst _axios = axios.create({\r\n  baseURL,\r\n  withCredentials: true\r\n})\r\n\r\nexport const signupFn = user => _axios.post(\"/signup\", user)\r\nexport const loginFn = user => _axios.post(\"/login\", user)\r\nexport const InfoFn = info => _axios.patch(\"/info/change\", info)\r\nexport const LocationFn = location => _axios.patch(\"/location/change\", location)\r\nexport const updateAvatar = avatar => _axios.patch(\"/avatar/change\", avatar)\r\nexport const logoutFn = _ => _axios.get(\"/logout\")\r\nexport const getCurrentUser = _ => _axios.get(\"/session\")\r\nexport const verifyFn = id => _axios.patch(\"/verify\", id)","import { createContext, useEffect, useContext } from \"react\"\r\nimport useLocalStorage from \"./useLocalStorage\"\r\nimport { getCurrentUser, loginFn, logoutFn } from \"../services/auth\"\r\nimport { notification } from \"antd\"\r\n\r\nconst AuthContext = createContext()\r\n\r\nexport const AuthProvider = props => {\r\n  // Un estado con el usuario en sesion (idealmente reflejado en LS(local storage))\r\n  const [user, setUser] = useLocalStorage(null, \"user\")\r\n\r\n  // Metodos para interactuar con el usuario (login, logout, revisar si hay sesion en el server)\r\n\r\n  async function login(user) {\r\n    try {\r\n      const { data } = await loginFn(user)\r\n      setUser(data)\r\n      notification['success']({\r\n        message: `Hello ${data.firstName}!`,\r\n        description: 'Thank you for logging in ',\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  async function logout(push) {\r\n    try {\r\n      push('/')\r\n      await logoutFn()\r\n      setUser(null)\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    // preguntamos al backend si hay un user en sesion, de ser asi hacemos login de ese user\r\n    async function getSession() {\r\n      try {\r\n        const { data } = await getCurrentUser()\r\n        if (data) {\r\n          setUser(data)\r\n        }\r\n      } catch (error) {\r\n        notification['error']({\r\n          message: 'Something went wrong',\r\n          description: error.response.data.message,\r\n          duration: 5,\r\n          style: {\r\n            borderRadius: '20px'\r\n          }\r\n        })\r\n      }\r\n    }\r\n\r\n    getSession()\r\n  }, [setUser])\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, login, logout, setUser }}>\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport const useAuthInfo = () => useContext(AuthContext)","import { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAuthInfo } from '../hooks/authContext'\r\nimport { Menu, Drawer, Button, Row, Col, Tooltip, Avatar, Popover, Modal } from 'antd'\r\nimport { MenuOutlined, PlusOutlined, UserOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { Gradient } from 'react-gradient'\r\n\r\nconst CustomHeader = ({push}) => {\r\n  const {user, logout} = useAuthInfo()\r\n  const [visibleDrawer, setVisibleDrawer] = useState(false)\r\n  const [visiblePopover, setVisiblePopover] = useState(false)\r\n  const { confirm } = Modal\r\n\r\n  const showDrawer = () => {\r\n    setVisibleDrawer(true)\r\n  }\r\n  const closeDrawer = () => {\r\n    setVisibleDrawer(false)\r\n  }\r\n\r\n  const showPopover = visible => {\r\n    setVisiblePopover(visible)\r\n  }\r\n\r\n  const showConfirm = () => {\r\n    showPopover(false)\r\n    confirm({\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: <h3>Are you sure you want to log out?</h3>,\r\n      maskClosable: true,\r\n      onOk() {\r\n        logout(push)\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Row justify=\"space-between\"  align=\"middle\">\r\n      <Col span={4}>\r\n        <Button type=\"text\" onClick={showDrawer} size={'large'}>\r\n          <MenuOutlined />\r\n        </Button>\r\n        <Drawer\r\n          placement=\"left\"\r\n          closable={true}\r\n          onClose={closeDrawer}\r\n          visible={visibleDrawer}\r\n          closeIcon={<PlusOutlined rotate={45} />}\r\n        >\r\n          <Gradient\r\n              gradients={[\r\n                ['#00a1ba', '#9cd873'],\r\n              ]}\r\n              property=\"text\"\r\n              element=\"h2\"\r\n              angle=\"45deg\"\r\n              className=\"text ant-typography\"\r\n              style={{display: 'inline-block', padding:'0 16px', pointerEvents: 'none', userSelect: 'none'}}\r\n            >\r\n              Store\r\n          </Gradient>\r\n          <Menu theme=\"light\">\r\n            <Menu.Item key=\"1\" onClick={closeDrawer}>\r\n              <Link to='/products/all'>Products</Link>\r\n            </Menu.Item>\r\n            <Menu.ItemGroup>\r\n              <Menu.Item key=\"2\" onClick={closeDrawer}>\r\n                <Link to='/products/tools'>Tools</Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"3\" onClick={closeDrawer}>\r\n                <Link to='/products/technology'>Technology</Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"4\" onClick={closeDrawer}>\r\n                <Link to='/products/vehicles'>Vehicles</Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"5\" onClick={closeDrawer}>\r\n                <Link to='/products/sports'>Sports</Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"6\" onClick={closeDrawer}>\r\n                <Link to='/products/other'>Other</Link>\r\n              </Menu.Item>\r\n            </Menu.ItemGroup>\r\n          </Menu>\r\n        </Drawer>\r\n      </Col>\r\n      <Col span={4} align=\"middle\">\r\n        <Link to='/'>\r\n          <img\r\n            alt=\"RENTIT\"\r\n            src=\"https://res.cloudinary.com/djv6xyyqp/image/upload/v1614452197/rentit/images/rentit-logoRecurso_8_1x_dc0e8o.png\"\r\n            style={{maxHeight: '44px'}}\r\n          />\r\n        </Link>\r\n      </Col>\r\n      <Col span={4} align=\"right\">\r\n        {user ? (\r\n          <Popover \r\n            placement=\"bottomRight\" \r\n            title={<span>{`${user.firstName}  ${user.lastName}`}</span>} \r\n            content={\r\n              <>\r\n                <Button  type=\"text\" onClick={() => showPopover(false)}>\r\n                  <Link to='/profile'>Profile</Link>\r\n                </Button>\r\n                <br/>\r\n                <Button  type=\"text\" onClick={showConfirm}>\r\n                  Log out\r\n                </Button>\r\n              </>\r\n            } \r\n            trigger=\"click\"\r\n            visible={visiblePopover}\r\n            onVisibleChange={showPopover}\r\n          >\r\n            {user.avatar ? (\r\n              <Avatar\r\n                src={user.avatar}\r\n                style={{cursor: 'pointer'}}\r\n              />\r\n            ) : (\r\n              <Avatar\r\n                style={{\r\n                  background: 'linear-gradient(45deg, rgba(0,161,186,1) 0%, rgba(156,216,115,1) 100%)',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                {`${user.firstName[0]}${user.lastName[0]}`}\r\n              </Avatar>\r\n            )}\r\n          </Popover>\r\n        ) : (\r\n          <Tooltip placement=\"bottom\" title={'Login/Signup'}>\r\n            <Link to='/login' style={{alignItems: 'center'}}>\r\n              <UserOutlined style={{fontSize: '1.6em', color: 'rgba(0, 0, 0, 0.85)'}} />\r\n            </Link>\r\n          </Tooltip>\r\n        )}\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default CustomHeader\r\n","import { useLocation, useHistory } from 'react-router-dom'\r\nimport CustomHeader from './CustomHeader'\r\nimport { Layout } from 'antd'\r\n\r\nconst { Header, Content, Footer } = Layout\r\n\r\nconst LayoutApp = ({children}) => {\r\n  const {push} = useHistory()\r\n  const location = useLocation()\r\n  let headerStyle\r\n\r\n  if (location.pathname === '/') {\r\n    headerStyle = {\r\n      /* background: 'rgba(255, 255, 255, 0.75)', */\r\n      position: 'absolute'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Layout className=\"layout\">\r\n      <Header style={headerStyle}>\r\n        <CustomHeader push={push} />\r\n      </Header>\r\n      <Content>\r\n        <div className=\"site-layout-content\">\r\n          {children}\r\n        </div>\r\n      </Content>\r\n      <Footer style={{ textAlign: 'center' }}>RENTIT 2020 Created by <a href=\"https://github.com/JuanBatkis\" target=\"_blank\" rel=\"noreferrer\">Juan Batkis <span style={{fontSize: '1.2em'}}></span></a></Footer>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default LayoutApp\r\n","import { Route, Redirect } from \"react-router-dom\"\r\nimport { useAuthInfo } from \"../hooks/authContext\"\r\nimport { notification } from 'antd'\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  const { user } = useAuthInfo()\r\n\r\n  const warnAndRedirect = () => {\r\n    notification['error']({\r\n      message: 'Something went wrong',\r\n      description: 'You must be logged in to access this section',\r\n      duration: 5,\r\n      style: {\r\n        borderRadius: '20px'\r\n      }\r\n    })\r\n\r\n    return <Redirect to='/login' />\r\n  }\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        user ? <Component {...props} /> : warnAndRedirect()\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default PrivateRoute","import { Route, Redirect } from \"react-router-dom\"\r\nimport { useAuthInfo } from \"../hooks/authContext\"\r\n\r\nconst LoggedOutRoute = ({ component: Component, ...rest }) => {\r\n  const { user } = useAuthInfo()\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        !user ? <Component {...props} /> : <Redirect to='/profile' />\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default LoggedOutRoute","import axios from \"axios\"\r\n\r\nconst baseURL =\r\n  process.env.NODE_ENV === \"production\" ? \"https://rentit-project.herokuapp.com/api/product\" : \"http://localhost:3001/api/product\"\r\n\r\nconst _axios = axios.create({\r\n  baseURL,\r\n  withCredentials: true\r\n})\r\n\r\nexport const getAllProducts = limit => _axios.get(`/all/${limit}`)\r\nexport const getProductsByQuery = query => _axios.post(`/query`, query)\r\nexport const getProductById = productId => _axios.get(`/${productId}`)\r\nexport const getUserProducts = (userId, limit) => _axios.get(`/user/${userId}/${limit}`)\r\nexport const createProduct = product => _axios.post(\"/\", product)\r\nexport const updateProduct = (productId, updates) => _axios.patch(`/${productId}`, updates)\r\nexport const deleteProduct = productId => _axios.delete(`/${productId}`)","import { Link } from 'react-router-dom'\r\nimport { Col, Skeleton, Card } from 'antd'\r\n\r\nconst { Meta } = Card\r\n\r\nconst ProductCard = ({product}) => {\r\n  const slug = `${product._id}-${product.name.replace(/\\s+/g, '-').toLowerCase()}`\r\n  return (\r\n    <Col xs={12} md={6}>\r\n      <Link to={`/product/${slug}`}>\r\n        <Card\r\n          hoverable\r\n          cover={product.images[0] ? <img alt=\"product\" src={product.images[0]} style={{height:'320px', objectFit: 'contain', padding: '1px'}} /> : <Skeleton.Image style={{height:'320px', width:'100%'}}/>}\r\n        >\r\n          <Meta title={product.name} description={product.priceDay ? `$${product.priceHour}/hr or $${product.priceDay}/day` : `$${product.priceHour}/hr`} />\r\n        </Card>\r\n      </Link>\r\n    </Col>\r\n  )\r\n}\r\n\r\nexport default ProductCard\r\n","import React, { useRef, useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { getAllProducts } from '../services/products'\r\nimport ProductCard from '../components/ProductCard'\r\nimport { Typography, Col, Row, Skeleton, notification } from 'antd'\r\nimport { Gradient } from 'react-gradient'\r\n\r\nconst { Title, Paragraph } = Typography\r\n\r\nconst Home = () => {\r\n  const [products, setProducts] = useState(null)\r\n  const iframeRef = useRef()\r\n  const divRef = useRef()\r\n\r\n  const showIframe = () => {\r\n    iframeRef.current.style.opacity = '1'\r\n    divRef.current.style.opacity = '0'\r\n  }\r\n\r\n  useEffect(() => {\r\n    async function getProducts() {\r\n      try {\r\n        const {data:products} = await getAllProducts(8)\r\n        setProducts(products.products)\r\n      } catch (error) {\r\n        notification['error']({\r\n          message: 'Something went wrong',\r\n          description: error.response.data.message,\r\n          duration: 5,\r\n          style: {\r\n            borderRadius: '20px'\r\n          }\r\n        })\r\n      }\r\n    }\r\n    getProducts()\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <section id='main-banner'>\r\n        <Row className='full-heigh' justify=\"center\" align=\"middle\">\r\n          <Col xs={24} md={7} offset={2} className='banner-title'>\r\n            <Title>\r\n              A new way to get what you need\r\n            </Title>\r\n          </Col>\r\n          <Col xs={24} md={15} className='full-heigh iframe-container'>\r\n            <div\r\n              id='iframeCover'\r\n              ref={divRef}\r\n              style={{ opacity: '1' }}\r\n            ></div>\r\n            <iframe src='https://my.spline.design/floating-adbb8c927f6e8e69a180701a9fb2ad6c/'\r\n              frameBorder='0'\r\n              width='100%'\r\n              height='100%'\r\n              onLoad={showIframe}\r\n              ref={iframeRef}\r\n              title='3D Objects'\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </section>\r\n      <section id='latest-products'>\r\n        <Gradient\r\n          gradients={[\r\n            ['#00a1ba', '#9cd873'],\r\n          ]}\r\n          property=\"text\"\r\n          element=\"h2\"\r\n          angle=\"45deg\"\r\n          className=\"text ant-typography\"\r\n        >\r\n          Latest products\r\n        </Gradient>\r\n        <Row gutter={[16, 16]} style={{padding: '20px'}}>\r\n          {products ? products.map(product => (\r\n            <ProductCard product={product} />\r\n          )) : <Skeleton active />}\r\n        </Row>\r\n      </section>\r\n      <section id='steps-cont'>\r\n        <Gradient\r\n          gradients={[\r\n            ['#00a1ba', '#9cd873'],\r\n          ]}\r\n          property=\"text\"\r\n          element=\"h2\"\r\n          angle=\"45deg\"\r\n          className=\"text ant-typography\"\r\n        >\r\n          Just a few simple steps\r\n        </Gradient>\r\n        <Row gutter={[16, 16]} style={{padding: '20px'}} justify=\"center\">\r\n          <Col span={8} align=\"middle\">\r\n            <Gradient\r\n              gradients={[\r\n                ['#00a1ba', '#9cd873'],\r\n              ]}\r\n              property=\"background\"\r\n              element=\"h2\"\r\n              angle=\"45deg\"\r\n              className=\"text ant-typography steps\"\r\n            >\r\n              1\r\n            </Gradient>\r\n            <Paragraph>\r\n              Find the best product near you\r\n            </Paragraph>\r\n          </Col>\r\n          <Col span={8} align=\"middle\">\r\n            <Gradient\r\n              gradients={[\r\n                ['#00a1ba', '#9cd873'],\r\n              ]}\r\n              property=\"background\"\r\n              element=\"h2\"\r\n              angle=\"45deg\"\r\n              className=\"text ant-typography steps\"\r\n            >\r\n              2\r\n            </Gradient>\r\n            <Paragraph>\r\n              Select the amount of time you need it\r\n            </Paragraph>\r\n          </Col>\r\n          <Col span={8} align=\"middle\">\r\n            <Gradient\r\n              gradients={[\r\n                ['#00a1ba', '#9cd873'],\r\n              ]}\r\n              property=\"background\"\r\n              element=\"h2\"\r\n              angle=\"45deg\"\r\n              className=\"text ant-typography steps\"\r\n            >\r\n              3\r\n            </Gradient>\r\n            <Paragraph>\r\n              Enjoy your life without unnecessary clutter\r\n            </Paragraph>\r\n          </Col>\r\n          <Col span={8} align=\"middle\">\r\n            <Gradient\r\n              gradients={[\r\n                ['#00a1ba', '#9cd873'],\r\n              ]}\r\n              property=\"background\"\r\n              element=\"button\"\r\n              angle=\"45deg\"\r\n              className=\"ant-btn ant-btn-primary ant-btn-round ant-btn-lg\"\r\n            >\r\n              <Link to='/products/all'>Start renting!</Link>\r\n            </Gradient>\r\n          </Col>\r\n        </Row>\r\n      </section>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Home","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAuthInfo } from \"../hooks/authContext\"\r\n//import {  } from '../services/auth'\r\nimport { Form, Col, Row, Button, Input, Divider, Typography } from 'antd'\r\nimport { Gradient } from 'react-gradient'\r\nimport { GoogleOutlined, FacebookOutlined } from '@ant-design/icons'\r\n\r\nconst { Text } = Typography;\r\n\r\nconst Login = () => {\r\n  const [form] = Form.useForm()\r\n  const { login } = useAuthInfo()\r\n\r\n  const handleSubmit = (userInfo) => {\r\n    login(userInfo)\r\n  }\r\n\r\n  return (\r\n    <Row justify=\"center\" align=\"middle\" className=\"main-row auth-cont\">\r\n      <Col xs={22} sm={18} md={14} lg={10} xl={8} xxl={6}>\r\n        <div>\r\n          <Gradient\r\n            gradients={[\r\n              ['#00a1ba', '#9cd873'],\r\n            ]}\r\n            property=\"text\"\r\n            element=\"h1\"\r\n            angle=\"45deg\"\r\n            className=\"text ant-typography\"\r\n          >\r\n            Login\r\n          </Gradient>\r\n          <Form form={form} onFinish={handleSubmit} layout='vertical'>\r\n            <Form.Item name='email' label='Email:'>\r\n              <Input type='email' />\r\n            </Form.Item>\r\n            <Form.Item name='password' label='Password:'>\r\n              <Input.Password />\r\n            </Form.Item>\r\n            <Button type='primary' htmlType='submit' block size='large' shape=\"round\">\r\n              Log me in!\r\n            </Button>\r\n          </Form>\r\n          <Divider id=\"socialDivider\">Or connect with</Divider>\r\n          <Row justify=\"center\" align=\"middle\" className=\"socialLogin\">\r\n            <Col span={6} align=\"middle\">\r\n              <a href={process.env.NODE_ENV === \"production\" ? \"/api/auth/google\" : \"http://localhost:3001/api/auth/google\"}>\r\n                <GoogleOutlined />\r\n              </a>\r\n            </Col>\r\n            {/* <Col span={6} align=\"middle\">\r\n              <a href={process.env.NODE_ENV === \"production\" ? \"/api/auth/facebook\" : \"http://localhost:3001/api/auth/facebook\"}>\r\n                <FacebookOutlined />\r\n              </a>\r\n            </Col> */}\r\n            <Col span={24} align=\"middle\" className=\"changeAuth\">\r\n              <Text>\r\n                Don't have an account? <Link to='/signup'>Sign up here!</Link>\r\n              </Text>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { signupFn } from \"../services/auth\"\r\nimport { Form, Col, Row, Button, Input, Divider, Typography, notification } from 'antd'\r\nimport { Gradient } from 'react-gradient'\r\nimport { GoogleOutlined, FacebookOutlined } from '@ant-design/icons'\r\n\r\nconst { Text } = Typography;\r\n\r\nconst Signup = () => {\r\n  const [form] = Form.useForm()\r\n  const {push} = useHistory()\r\n\r\n  async function handleSubmit(userInfo) {\r\n    try {\r\n      await signupFn(userInfo)\r\n      notification['success']({\r\n        message: 'Account created!',\r\n        description: `Hello ${userInfo.firstName} . Please check your email to verify your account`,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n      push('/login')\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Row justify=\"center\" align=\"middle\" className=\"main-row auth-cont\">\r\n      <Col xs={22} sm={18} md={14} lg={10} xl={8} xxl={6}>\r\n        <div>\r\n          <Gradient\r\n            gradients={[\r\n              ['#00a1ba', '#9cd873'],\r\n            ]}\r\n            property=\"text\"\r\n            element=\"h1\"\r\n            angle=\"45deg\"\r\n            className=\"text ant-typography\"\r\n          >\r\n            Sign up\r\n          </Gradient>\r\n          <Form form={form} onFinish={handleSubmit} layout='vertical'>\r\n            <Form.Item name='email' label='Email:'>\r\n              <Input type='email' />\r\n            </Form.Item>\r\n            <Row gutter={6}>\r\n              <Col span={12}>\r\n                <Form.Item name='firstName' label='First name:'>\r\n                  <Input />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={12}>\r\n                <Form.Item name='lastName' label='Last name:'>\r\n                  <Input />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Form.Item name='storeName' label='Store name:'>\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item name='phone' label='Phone:'>\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item name='password' label='Password:'>\r\n              <Input.Password />\r\n            </Form.Item>\r\n            <Form.Item name='confirmPassword' label='Confirm password:'>\r\n              <Input.Password />\r\n            </Form.Item>\r\n            <Button type='primary' htmlType='submit' block size='large' shape=\"round\">\r\n              Sign me up!\r\n            </Button>\r\n          </Form>\r\n          <Divider id=\"socialDivider\">Or connect with</Divider>\r\n          <Row justify=\"center\" align=\"middle\" className=\"socialLogin\">\r\n            <Col span={6} align=\"middle\">\r\n              <a href=\"/api/auth/google\">\r\n                <GoogleOutlined />\r\n              </a>\r\n            </Col>\r\n            {/* <Col span={6} align=\"middle\">\r\n              <a href=\"/api/auth/facebook\">\r\n                <FacebookOutlined />\r\n              </a>\r\n            </Col> */}\r\n            <Col span={24} align=\"middle\" className=\"changeAuth\">\r\n              <Text>\r\n                Already have an account? <Link to='/login'>Log in here!</Link>\r\n              </Text>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Signup\r\n","import { useState, useEffect } from 'react'\r\nimport { useParams, Link } from 'react-router-dom'\r\nimport { verifyFn } from \"../services/auth\"\r\nimport { Col, Row, Button, Typography, Spin, notification } from 'antd'\r\nimport { LoadingOutlined } from '@ant-design/icons'\r\nimport { Gradient } from 'react-gradient'\r\n\r\nconst { Paragraph } = Typography;\r\n\r\nconst antIcon = <LoadingOutlined style={{ fontSize: 40, color: '#5dbe8c' }} spin />\r\n\r\nconst Activate = () => {\r\n  const { id } = useParams()\r\n  const [loading, setLoading] = useState(true)\r\n  const [userName, setUserName] = useState(null)\r\n\r\n  const verifyUser = async (userId) => {\r\n    try {\r\n      const { data } = await verifyFn({id: userId})\r\n      setUserName(data.firstName)\r\n      setLoading(false)\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    verifyUser(id)\r\n  }, [])\r\n\r\n  return (\r\n    <Row justify=\"center\" align=\"middle\" className=\"main-row auth-cont\">\r\n      <Col xs={22} sm={18} md={14} lg={10} xl={8} xxl={6}>\r\n        <div>\r\n          {loading ? (\r\n            <div style={{display: 'flex', justifyContent: 'center'}}>\r\n              <Spin indicator={antIcon} />\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <Gradient\r\n                gradients={[\r\n                  ['#00a1ba', '#9cd873'],\r\n                ]}\r\n                property=\"text\"\r\n                element=\"h1\"\r\n                angle=\"45deg\"\r\n                className=\"text ant-typography\"\r\n              >\r\n                Hello {userName}!\r\n              </Gradient>\r\n              <Paragraph>\r\n                Your account has been successfully activated!\r\n              </Paragraph>\r\n              <Paragraph>\r\n                You can now proceed to login and start taking advantage of every feature of our platform!\r\n              </Paragraph>\r\n              <div style={{display: 'flex', justifyContent: 'center'}}>\r\n                <Button type=\"primary\" size={'large'} shape=\"round\" style={{height: 'auto', padding: '6px 30px'}}>\r\n                  <Link to='/login' style={{color: '#fff', fontSize: '1.5em'}}>Log in!</Link>\r\n                </Button>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Activate\r\n","import { Rate, Typography } from 'antd'\r\n\r\nconst { Text } = Typography\r\n\r\nconst DetailedRating = ({ rating }) => {\r\n  const ratingsCount = rating.one + rating.two + rating.three + rating.four + rating.five\r\n\r\n  return (\r\n    <div>\r\n      <Rate allowHalf disabled defaultValue={rating.total} />\r\n      <Text>{ratingsCount === 1 ? ` (${ratingsCount} rating)` : ` (${ratingsCount} ratings)`}</Text>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DetailedRating\r\n","import { useState, useEffect, useRef } from 'react'\r\nimport { useAuthInfo } from '../../hooks/authContext'\r\nimport { InfoFn, LocationFn, getCurrentUser } from \"../../services/auth\"\r\nimport mapboxgl from 'mapbox-gl'\r\nimport 'mapbox-gl/dist/mapbox-gl.css'\r\nimport MapboxGeocoder from '@mapbox/mapbox-gl-geocoder'\r\nimport '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css'\r\nimport { Typography, Divider, Row, Col, Button, Space, Alert, notification } from 'antd'\r\nimport { CheckOutlined } from '@ant-design/icons';\r\nimport { Gradient } from 'react-gradient'\r\nimport DetailedRating from '../../components/DetailedRating'\r\n\r\n//mapboxgl.accessToken = process.env.REACT_APP_MAPBOX_KEY\r\nmapboxgl.accessToken = 'pk.eyJ1IjoianVhbmJhdGtpcyIsImEiOiJja2xlMDJ1Y240ZHR1Mnd1aTVqOGIxdWpyIn0.GQOtc1ghwfAhcaavE_Z3yA'\r\n// eslint-disable-next-line import/no-webpack-loader-syntax\r\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\r\n\r\nconst { Title, Text } = Typography\r\n\r\nconst Info = () => {\r\n  const {user} = useAuthInfo()\r\n  const { setUser } = useAuthInfo()\r\n  const [editableFirstName, setEditableFirstName] = useState(user.firstName)\r\n  const [editableLasttName, setEditableLastName] = useState(user.lastName)\r\n  const [editableStoreName, setEditableStoreName] = useState(user.storeName)\r\n  const [editablePhone, setEditablePhone] = useState(user.phone)\r\n\r\n  const mapContainer = useRef()\r\n  const [mapSaving, setMapSaving] = useState(false)\r\n  const [mapSavingIcon, setMapSavingIcon] = useState(false)\r\n  const [mapSavingText, setMapSavingText] = useState('Save location')\r\n  const [map, setMap] = useState(null)\r\n  const [lng, setLng] = useState(user.location.coordinates ? user.location.coordinates[0] : -73.51822)\r\n  const [lat, setLat] = useState(user.location.coordinates ? user.location.coordinates[1] : 40.76127)\r\n  const [mapMoved, setMapMoved] = useState(false)\r\n\r\n  const updateInfo = async () => {\r\n    try {\r\n      const info = {\r\n        firstName: editableFirstName,\r\n        lastName: editableLasttName,\r\n        storeName: editableStoreName,\r\n        phone: editablePhone\r\n      }\r\n      await InfoFn(info)\r\n      getSession()\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    updateInfo()\r\n  }, [editableFirstName, editableLasttName, editableStoreName, editablePhone])\r\n\r\n  useEffect(() => {\r\n    const map = new mapboxgl.Map({\r\n      container: mapContainer.current,\r\n      style: 'mapbox://styles/mapbox/streets-v11',\r\n      center: [lng, lat],\r\n      zoom: user.location.coordinates ? 12 : 4\r\n    })\r\n\r\n    const geocoder = new MapboxGeocoder({\r\n      accessToken: mapboxgl.accessToken,\r\n      mapboxgl: mapboxgl,\r\n      marker: false,\r\n      flyTo: {\r\n        speed: 2\r\n      }\r\n    })\r\n\r\n    map.addControl(geocoder)\r\n\r\n    // Add zoom and rotation controls to the map.\r\n    map.addControl(new mapboxgl.NavigationControl())\r\n\r\n    // Add geolocate control to the map.\r\n    map.addControl(\r\n      new mapboxgl.GeolocateControl({\r\n        positionOptions: {\r\n          enableHighAccuracy: true\r\n        },\r\n        showAccuracyCircle: false,\r\n        showUserLocation: false\r\n      })\r\n    )\r\n\r\n    const marker = new mapboxgl.Marker({\r\n      draggable: false\r\n    })\r\n        .setLngLat([lng, lat])\r\n        .addTo(map)\r\n\r\n    map.on('movestart', function(e) {\r\n      marker.setLngLat(map.getCenter())\r\n    })\r\n    \r\n    map.on('move', function(e) {\r\n      marker.setLngLat(map.getCenter())\r\n    })\r\n    \r\n    map.on('moveend', function(e) {\r\n      if (map.getCenter().lng.toFixed(4) !== lng.toFixed(4) || map.getCenter().lat.toFixed(4) !== lat.toFixed(4)) {\r\n        setMapMoved(true)\r\n      }\r\n      setMapSavingIcon(false)\r\n      setMapSavingText('Save location')\r\n      marker.setLngLat(map.getCenter())\r\n    })\r\n\r\n    map.on(\"load\", () => {\r\n      setMap(map)\r\n    })\r\n\r\n    return () => map.remove()\r\n  }, [lng, lat])\r\n  \r\n  const returnToOriginalLocation = () => {\r\n    map.flyTo({\r\n      center: [lng, lat],\r\n      speed: 2,\r\n      essential: true // this animation is considered essential with respect to prefers-reduced-motion\r\n    })\r\n\r\n    setMapMoved(false)\r\n  }\r\n\r\n  const getSession = async () => {\r\n    try {\r\n      const { data } = await getCurrentUser()\r\n      if (data) {\r\n        setUser(data)\r\n      }\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const saveLocation = async () => {\r\n    try {\r\n      mapContainer.current.style.pointerEvents = 'none'\r\n      mapContainer.current.style.opacity = 0.5\r\n      setMapSaving(true)\r\n      setMapSavingText('Saving location')\r\n      await LocationFn({lng: map.getCenter().lng, lat: map.getCenter().lat})\r\n      getSession()\r\n      mapContainer.current.style.pointerEvents = 'all'\r\n      mapContainer.current.style.opacity = 1\r\n      setLng(map.getCenter().lng)\r\n      setLat(map.getCenter().lat)\r\n      setMapSaving(false)\r\n      setMapSavingIcon(<CheckOutlined />)\r\n      setMapSavingText('Saved location')\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className='user-info-header'>\r\n        <Gradient\r\n          gradients={[\r\n            ['#00a1ba', '#9cd873'],\r\n          ]}\r\n          property=\"text\"\r\n          element=\"h1\"\r\n          angle=\"45deg\"\r\n          className=\"text ant-typography\"\r\n        >\r\n          {`${editableFirstName} ${editableLasttName}`}\r\n        </Gradient>\r\n        <div className='user-score'>\r\n          <Title level={5}>User score:</Title>\r\n          <DetailedRating rating={user.rating} />\r\n        </div>\r\n      </div>\r\n      <Divider />\r\n      <Row gutter={16}>\r\n        <Col xs={10} md={12}>\r\n          <Title level={2}>User info:</Title>\r\n          <Title level={4}>First name:</Title>\r\n          <Text editable={{ onChange: setEditableFirstName }}>{editableFirstName}</Text>\r\n          <Title level={4}>Last name:</Title>\r\n          <Text editable={{ onChange: setEditableLastName }}>{editableLasttName}</Text>\r\n          <Title level={4}>Store name:</Title>\r\n          <Text editable={{ onChange: setEditableStoreName }}>{editableStoreName}</Text>\r\n          <Title level={4}>Phone number:</Title>\r\n          <Text editable={{ onChange: setEditablePhone }}>{editablePhone}</Text>\r\n        </Col>\r\n        <Col xs={14} md={12} className=\"location-container\">\r\n          {!user.location.coordinates && <Alert message=\"You won't me able to create products without saving a location\" type=\"warning\" showIcon />}\r\n          <div className=\"map-container\" ref={mapContainer} style={{height: '500px'}} />\r\n          <Space className=\"location-buttons\" style={mapMoved ? {opacity: 1, pointerEvents: 'all'} : {opacity: 0, pointerEvents: 'none'}}>\r\n            <Button type=\"primary\" shape=\"round\" size={'large'} loading={mapSaving} icon={mapSavingIcon} onClick={saveLocation}>\r\n              {mapSavingText}\r\n            </Button>\r\n            <Button danger shape=\"round\" size={'large'} onClick={returnToOriginalLocation}>\r\n              Restore location\r\n            </Button>\r\n          </Space>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Info\r\n","import axios from \"axios\"\r\n\r\nconst baseURL =\r\n  process.env.NODE_ENV === \"production\" ? \"https://rentit-project.herokuapp.com/api/rent\" : \"http://localhost:3001/api/rent\"\r\n\r\nconst _axios = axios.create({\r\n  baseURL,\r\n  withCredentials: true\r\n})\r\n\r\nexport const getAllUserRents = role => _axios.get(`/all/${role}`)\r\nexport const getRentById = rentId => _axios.get(`/${rentId}`)\r\nexport const getRentPreference = rentPreferenceInfo => _axios.post(`/preference`, rentPreferenceInfo)\r\nexport const createRent = rentInfo => _axios.post(`/`, rentInfo)\r\nexport const updateRent = rentInfo => _axios.patch(`/update`, rentInfo)","import axios from \"axios\"\r\n\r\nconst baseURL =\r\n  process.env.NODE_ENV === \"production\" ? \"https://rentit-project.herokuapp.com/api/review\" : \"http://localhost:3001/api/review\"\r\n\r\nconst _axios = axios.create({\r\n  baseURL,\r\n  withCredentials: true\r\n})\r\n\r\nexport const createReview = review => _axios.post(\"/\", review)","import { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { getAllUserRents } from '../../services/rents'\r\nimport { createReview } from '../../services/reviews'\r\nimport moment from 'moment'\r\nimport { Table, Space, Skeleton, Tabs, Popover, Button, Rate, notification } from 'antd'\r\nimport { StarOutlined } from '@ant-design/icons';\r\nimport { Gradient } from 'react-gradient'\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nconst Rents = () => {\r\n  const [rents, setRents] = useState(null)\r\n  const [tab, setTab] = useState('renter')\r\n\r\n  const getRents = async (role) => {\r\n    try {\r\n      setRents(null)\r\n      const {data} = await getAllUserRents(role)\r\n      setRents(data.rents)\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const rate = async (value, id, role) => {\r\n    try {\r\n      let review\r\n      if (role === 'product') {\r\n        review = {\r\n          productId: id,\r\n          rating: value,\r\n        }\r\n      } else {\r\n        review = {\r\n          userId: id,\r\n          rating: value,\r\n        }\r\n      }\r\n      await createReview(review)\r\n\r\n      notification['success']({\r\n        message: 'Thank you!',\r\n        description: `Your ${value} star review has been added successfully saved `,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getRents(tab)\r\n  }, [tab])\r\n\r\n  const callback = (key) => {\r\n    if (Number(key) === 1) {\r\n      setTab('renter')\r\n    } else {\r\n      setTab('owner')\r\n    }\r\n  }\r\n\r\n  const content = (id, role) => {\r\n    const desc = ['terrible', 'bad', 'normal', 'good', 'wonderful']\r\n    return <Rate tooltips={desc} onChange={(value) => rate(value, id, role)} />\r\n  }\r\n\r\n  const renderName = (value, row, index) => {\r\n    const slug = `${row.product._id}-${value.name.replace(/\\s+/g, '-').toLowerCase()}`\r\n    \r\n    if (tab === 'owner') {\r\n      return <Link to={`/product/${slug}`}>{value.name}</Link>\r\n    }\r\n    return (\r\n      <Space>\r\n        <Link to={`/product/${slug}`}>{value.name}</Link>\r\n        <Popover placement=\"topRight\" title='Rate product' content={() => content(row.product._id, 'product')} trigger=\"click\">\r\n          <Button type=\"primary\" shape=\"circle\" icon={<StarOutlined />} size=\"small\" />\r\n        </Popover>\r\n      </Space>\r\n    )\r\n  }\r\n\r\n  const renderDate = (value, row, index) => {\r\n    if (row.type === 'day') {\r\n      return moment(value).format('YYYY/MM/DD')\r\n    } else {\r\n      return moment(value).format('YYYY/MM/DD HH:00')\r\n    }\r\n  }\r\n\r\n  const renderTotal = (value, row, index) => {\r\n    let text = `$${value} for `\r\n    if (row.type === 'day') {\r\n      const time = moment(row.rentedTo).diff(moment(row.rentedFrom), 'days') + 1\r\n      return `${text} ${time} ${time > 1 ? 'days' : 'day'}`\r\n    } else {\r\n      const time = moment(row.rentedTo).diff(moment(row.rentedFrom), 'hours') + 1\r\n      return `${text} ${time} ${time > 1 ? 'hours' : 'hour'}`\r\n    }\r\n  }\r\n\r\n  const renderUserName = (value, row, index) => {\r\n    if (tab === 'owner') {\r\n      return (\r\n        <Space>\r\n          {value.firstName}\r\n          <Popover placement=\"topRight\" title='Rate renter' content={() => content(row.renter._id, 'user')} trigger=\"click\">\r\n            <Button type=\"primary\" shape=\"circle\" icon={<StarOutlined />} size=\"small\" />\r\n          </Popover>\r\n        </Space>\r\n      )\r\n    } else {\r\n      if (value.storeName) {\r\n        return (\r\n          <Space>\r\n            {value.storeName}\r\n            <Popover placement=\"topRight\" title='Rate owner' content={() => content(row.owner._id, 'user')} trigger=\"click\">\r\n              <Button type=\"primary\" shape=\"circle\" icon={<StarOutlined />} size=\"small\" />\r\n            </Popover>\r\n          </Space>\r\n        )\r\n      } else {\r\n        return (\r\n          <Space>\r\n            {value.firstName}\r\n            <Popover placement=\"topRight\" title='Rate owner' content={() => content(row.owner._id, 'user')} trigger=\"click\">\r\n              <Button type=\"primary\" shape=\"circle\" icon={<StarOutlined />} size=\"small\" />\r\n            </Popover>\r\n          </Space>\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Product',\r\n      dataIndex: 'product',\r\n      key: 'product',\r\n      render: renderName,\r\n    },\r\n    {\r\n      title: 'Rented from',\r\n      dataIndex: 'rentedFrom',\r\n      key: 'rentedFrom',\r\n      render: renderDate,\r\n    },\r\n    {\r\n      title: 'Rented to',\r\n      dataIndex: 'rentedTo',\r\n      key: 'rentedTo',\r\n      render: renderDate,\r\n    },\r\n    {\r\n      title: 'Total',\r\n      dataIndex: 'total',\r\n      key: 'total',\r\n      render: renderTotal,\r\n    },\r\n    {\r\n      title: tab === 'owner' ? 'Renter' : 'Owner',\r\n      dataIndex: tab === 'owner' ? 'renter' : 'owner',\r\n      key: tab === 'owner' ? 'renter' : 'owner',\r\n      render: renderUserName,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <div className='user-info-header'>\r\n        <Space size=\"middle\">\r\n          <Gradient\r\n            gradients={[\r\n              ['#00a1ba', '#9cd873'],\r\n            ]}\r\n            property=\"text\"\r\n            element=\"h1\"\r\n            angle=\"45deg\"\r\n            className=\"text ant-typography\"\r\n          >\r\n            Rents\r\n          </Gradient>\r\n        </Space>\r\n      </div>\r\n      <Tabs onChange={callback} type=\"card\">\r\n        <TabPane tab=\"Rented by me\" key=\"1\">\r\n          {rents ? <Table dataSource={rents} columns={columns} scroll={{ x: true }} /> : <Skeleton active />}\r\n        </TabPane>\r\n        <TabPane tab=\"Owned by me\" key=\"2\">\r\n          {rents ? <Table dataSource={rents} columns={columns} scroll={{ x: true }} /> : <Skeleton active />}\r\n        </TabPane>\r\n      </Tabs>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Rents\r\n","import axios from \"axios\"\r\n\r\nconst baseURL =\r\n  process.env.NODE_ENV === \"production\" ? \"https://rentit-project.herokuapp.com/api/question\" : \"http://localhost:3001/api/question\"\r\n\r\nconst _axios = axios.create({\r\n  baseURL,\r\n  withCredentials: true\r\n})\r\n\r\nexport const createQuestion = question => _axios.post(\"/\", question)\r\nexport const getUserQuestions = (role) => _axios.get(`/user-question/${role}`)\r\nexport const answerQuestion = (questionId, answer) => _axios.patch(`/${questionId}`, answer)","import { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { getUserQuestions, answerQuestion } from '../../services/questions'\r\nimport { Table, Space, Skeleton, Button, Tabs, Modal, Input, notification } from 'antd'\r\nimport { Gradient } from 'react-gradient'\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nconst Questions = () => {\r\n  const [questions, setQuestions] = useState(null)\r\n  const [tab, setTab] = useState('renter')\r\n  const [isModalVisible, setIsModalVisible] = useState(false)\r\n  const [currentQuestionId, setCurrentQuestionId] = useState(null)\r\n  const [currentAnswer, setCurrentAnswer] = useState('')\r\n  const [confirmLoading, setConfirmLoading] = useState(false)\r\n\r\n  const getQuestions = async (role) => {\r\n    try {\r\n      setQuestions(null)\r\n      const {data} = await getUserQuestions(role)\r\n      setQuestions(data.questions)\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getQuestions(tab)\r\n  }, [tab])\r\n\r\n  const callback = (key) => {\r\n    if (Number(key) === 1) {\r\n      setTab('renter')\r\n    } else {\r\n      setTab('owner')\r\n    }\r\n  }\r\n\r\n  const showModal = (id) => {\r\n    setIsModalVisible(true)\r\n    setCurrentQuestionId(id)\r\n  }\r\n\r\n  const handleOk = async () => {\r\n    try {\r\n      setConfirmLoading(true)\r\n      await answerQuestion(currentQuestionId, {answer: currentAnswer})\r\n      getQuestions(tab)\r\n      setCurrentQuestionId(null)\r\n      setCurrentAnswer('')\r\n      setConfirmLoading(false)\r\n      setIsModalVisible(false)\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false)\r\n    setCurrentQuestionId(null)\r\n    setCurrentAnswer('')\r\n  }\r\n\r\n  const writeAnswer = ({ target: { value } }) => {\r\n    setCurrentAnswer(value)\r\n  }\r\n\r\n  const renderName = (value, row, index) => {\r\n    const slug = `${row.product._id}-${value.name.replace(/\\s+/g, '-').toLowerCase()}`\r\n    return <Link to={`/product/${slug}`}>{value.name}</Link>\r\n  }\r\n\r\n  const renderAnswer = (value, row, index) => {\r\n    if (tab === 'owner') {\r\n      if (value) {\r\n        return value\r\n      } else {\r\n        return <Button type=\"link\" onClick={() => showModal(row._id)}>Respond</Button>\r\n      }\r\n    } else {\r\n      if (value) {\r\n        return value\r\n      } else {\r\n        return '-'\r\n      }\r\n    }\r\n  }\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Status',\r\n      dataIndex: 'status',\r\n      render: status => status === 'answered' ? 'Answered' : 'Not answered',\r\n      filters: [\r\n        {\r\n          text: 'Answered',\r\n          value: 'answered',\r\n        },\r\n        {\r\n          text: 'Not answered',\r\n          value: 'not-answered',\r\n        }\r\n      ],\r\n      // specify the condition of filtering result\r\n      // here is that finding the status started with `value`\r\n      onFilter: (value, record) => record.status.indexOf(value) === 0,\r\n      filterMultiple: false\r\n    },\r\n    {\r\n      title: 'Product',\r\n      dataIndex: 'product',\r\n      key: 'product',\r\n      render: renderName,\r\n    },\r\n    {\r\n      title: 'Question',\r\n      dataIndex: 'description',\r\n      key: 'description',\r\n      render: description => description,\r\n    },\r\n    {\r\n      title: 'Answer',\r\n      dataIndex: 'answer',\r\n      key: 'answer',\r\n      render: renderAnswer,\r\n    },\r\n    {\r\n      title: tab === 'owner' ? 'User' : 'Owner',\r\n      dataIndex: tab === 'owner' ? 'user' : 'owner',\r\n      key: tab === 'owner' ? 'user' : 'owner',\r\n      render: user => tab === 'owner' ? user.firstName : (user.storeName ? user.storeName : user.firstName),\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <>\r\n      <div className='user-info-header'>\r\n        <Space size=\"middle\">\r\n          <Gradient\r\n            gradients={[\r\n              ['#00a1ba', '#9cd873'],\r\n            ]}\r\n            property=\"text\"\r\n            element=\"h1\"\r\n            angle=\"45deg\"\r\n            className=\"text ant-typography\"\r\n          >\r\n            Questions\r\n          </Gradient>\r\n        </Space>\r\n      </div>\r\n      <Tabs onChange={callback} type=\"card\" className='questions-table'>\r\n        <TabPane tab=\"Asked by me\" key=\"1\">\r\n          {questions ? <Table columns={columns} dataSource={questions} scroll={{ x: true }} /> : <Skeleton active />}\r\n        </TabPane>\r\n        <TabPane tab=\"Asked to me\" key=\"2\">\r\n          {questions ? <Table columns={columns} dataSource={questions} scroll={{ x: true }} /> : <Skeleton active />}\r\n          <Modal\r\n            visible={isModalVisible}\r\n            onOk={handleOk}\r\n            onCancel={handleCancel}\r\n            closable={false}\r\n            confirmLoading={confirmLoading}\r\n          >\r\n            <Input.TextArea\r\n              value={currentAnswer}\r\n              onChange={writeAnswer}\r\n              maxLength={1000}\r\n              showCount={true}\r\n              autoSize={{ minRows: 2, maxRows: 4 }}\r\n            />\r\n          </Modal>\r\n        </TabPane>\r\n      </Tabs>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Questions\r\n","import { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAuthInfo } from '../../hooks/authContext'\r\nimport { getUserProducts } from '../../services/products'\r\nimport { deleteProduct } from '../../services/products'\r\nimport { Table, Space, Skeleton, Button, Tag, Popconfirm, notification } from 'antd'\r\nimport { PlusOutlined, DeleteOutlined } from '@ant-design/icons'\r\nimport { Gradient } from 'react-gradient'\r\n\r\nconst Info = () => {\r\n  const {user} = useAuthInfo()\r\n  const [products, setProducts] = useState(null)\r\n\r\n  async function getProducts() {\r\n    try {\r\n      const {data:products} = await getUserProducts(user._id, 20)\r\n      setProducts(products.products)\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  async function deleteProductAndReload(id) {\r\n    try {\r\n      await deleteProduct(id)\r\n      const {data:products} = await getUserProducts(user._id, 20)\r\n      setProducts(products.products)\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getProducts()\r\n  }, [])\r\n\r\n  const renderName = (value, row, index) => {\r\n    const slug = `${row._id}-${value.replace(/\\s+/g, '-').toLowerCase()}`\r\n    return <Link to={`/product/${slug}`}>{value}</Link>\r\n  }\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Name',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n      render: renderName,\r\n    },\r\n    {\r\n      title: 'Price hour',\r\n      dataIndex: 'priceHour',\r\n      key: 'priceHour',\r\n      render: price => `$${price}`,\r\n    },\r\n    {\r\n      title: 'Price day',\r\n      dataIndex: 'priceDay',\r\n      key: 'priceDay',\r\n      render: price => price ? `$${price}` : '-',\r\n    },\r\n    {\r\n      title: 'Category',\r\n      dataIndex: 'category',\r\n      key: 'category',\r\n      render: category => <Tag color=\"green\">{category}</Tag>\r\n    },\r\n    {\r\n      title: 'Description',\r\n      dataIndex: 'description',\r\n      key: 'description',\r\n    },\r\n    {\r\n      title: 'Rating',\r\n      dataIndex: 'rating',\r\n      key: 'rating',\r\n      render: rating => rating.total === 0 ? '-' : rating.total,\r\n    },\r\n    {\r\n      title: 'Action',\r\n      key: '_id',\r\n      align: 'center',\r\n      render: prod => {\r\n        return(\r\n          <Space size=\"middle\">\r\n            {/* <Button type=\"link\" size={'large'}>\r\n              <EditOutlined />\r\n            </Button> */}\r\n            <Popconfirm\r\n              title=\"Are you sure to delete this product?\"\r\n              placement=\"topRight\"\r\n              onConfirm={() => deleteProductAndReload(prod._id)}\r\n              okText=\"Delete\"\r\n              cancelText=\"Cancel\"\r\n            >\r\n              <Button type=\"link\" danger size={'large'}>\r\n                <DeleteOutlined />\r\n              </Button>\r\n            </Popconfirm>\r\n          </Space>\r\n        )\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <div className='user-info-header'>\r\n        <Space size=\"middle\">\r\n          <Gradient\r\n            gradients={[\r\n              ['#00a1ba', '#9cd873'],\r\n            ]}\r\n            property=\"text\"\r\n            element=\"h1\"\r\n            angle=\"45deg\"\r\n            className=\"text ant-typography\"\r\n          >\r\n            Products\r\n          </Gradient>\r\n          {user.location.coordinates ? (\r\n            <Button type=\"primary\" icon={<PlusOutlined />} size={'large'} shape=\"round\">\r\n              <Link to='/profile/products/add' style={{color: '#fff'}}>Add new</Link>\r\n            </Button>\r\n          ) : (\r\n            <Button type=\"primary\" disabled size={'large'} shape=\"round\">\r\n              Save your location to add products\r\n            </Button>\r\n          )}\r\n        </Space>\r\n      </div>\r\n      {products ? <Table dataSource={products} columns={columns} scroll={{ x: true }} /> : <Skeleton active />}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Info\r\n","import { useState } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport axios from \"axios\"\r\nimport { createProduct } from '../../services/products'\r\nimport { Form, Input, Button, Select, Row, Col, InputNumber, Space, Upload, Modal, notification } from 'antd'\r\nimport { PlusOutlined, LoadingOutlined } from '@ant-design/icons'\r\n\r\nconst { Option } = Select\r\n\r\nconst layout = {\r\n  labelCol: { span: 8 },\r\n  wrapperCol: { span: 24 },\r\n}\r\nconst tailLayout = {\r\n  wrapperCol: { offset: 0, span: 16 },\r\n}\r\n\r\nfunction getBase64(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = error => reject(error);\r\n  });\r\n}\r\n\r\nconst AddProduct = () => {\r\n  const [previewVisible, setPreviewVisible] = useState(false)\r\n  const [previewImage, setPreviewImage] = useState('')\r\n  const [previewTitle, setPreviewTitle] = useState('')\r\n  const [fileList, setFileList] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const {push} = useHistory()\r\n\r\n  const handleCancel = () => setPreviewVisible(false)\r\n\r\n  const handleUpload = async file => {\r\n    try {\r\n      const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png' || file.type === 'image/webp';\r\n      if (!isJpgOrPng) {\r\n        return (notification['error']({\r\n          message: 'Something went wrong',\r\n          description: 'You can only upload a JPG/PNG/WEBP file!',\r\n          duration: 5,\r\n          style: {\r\n            borderRadius: '20px'\r\n          }\r\n        }))\r\n      }\r\n      const isLt2M = file.size / 1024 / 1024 < 2;\r\n      if (!isLt2M) {\r\n        return (notification['error']({\r\n          message: 'Something went wrong',\r\n          description: 'Image must smaller than 2MB!',\r\n          duration: 5,\r\n          style: {\r\n            borderRadius: '20px'\r\n          }\r\n        }))\r\n      }\r\n  \r\n      const fdata = new FormData()\r\n      fdata.append(\"file\", file)\r\n      const cloudinaryApi = \"https://api.cloudinary.com/v1_1/djv6xyyqp/image/upload\"\r\n      fdata.append(\"upload_preset\", \"rentit_product\")\r\n      setLoading(true)\r\n      const { data } = await axios.post(cloudinaryApi, fdata)\r\n    \r\n      let newFileList = fileList\r\n      newFileList.push(\r\n        {\r\n          uid: data.asset_id,\r\n          name: data.original_filename,\r\n          status: 'done',\r\n          url: data.secure_url,\r\n        }\r\n      )\r\n      setFileList(newFileList)\r\n      setLoading(false)\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleDelete = (file) => {\r\n    const newFileList = fileList.filter(image => image.uid !== file.uid)\r\n    setFileList(newFileList)\r\n  }\r\n\r\n  const handlePreview = async file => {\r\n    try {\r\n      if (!file.url && !file.preview) {\r\n        file.preview = await getBase64(file.originFileObj);\r\n      }\r\n  \r\n      setPreviewImage(file.url || file.preview)\r\n      setPreviewVisible(true)\r\n      setPreviewTitle(file.name || file.url.substring(file.url.lastIndexOf('/') + 1))\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const uploadButton = (\r\n    <div>\r\n      {loading ? <LoadingOutlined /> : <PlusOutlined />}\r\n      <div style={{ marginTop: 8 }}>Upload</div>\r\n    </div>\r\n  )\r\n\r\n  const onFinish = async (values) => {\r\n    values.images = fileList.map(image => image.url)\r\n    try {\r\n      await createProduct(values)\r\n      notification['success']({\r\n        message: 'Product created!',\r\n        description: `${values.name} has been added successfully to your available rentals `,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n      push('/profile/products')\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Form\r\n      {...layout}\r\n      name=\"basic\"\r\n      initialValues={{ remember: true }}\r\n      onFinish={onFinish}\r\n      layout='vertical'\r\n    >\r\n      <Form.Item\r\n        label=\"Product name:\"\r\n        name=\"name\"\r\n        rules={[{ required: true, message: 'Please input the product name!' }]}\r\n      >\r\n        <Input size=\"large\" />\r\n      </Form.Item>\r\n\r\n      <Row gutter={6}>\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Price per hour:\"\r\n            name=\"priceHour\"\r\n            rules={[{ required: true, message: 'Please input the price per hour!' }]}\r\n          >\r\n            <InputNumber\r\n              defaultValue={1}\r\n              min={0}\r\n              formatter={value => `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n              parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n              style={{ width: '100%' }}\r\n            />\r\n          </Form.Item>  \r\n        </Col>\r\n        <Col span={12}>\r\n        <Form.Item\r\n            label=\"Price per day:\"\r\n            name=\"priceDay\"\r\n          >\r\n            <InputNumber\r\n              min={0}\r\n              formatter={value => `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n              parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n              style={{ width: '100%' }}\r\n            />\r\n          </Form.Item> \r\n        </Col>\r\n      </Row>\r\n\r\n      <Form.Item\r\n        label=\"Category\"\r\n        name=\"category\"\r\n        rules={[{ required: true, message: 'Please select a category!' }]}\r\n      >\r\n        <Select placeholder=\"Please select a category\">\r\n          <Option value=\"tools\">Tools</Option>\r\n          <Option value=\"technology\">Technology</Option>\r\n          <Option value=\"vehicles\">Vehicles</Option>\r\n          <Option value=\"sports\">Sports</Option>\r\n          <Option value=\"other\">Other</Option>\r\n        </Select>\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        name=\"description\"\r\n        label=\"Description\"\r\n        rules={[{ required: true, message: 'Please input a description!' }]}\r\n      >\r\n        <Input.TextArea\r\n          maxLength={2000}\r\n          showCount={true}\r\n          autoSize={{ minRows: 3, maxRows: 8 }}\r\n        />\r\n      </Form.Item>\r\n\r\n      <Upload\r\n        listType=\"picture-card\"\r\n        fileList={fileList}\r\n        beforeUpload={handleUpload}\r\n        onPreview={handlePreview}\r\n        method='get'\r\n        onRemove={handleDelete}\r\n      >\r\n        {fileList.length >= 8 ? null : uploadButton}\r\n      </Upload>\r\n      <Modal\r\n        visible={previewVisible}\r\n        title={previewTitle}\r\n        footer={null}\r\n        onCancel={handleCancel}\r\n      >\r\n        <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n      </Modal>\r\n\r\n      <Form.Item {...tailLayout}>\r\n        <Space size=\"middle\">\r\n          <Button type=\"primary\" htmlType=\"submit\" size={'large'} shape=\"round\">\r\n            Create\r\n          </Button>\r\n          <Button danger size={'large'} shape=\"round\">\r\n            <Link to='/profile/products/'>Cancel</Link>\r\n          </Button>\r\n        </Space>\r\n      </Form.Item>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default AddProduct\r\n","import { useState } from 'react'\r\nimport { Switch, Route, useRouteMatch, Link } from 'react-router-dom'\r\nimport { updateAvatar, getCurrentUser } from \"../services/auth\"\r\nimport axios from \"axios\"\r\nimport Info from './profile-subroutes/Info'\r\nimport Rents from './profile-subroutes/Rents'\r\nimport Questions from './profile-subroutes/Questions'\r\nimport Products from './profile-subroutes/Products'\r\nimport AddProduct from './profile-subroutes/AddProduct'\r\nimport { useAuthInfo } from '../hooks/authContext'\r\nimport { Row, Col, Avatar, List, Button, Upload, message, notification } from 'antd'\r\nimport { UploadOutlined } from '@ant-design/icons';\r\n\r\n\r\nconst Profile = () => {\r\n  const {path} = useRouteMatch()\r\n  const {user} = useAuthInfo()\r\n  const {setUser} = useAuthInfo()\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const sideMenu = [\r\n    {title: 'User info', link: path},\r\n    {title: 'My rents', link: `${path}/rents`},\r\n    {title: 'My questions', link: `${path}/questions`},\r\n    {title: 'My products', link: `${path}/products`}\r\n  ]\r\n\r\n  const handleUpload = async file => {\r\n    try {\r\n      setLoading(true)\r\n      const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png' || file.type === 'image/webp';\r\n      if (!isJpgOrPng) {\r\n        return (notification['error']({\r\n          message: 'Something went wrong',\r\n          description: 'You can only upload a JPG/PNG/WEBP file!',\r\n          duration: 5,\r\n          style: {\r\n            borderRadius: '20px'\r\n          }\r\n        }))\r\n      }\r\n      const isLt2M = file.size / 1024 / 1024 < 2;\r\n      if (!isLt2M) {\r\n        return (notification['error']({\r\n          message: 'Something went wrong',\r\n          description: 'Image must smaller than 2MB!',\r\n          duration: 5,\r\n          style: {\r\n            borderRadius: '20px'\r\n          }\r\n        }))\r\n      }\r\n\r\n      const fdata = new FormData()\r\n      fdata.append(\"file\", file)\r\n      const cloudinaryApi = \"https://api.cloudinary.com/v1_1/djv6xyyqp/image/upload\"\r\n      fdata.append(\"upload_preset\", \"rentit_avatar\")\r\n      const { data } = await axios.post(cloudinaryApi, fdata)\r\n      await updateAvatar({avatar: data.secure_url})\r\n      getSession()\r\n      setLoading(false)\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n  \r\n  const getSession = async () => {\r\n    try {\r\n      const { data } = await getCurrentUser()\r\n      if (data) {\r\n        setUser(data)\r\n      }\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Row gutter={[16, 16]} justify=\"center\" className=\"main-row profile-row\">\r\n      <Col xs={24} md={8} xl={6}>\r\n        <div className='profile-cont side-menu-cont'>\r\n          {user.avatar ? (\r\n            <div className='avatar-container'>\r\n              <Avatar\r\n                size={150}\r\n                src={user.avatar}\r\n                style={{cursor: 'pointer'}}\r\n              />\r\n              <Upload\r\n                name='avatar'\r\n                showUploadList={false}\r\n                beforeUpload={handleUpload}\r\n                className='upload-cont'\r\n              >\r\n                <Button icon={<UploadOutlined />} shape=\"circle\" loading={loading} />\r\n              </Upload>\r\n            </div>\r\n          ) : (\r\n            <div className='avatar-container'>\r\n              <Avatar\r\n                size={150}\r\n                style={{\r\n                  background: 'linear-gradient(45deg, rgba(0,161,186,1) 0%, rgba(156,216,115,1) 100%)',\r\n                }}\r\n              >\r\n                {`${user.firstName[0]}${user.lastName[0]}`}\r\n              </Avatar>\r\n              <Upload\r\n                name='avatar'\r\n                showUploadList={false}\r\n                beforeUpload={handleUpload}\r\n                className='upload-cont'\r\n              >\r\n                <Button icon={<UploadOutlined />} shape=\"circle\" loading={loading} />\r\n              </Upload>\r\n            </div>\r\n          )}\r\n          <List\r\n            size=\"small\"\r\n            dataSource={sideMenu}\r\n            renderItem={item => (\r\n              <List.Item>\r\n                <Button type=\"text\" size=\"large\">\r\n                  <Link to={item.link}>{item.title}</Link>\r\n                </Button>\r\n              </List.Item>\r\n            )}\r\n          />\r\n        </div>\r\n      </Col>\r\n      <Col xs={24} md={16} xl={14}>\r\n        <div className='profile-cont info-cont'>\r\n          <Switch>\r\n            <Route component={Info} path={path} exact />\r\n            <Route component={Rents} path={`${path}/rents`} />\r\n            <Route component={Questions} path={`${path}/questions`} />\r\n            <Route component={Products} path={`${path}/products`} exact />\r\n            <Route component={AddProduct} path={`${path}/products/add`} />\r\n          </Switch>\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Profile\r\n","import { useState, useEffect, useRef } from 'react'\r\nimport { useParams, Link } from 'react-router-dom'\r\nimport { useAuthInfo } from '../hooks/authContext'\r\nimport { getProductsByQuery } from '../services/products'\r\nimport ProductCard from '../components/ProductCard'\r\nimport mapboxgl from 'mapbox-gl'\r\nimport 'mapbox-gl/dist/mapbox-gl.css'\r\nimport MapboxGeocoder from '@mapbox/mapbox-gl-geocoder'\r\nimport '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css'\r\nimport { Collapse, Row, Col, Skeleton, Empty, Slider, Typography, Button, notification } from 'antd'\r\n\r\nconst { Panel } = Collapse\r\nconst { Title } = Typography\r\n\r\n//mapboxgl.accessToken = process.env.REACT_APP_MAPBOX_KEY\r\nmapboxgl.accessToken = 'pk.eyJ1IjoianVhbmJhdGtpcyIsImEiOiJja2xlMDJ1Y240ZHR1Mnd1aTVqOGIxdWpyIn0.GQOtc1ghwfAhcaavE_Z3yA'\r\n// eslint-disable-next-line import/no-webpack-loader-syntax\r\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\r\n\r\nconst Products = () => {\r\n  const {user} = useAuthInfo()\r\n  const { category } = useParams()\r\n  const [receivedProducts, setReceivedProducts] = useState(null)\r\n  const mapContainer = useRef()\r\n  const [map, setMap] = useState(null)\r\n  const [lng, setLng] = useState(user && user.location.coordinates ? user.location.coordinates[0] : -58.401947)\r\n  const [lat, setLat] = useState(user && user.location.coordinates ? user.location.coordinates[1] : -34.595134)\r\n  const [radius, setRadius] = useState(1)\r\n  const [collapseOpen, setCollapseOpen] = useState(true)\r\n  const [collapseText, setCollapseText] = useState(<h3>Colse map</h3>)\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  async function getProducts(longitude, latitude, givenRadius) {\r\n    try {\r\n      setLoading(true)\r\n      const query = {\r\n        limit: 30,\r\n        category: category,\r\n        center: [longitude, latitude],\r\n        radius: givenRadius\r\n      }\r\n      const {data:products} = await getProductsByQuery(query)\r\n      setReceivedProducts(products.products)\r\n      setLoading(false)\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getProducts(lng, lat, radius)\r\n  }, [category])\r\n\r\n  useEffect(() => {\r\n    const map = new mapboxgl.Map({\r\n      container: mapContainer.current,\r\n      style: 'mapbox://styles/mapbox/streets-v11',\r\n      center: [lng, lat],\r\n      zoom: 12\r\n    })\r\n\r\n    const geocoder = new MapboxGeocoder({\r\n      accessToken: mapboxgl.accessToken,\r\n      mapboxgl: mapboxgl,\r\n      marker: false,\r\n      flyTo: {\r\n        speed: 2\r\n      }\r\n    })\r\n\r\n    map.addControl(geocoder)\r\n\r\n    // Add zoom and rotation controls to the map.\r\n    map.addControl(new mapboxgl.NavigationControl())\r\n\r\n    // Add geolocate control to the map.\r\n    map.addControl(\r\n      new mapboxgl.GeolocateControl({\r\n        positionOptions: {\r\n          enableHighAccuracy: true\r\n        },\r\n        showAccuracyCircle: false,\r\n        showUserLocation: false\r\n      })\r\n    )\r\n\r\n    const marker = new mapboxgl.Marker({\r\n      draggable: false\r\n    })\r\n      .setLngLat([lng, lat])\r\n      .addTo(map)\r\n\r\n    map.on('movestart', function(e) {\r\n      marker.setLngLat(map.getCenter())\r\n      map.getSource('polygon').setData(createGeoJSONCircle([map.getCenter().lng, map.getCenter().lat], radius, false))\r\n    })\r\n\r\n    map.on('move', function(e) {\r\n      marker.setLngLat(map.getCenter())\r\n      map.getSource('polygon').setData(createGeoJSONCircle([map.getCenter().lng, map.getCenter().lat], radius, false))\r\n    })\r\n\r\n    map.on('moveend', function(e) {\r\n      marker.setLngLat(map.getCenter())\r\n      map.getSource('polygon').setData(createGeoJSONCircle([map.getCenter().lng, map.getCenter().lat], radius, false))\r\n      getProducts(map.getCenter().lng, map.getCenter().lat, radius)\r\n      updateLocation(map.getCenter().lng, map.getCenter().lat)\r\n      setMap(map)\r\n    })\r\n\r\n    map.on(\"load\", () => {\r\n      setMap(map)\r\n    })\r\n\r\n    map.on('load', function () {\r\n      map.addSource(\"polygon\", createGeoJSONCircle([map.getCenter().lng, map.getCenter().lat], radius, true));\r\n\r\n      map.addLayer({\r\n          \"id\": \"polygon\",\r\n          \"type\": \"fill\",\r\n          \"source\": \"polygon\",\r\n          \"layout\": {},\r\n          \"paint\": {\r\n              \"fill-color\": \"#5dbe8c\",\r\n              \"fill-opacity\": 0.5\r\n          }\r\n      })\r\n    })\r\n    return () => map.remove()\r\n  }, [])\r\n  //[lng, lat, radius]\r\n\r\n  const createGeoJSONCircle = (center, radiusInKm, isFirstDraw, points) => {\r\n    if(!points) points = 64;\r\n\r\n    const coords = {\r\n      latitude: center[1],\r\n      longitude: center[0]\r\n    }\r\n\r\n    const km = radiusInKm\r\n\r\n    let ret = []\r\n    const distanceX = km/(111.320*Math.cos(coords.latitude*Math.PI/180))\r\n    const distanceY = km/110.574\r\n\r\n    let theta, x, y\r\n    for(let i=0; i<points; i++) {\r\n      theta = (i/points)*(2*Math.PI)\r\n      x = distanceX*Math.cos(theta)\r\n      y = distanceY*Math.sin(theta)\r\n\r\n      ret.push([coords.longitude+x, coords.latitude+y])\r\n    }\r\n    ret.push(ret[0])\r\n\r\n    if (isFirstDraw) {\r\n      return {\r\n        \"type\": \"geojson\",\r\n        \"data\": {\r\n          \"type\": \"FeatureCollection\",\r\n          \"features\": [{\r\n            \"type\": \"Feature\",\r\n            \"geometry\": {\r\n              \"type\": \"Polygon\",\r\n              \"coordinates\": [ret]\r\n            }\r\n          }]\r\n        }\r\n      }\r\n    } else {\r\n      return {\r\n        \"type\": \"FeatureCollection\",\r\n        \"features\": [{\r\n          \"type\": \"Feature\",\r\n          \"geometry\": {\r\n            \"type\": \"Polygon\",\r\n            \"coordinates\": [ret]\r\n          }\r\n        }]\r\n      }\r\n    }\r\n  }\r\n\r\n  const changeCollapseState = () => {\r\n    if (collapseOpen) {\r\n      setCollapseText(<h3>Open map</h3>)\r\n      setCollapseOpen(false)\r\n    } else {\r\n      setCollapseText(<h3>Close map</h3>)\r\n      setCollapseOpen(true)\r\n    }\r\n  }\r\n\r\n  const updateLocation = (longitude, latitude) => {\r\n    setLng(longitude)\r\n    setLat(latitude)\r\n  }\r\n\r\n  const kmSliderRadius = value => {\r\n    setRadius(value)\r\n    map.getSource('polygon').setData(createGeoJSONCircle([map.getCenter().lng, map.getCenter().lat], value, false))\r\n  }\r\n\r\n  const kmSliderSearch = value => {\r\n    setRadius(value)\r\n    getProducts(lng, lat, value)\r\n  }\r\n\r\n  return (\r\n    <Row className='store-container'>\r\n      <Col span={24}>\r\n        <Collapse defaultActiveKey={['1']} bordered={false} ghost onChange={changeCollapseState}>\r\n          <Panel header={collapseText} key=\"1\">\r\n            <div className=\"map-container\" ref={mapContainer} style={{height: '400px'}} />\r\n          </Panel>\r\n        </Collapse>\r\n      </Col>\r\n      <Col span={24}>\r\n        <Row wrap={false}>\r\n          <Col flex=\"220px\" className='filters-col'>\r\n            <Title level={3}>Radius</Title>\r\n            <Slider\r\n              min={0.5}\r\n              max={20}\r\n              onChange={kmSliderRadius}\r\n              onAfterChange={kmSliderSearch}\r\n              value={radius}\r\n              step={0.5}\r\n              tipFormatter={(value) => `${value}km`}\r\n            />\r\n            <Title level={3}>Categories</Title>\r\n            <Button type='text'><Link to='/products/all'>All</Link></Button>\r\n            <Button type='text'><Link to='/products/tools'>Tools</Link></Button>\r\n            <Button type='text'><Link to='/products/technology'>Technology</Link></Button>\r\n            <Button type='text'><Link to='/products/vehicles'>Vehicles</Link></Button>\r\n            <Button type='text'><Link to='/products/sports'>Sports</Link></Button>\r\n            <Button type='text'><Link to='/products/other'>Other</Link></Button>\r\n          </Col>\r\n          <Col flex=\"auto\">\r\n            <Row gutter={[16, 16]} style={{padding: '20px'}} id='latest-prods'>\r\n              {!receivedProducts || loading ? (\r\n                <Skeleton active />\r\n              ) : (receivedProducts.length === 0 ? (\r\n                <Empty description={<p>Sorry, it seems like there are no products here</p>} />\r\n              ) : receivedProducts.map(product => (\r\n                <ProductCard product={product} />\r\n              )))}\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Products\r\n","import { useState, useEffect, useRef } from 'react'\r\nimport { useParams, Link } from 'react-router-dom'\r\nimport { getProductById } from '../services/products'\r\nimport { getRentPreference, createRent } from '../services/rents'\r\nimport { createQuestion } from '../services/questions'\r\nimport mapboxgl from 'mapbox-gl'\r\nimport 'mapbox-gl/dist/mapbox-gl.css'\r\nimport { Typography, Col, Row, Carousel, Button, Skeleton, Tag, Divider, DatePicker, Descriptions, Form, Input, notification, Comment, Tooltip } from 'antd'\r\nimport { RightOutlined } from '@ant-design/icons'\r\nimport moment from 'moment'\r\nimport { Gradient } from 'react-gradient'\r\nimport DetailedRating from '../components/DetailedRating'\r\n\r\nconst { Title, Text, Paragraph } = Typography;\r\nconst { RangePicker } = DatePicker\r\n\r\n//mapboxgl.accessToken = process.env.REACT_APP_MAPBOX_KEY\r\nmapboxgl.accessToken = 'pk.eyJ1IjoianVhbmJhdGtpcyIsImEiOiJja2xlMDJ1Y240ZHR1Mnd1aTVqOGIxdWpyIn0.GQOtc1ghwfAhcaavE_Z3yA'\r\n// eslint-disable-next-line import/no-webpack-loader-syntax\r\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\r\n\r\nconst Product = () => {\r\n  const { id } = useParams()\r\n  const buyButtonRef = useRef()\r\n  const [product, setProduct] = useState(null)\r\n  const [questions, setQuestions] = useState([])\r\n  const [form] = Form.useForm()\r\n  const [questionLoading, setQuestionLoading] = useState(false)\r\n  const [hoursDisabled, setHoursDisabled] = useState(false)\r\n  const [daysDisabled, setDaysDisabled] = useState(false)\r\n  const [time, setTime] = useState(null)\r\n  const [rentedFrom, setRentedFrom] = useState(null)\r\n  const [rentedTo, setRentedTo] = useState(null)\r\n  const [total, setTotal] = useState(0)\r\n  const [rentVisible, setRentVisible] = useState(false)\r\n  const [preferenceId, setPreferenceId] = useState(null)\r\n\r\n  const mapContainer = useRef()\r\n  const [lng, setLng] = useState(0)\r\n  const [lat, setLat] = useState(0)\r\n\r\n  useEffect(() => {\r\n    async function getProducts() {\r\n      try {\r\n        const cleanId = id.split('-')[0]\r\n        const {data:product} = await getProductById(cleanId)\r\n        setProduct(product)\r\n        setQuestions(product.questions.reverse())\r\n        setLng(product.owner.location.coordinates[0])\r\n        setLat(product.owner.location.coordinates[1])\r\n      } catch(error) {\r\n        notification['error']({\r\n          message: 'Something went wrong',\r\n          description: error.response.data.message,\r\n          duration: 5,\r\n          style: {\r\n            borderRadius: '20px'\r\n          }\r\n        })\r\n      }\r\n    }\r\n    getProducts()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (lng && lat) {\r\n      const map = new mapboxgl.Map({\r\n        container: mapContainer.current,\r\n        style: 'mapbox://styles/mapbox/streets-v11',\r\n        center: [lng, lat],\r\n        zoom: 12\r\n      })\r\n  \r\n      // Add zoom and rotation controls to the map.\r\n      map.addControl(new mapboxgl.NavigationControl())\r\n\r\n      map.on('load', function () {\r\n        map.addSource(\"polygon\", createGeoJSONCircle([lng, lat], 0.8));\r\n  \r\n        map.addLayer({\r\n            \"id\": \"polygon\",\r\n            \"type\": \"fill\",\r\n            \"source\": \"polygon\",\r\n            \"layout\": {},\r\n            \"paint\": {\r\n                \"fill-color\": \"#5dbe8c\",\r\n                \"fill-opacity\": 0.5\r\n            }\r\n        })\r\n      })\r\n  \r\n      return () => map.remove()\r\n    }\r\n  }, [lng, lat])\r\n\r\n  const createGeoJSONCircle = (center, radiusInKm, points) => {\r\n    if(!points) points = 64;\r\n\r\n    const coords = {\r\n      latitude: center[1],\r\n      longitude: center[0]\r\n    }\r\n\r\n    const km = radiusInKm\r\n\r\n    let ret = []\r\n    const distanceX = km/(111.320*Math.cos(coords.latitude*Math.PI/180))\r\n    const distanceY = km/110.574\r\n\r\n    let theta, x, y\r\n    for(let i=0; i<points; i++) {\r\n      theta = (i/points)*(2*Math.PI)\r\n      x = distanceX*Math.cos(theta)\r\n      y = distanceY*Math.sin(theta)\r\n\r\n      ret.push([coords.longitude+x, coords.latitude+y])\r\n    }\r\n    ret.push(ret[0])\r\n\r\n    return {\r\n      \"type\": \"geojson\",\r\n      \"data\": {\r\n        \"type\": \"FeatureCollection\",\r\n        \"features\": [{\r\n          \"type\": \"Feature\",\r\n          \"geometry\": {\r\n            \"type\": \"Polygon\",\r\n            \"coordinates\": [ret]\r\n          }\r\n        }]\r\n      }\r\n    }\r\n  }\r\n\r\n  const onChange = (value, dateString, input) => {\r\n    if (input === 'hours') {\r\n      setHoursDisabled(false)\r\n      setDaysDisabled(true)\r\n    } else {\r\n      setHoursDisabled(true)\r\n      setDaysDisabled(false)\r\n    }\r\n\r\n    if (!value) {\r\n      setHoursDisabled(false)\r\n      setDaysDisabled(false)\r\n      setTime(null)\r\n      setRentVisible(false)\r\n      return\r\n    }\r\n\r\n    if (input === 'hours') {\r\n      const currentTime = value[1].diff(value[0], 'hours') + 1\r\n      setTime(currentTime)\r\n      setRentedFrom(value[0])\r\n      setRentedTo(value[1])\r\n      setRentVisible(true)\r\n      setTotal(currentTime * product.priceHour)\r\n      createPreference(product._id, product.name, currentTime * product.priceHour, currentTime > 1 ? `for ${currentTime} hours` : `for ${currentTime} hour`)\r\n    } else {\r\n      const currentTime = value[1].diff(value[0], 'days') + 1\r\n      setTime(currentTime)\r\n      setRentedFrom(value[0])\r\n      setRentedTo(value[1])\r\n      setRentVisible(true)\r\n      setTotal(currentTime * product.priceDay)\r\n      createPreference(product._id, product.name, currentTime * product.priceDay, currentTime > 1 ? `for ${currentTime} days` : `for ${currentTime} day`)\r\n    }\r\n  }\r\n\r\n  const createPreference = async (productId, productName, total, time) => {\r\n    try {\r\n      const rentPreferenceInfo = { productId, productName, total, time }\r\n      const {data} = await getRentPreference(rentPreferenceInfo)\r\n  \r\n      const script = document.createElement(\"script\")\r\n      script.src = \"https://www.mercadopago.com.ar/integrations/v1/web-payment-checkout.js\"\r\n      script.setAttribute(\"data-preference-id\", data.preferenceId)\r\n      script.setAttribute(\"data-button-label\", \"Rent\")\r\n  \r\n      setPreferenceId(data.preferenceId)\r\n  \r\n      if (buyButtonRef.current) {\r\n        buyButtonRef.current.innerHTML = ''\r\n        buyButtonRef.current.appendChild(script)\r\n      }\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: 'You must be logged in to continue with this rent',\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const clickedCreateRent = async () => {\r\n    try {\r\n      let type\r\n      if (!hoursDisabled) {\r\n        type = 'hour'\r\n      } else {\r\n        type = 'day'\r\n      }\r\n  \r\n      const rentInfo = {\r\n        product: product._id,\r\n        owner: product.owner._id,\r\n        total,\r\n        rentedFrom: rentedFrom.toDate(),\r\n        rentedTo: rentedTo.toDate(),\r\n        type,\r\n        preferenceId\r\n      }\r\n  \r\n      await createRent(rentInfo)\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const disabledDate = (current) => {\r\n    // Can not select days before today and today\r\n    return current < moment().startOf('day');\r\n  }\r\n\r\n  const handleQuestionSubmit = async (question) => {\r\n    setQuestionLoading(true)\r\n    const data = {\r\n      product: product._id,\r\n      owner: product.owner,\r\n      description: question.question\r\n    }\r\n    try {\r\n      await createQuestion(data)\r\n      setQuestions([data, ...questions])\r\n      setQuestionLoading(false)\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n      setQuestionLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='product-cont'>\r\n      <Row gutter={[18, 18]} justify=\"center\" className='product-row'>\r\n        <Col span={14}>\r\n          {product ? (\r\n            <Carousel>\r\n              {product.images.map(image =>(\r\n                <img alt=\"product\" src={image} className='slider-image' />\r\n              ))}\r\n            </Carousel>\r\n          ) : (\r\n            <Skeleton.Image className='image-skeleton' />\r\n          )}\r\n        </Col>\r\n        <Col span={10}>\r\n          {product ? (\r\n            <>\r\n              <div className='product-breadcrumbs'>\r\n                <Tag><Link to='/products/all'>products</Link></Tag>\r\n                <RightOutlined />\r\n                <Tag><Link to={`/products/${product.category}`}>{product.category}</Link></Tag>\r\n              </div>\r\n              <Gradient\r\n                  gradients={[\r\n                    ['#00a1ba', '#9cd873'],\r\n                  ]}\r\n                  property=\"text\"\r\n                  element=\"h1\"\r\n                  angle=\"45deg\"\r\n                  className=\"text ant-typography\"\r\n                >\r\n                  {product.name}\r\n              </Gradient>\r\n              <DetailedRating rating={product.rating} />\r\n              <Divider dashed />\r\n              <section id='price-cont'>\r\n                <Title level={2} style={{display: 'inline-block'}}>${product.priceHour}</Title><Text>/hr</Text>\r\n                <br/>\r\n                <RangePicker\r\n                  showTime={{ format: 'HH' }}\r\n                  format=\"YYYY/MM/DD HH:00\"\r\n                  onChange={(value, dateString) => onChange(value, dateString, 'hours')}\r\n                  disabledDate={disabledDate}\r\n                  disabled={hoursDisabled}\r\n                />\r\n                {product.priceDay && (\r\n                  <>\r\n                    <Title level={4} style={{marginTop: 0}}>or</Title>\r\n                    <Title level={2} style={{display: 'inline-block', marginTop: 0}}>${product.priceDay}</Title><Text>/day</Text>\r\n                    <br/>\r\n                    <RangePicker\r\n                      format=\"YYYY/MM/DD\"\r\n                      onChange={(value, dateString) => onChange(value, dateString, 'days')}\r\n                      disabledDate={disabledDate}\r\n                      disabled={daysDisabled}\r\n                    />\r\n                  </>\r\n                )}\r\n                {rentVisible ? (\r\n                  <>\r\n                    <div className='total-container'>\r\n                      <Title level={2}>Total: ${total} </Title>\r\n                      {!hoursDisabled ? (\r\n                        <Text>{time > 1 ? `(${time} hours)` : `(${time} hour)`}</Text>\r\n                      ) : (\r\n                        <Text>{time > 1 ? `(${time} days)` : `(${time} day)`}</Text>\r\n                      )}\r\n                    </div>\r\n                    <div ref={buyButtonRef} className='mp-bttn-container' onClick={clickedCreateRent}></div>\r\n                  </>\r\n                ) : (\r\n                  <Tooltip placement=\"topLeft\" title={<span>Please select your time period for the rental</span>}>\r\n                    <Gradient\r\n                      gradients={[\r\n                        ['#00a1ba', '#9cd873'],\r\n                      ]}\r\n                      property=\"background\"\r\n                      element=\"button\"\r\n                      angle=\"45deg\"\r\n                      className=\"add-rent add-rent-disabled ant-btn ant-btn-primary ant-btn-round ant-btn-lg\"\r\n                    >\r\n                      Rent\r\n                    </Gradient>\r\n                  </Tooltip>\r\n                )}\r\n              </section>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Skeleton.Button active size='small' shape='round' />\r\n              <Skeleton.Button active size='small' shape='round' />\r\n              <br/>\r\n              <Skeleton.Input style={{ width: 300, marginTop: '10px', marginBottom: '40px' }} active size='large' />\r\n              <Skeleton active />\r\n            </>\r\n          )}\r\n        </Col>\r\n        {product && (\r\n          <Col span={20}>\r\n            <Divider />\r\n            <Gradient\r\n                gradients={[\r\n                  ['#00a1ba', '#9cd873'],\r\n                ]}\r\n                property=\"text\"\r\n                element=\"h2\"\r\n                angle=\"45deg\"\r\n                className=\"ant-typography\"\r\n              >\r\n                About\r\n            </Gradient>\r\n            <Title level={4}>Description</Title>\r\n            <Paragraph>{product.description}</Paragraph>\r\n            <Title level={4}>Owner</Title>\r\n            <Descriptions bordered>\r\n              {product.owner.storeName ? (\r\n                <Descriptions.Item label=\"Store name\" span={3}>{product.owner.storeName}</Descriptions.Item>\r\n              ) : (\r\n                <Descriptions.Item label=\"Name\" span={3}>{product.owner.firstName}</Descriptions.Item>\r\n              )}\r\n              <Descriptions.Item label=\"Owner rating\" span={3}>\r\n                <DetailedRating rating={product.owner.rating} />\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"Location\" span={3}>\r\n                <div className=\"map-container\" ref={mapContainer} style={{height: '300px'}} />\r\n              </Descriptions.Item>\r\n            </Descriptions>\r\n            <Divider />\r\n            <Gradient\r\n                gradients={[\r\n                  ['#00a1ba', '#9cd873'],\r\n                ]}\r\n                property=\"text\"\r\n                element=\"h2\"\r\n                angle=\"45deg\"\r\n                className=\"ant-typography\"\r\n              >\r\n                Questions\r\n            </Gradient>\r\n            <Form form={form} onFinish={handleQuestionSubmit} layout='vertical' className='question-form'>\r\n              <Title level={4}>Ask something</Title>\r\n              <Form.Item\r\n                name=\"question\"\r\n              >\r\n                <Input.TextArea\r\n                  maxLength={1000}\r\n                  showCount={true}\r\n                  autoSize={{ minRows: 2, maxRows: 4 }}\r\n                />\r\n              </Form.Item>\r\n              <Button type='primary' htmlType='submit' size='large' shape=\"round\" loading={questionLoading}>\r\n                Ask\r\n              </Button>\r\n            </Form>\r\n            <Title level={4}>Previously asked</Title>\r\n            {questions.length > 0 ? questions.map( singleQuestion => (\r\n              <Comment\r\n                content={<p style={{fontSize: '1.2em'}}>{singleQuestion.description}</p>}\r\n              >\r\n                {singleQuestion.answer && (\r\n                  <Comment\r\n                    content={<p>{singleQuestion.answer}</p>}\r\n                  />\r\n                )}\r\n              </Comment>\r\n            )) : (\r\n              <Paragraph>No questions yet. Be the first one to ask!</Paragraph>\r\n            )}\r\n          </Col>\r\n        )}\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Product\r\n","import { useState, useEffect } from 'react'\r\nimport { useLocation, Link } from 'react-router-dom'\r\nimport { updateRent } from \"../services/rents\"\r\nimport { Col, Row, Button, Typography, Spin, notification } from 'antd'\r\nimport { LoadingOutlined, CheckOutlined } from '@ant-design/icons'\r\nimport { Gradient } from 'react-gradient'\r\n\r\nconst { Paragraph, Title } = Typography;\r\n\r\nconst antIcon = <LoadingOutlined style={{ fontSize: 40, color: '#5dbe8c' }} spin />\r\n\r\nconst PaymentSuccess = () => {\r\n  const [loading, setLoading] = useState(true)\r\n  const [rent, setRent] = useState(null)\r\n\r\n  const useQuery = () => new URLSearchParams(useLocation().search)\r\n  const preference_id = useQuery().get('preference_id')\r\n  \r\n  const updateGivenRent = async (preferenceId) => {\r\n    try {\r\n      const { data } = await updateRent({preferenceId, status: 'in-progress'})\r\n      setRent(data)\r\n      setLoading(false)\r\n    } catch (error) {\r\n      notification['error']({\r\n        message: 'Something went wrong',\r\n        description: error.response.data.message,\r\n        duration: 5,\r\n        style: {\r\n          borderRadius: '20px'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    updateGivenRent(preference_id)\r\n  }, [])\r\n\r\n  return (\r\n    <Row justify=\"center\" align=\"middle\" className=\"main-row auth-cont success-page\">\r\n      <Col xs={22} sm={18} md={14} lg={10} xl={8} xxl={6}>\r\n        <div>\r\n          {loading || !rent ? (\r\n            <div style={{display: 'flex', justifyContent: 'center'}}>\r\n              <Spin indicator={antIcon} />\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <Gradient\r\n                gradients={[\r\n                  ['#00a1ba', '#9cd873'],\r\n                ]}\r\n                property=\"background\"\r\n                element=\"span\"\r\n                angle=\"45deg\"\r\n                className=\"text ant-typography check-cont\"\r\n              >\r\n                <CheckOutlined />\r\n              </Gradient>\r\n              <Title level={2}>Thank you for your rent!</Title>\r\n              <Paragraph>\r\n                Your rent for {rent.product.name} has successfully started!\r\n              </Paragraph>\r\n              <Paragraph>\r\n                You can view more info in your profile page\r\n              </Paragraph>\r\n              <div style={{display: 'flex', justifyContent: 'center'}}>\r\n                <Button type=\"primary\" size={'large'} shape=\"round\" style={{height: 'auto', padding: '6px 30px'}}>\r\n                  <Link to='/profile/rents' style={{color: '#fff', fontSize: '1.5em'}}>More info</Link>\r\n                </Button>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default PaymentSuccess\r\n","import {BrowserRouter, Switch, Route} from 'react-router-dom'\r\nimport LayoutApp from './components/LayoutApp'\r\nimport PrivateRoute from './components/PrivateRoute'\r\nimport LoggedOutRoute from './components/LoggedOutRoute'\r\nimport Home from './pages/Home'\r\nimport Login from './pages/Login'\r\nimport Signup from './pages/Signup'\r\nimport Activate from './pages/Activate'\r\nimport Profile from './pages/Profile'\r\nimport Products from './pages/Products'\r\nimport Product from './pages/Product'\r\nimport PaymentSuccess from './pages/PaymentSuccess'\r\n\r\nfunction Router() {\r\n  return (\r\n    <BrowserRouter>\r\n      <LayoutApp>\r\n        <Switch>\r\n          <Route component={Home} path='/' exact/>\r\n          <LoggedOutRoute component={Login} path='/login'/>\r\n          <LoggedOutRoute component={Signup} path='/signup'/>\r\n          <LoggedOutRoute component={Activate} path='/activate/:id'/>\r\n          <PrivateRoute component={Profile} path='/profile'/>\r\n          <Route component={Products} path='/products/:category'/>\r\n          <Route component={Product} path='/product/:id'/>\r\n          <Route component={PaymentSuccess} path='/success'/>\r\n        </Switch>\r\n      </LayoutApp>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\nexport default Router","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport reportWebVitals from './reportWebVitals'\nimport Router from './Router'\nimport 'antd/dist/antd.css'\nimport './index.scss'\nimport './styles/home.scss'\nimport './styles/auth.scss'\nimport './styles/profile.scss'\nimport './styles/products.scss'\nimport './styles/product.scss'\nimport { AuthProvider } from './hooks/authContext'\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthProvider>\n      <Router />\n    </AuthProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}